{
  "comments": [
    {
      "key": {
        "uuid": "0334e96c_83a6b716",
        "filename": "Makefile",
        "patchSetId": 20
      },
      "lineNbr": 493,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-25T03:01:44Z",
      "side": 1,
      "message": "Without this, there will be \"undefined reference to vb2api_fail\" error for vb2_hash_verify(). However, vb2_hash_verify() only uses the 1-arg form of VB2_TRY, which shouldn\u0027t call vb2api_fail() in any case. I\u0027m not sure why the compiler optimization doesn\u0027t work here (emerge coreboot).",
      "revId": "d0e249bab13d489bd84fb8cbc2fefefc0e387546",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c78d809f_e6097973",
        "filename": "Makefile",
        "patchSetId": 20
      },
      "lineNbr": 493,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-03-25T22:43:08Z",
      "side": 1,
      "message": "Hmm... are you sure? I can\u0027t repro this. Which target are you building for?",
      "parentUuid": "0334e96c_83a6b716",
      "revId": "d0e249bab13d489bd84fb8cbc2fefefc0e387546",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3740290_11d13c60",
        "filename": "Makefile",
        "patchSetId": 20
      },
      "lineNbr": 493,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-26T04:04:01Z",
      "side": 1,
      "message": "Nami.\n\n $ emerge-nami coreboot\n\n ld.lld: error: undefined symbol: vb2api_fail\n \u003e\u003e\u003e referenced by 2sha_utility.c:207 (firmware/2lib/2sha_utility.c:207)\n \u003e\u003e\u003e               2sha_utility.o:(vb2_digest_buffer) in archive /build/nami/tmp/portage/sys-boot/coreboot-9999/work/coreboot-9999/build_serial-nami/util/vboot_lib/libvboot_host.a\n \u003e\u003e\u003e referenced by 2sha_utility.c:208 (firmware/2lib/2sha_utility.c:208)\n \u003e\u003e\u003e               2sha_utility.o:(vb2_digest_buffer) in archive /build/nami/tmp/portage/sys-boot/coreboot-9999/work/coreboot-9999/build_serial-nami/util/vboot_lib/libvboot_host.a\n \u003e\u003e\u003e referenced by 2sha_utility.c:219 (firmware/2lib/2sha_utility.c:219)\n \u003e\u003e\u003e               2sha_utility.o:(vb2_hash_verify) in archive /build/nami/tmp/portage/sys-boot/coreboot-9999/work/coreboot-9999/build_serial-nami/util/vboot_lib/libvboot_host.a\n clang-10: error: linker command failed with exit code 1 (use -v to see invocation)\n make: *** [util/cbfstool/Makefile.inc:190: build_serial-nami/util/cbfstool/ifittool] Error 1",
      "parentUuid": "c78d809f_e6097973",
      "revId": "d0e249bab13d489bd84fb8cbc2fefefc0e387546",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b97d1069_79427f0e",
        "filename": "Makefile",
        "patchSetId": 20
      },
      "lineNbr": 493,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-03-26T20:58:40Z",
      "side": 1,
      "message": "I think the issue might be that cbfstool/ifittool don\u0027t compile with linker garbage collection. Can you try adding\n\n -ffunction-sections -fdata-sections\n\nto TOOLCFLAGS and\n\n -Wl,--gc-sections\n\nto TOOLLDFLAGS in coreboot/util/cbfstool/Makefile.inc and try again?",
      "parentUuid": "c3740290_11d13c60",
      "revId": "d0e249bab13d489bd84fb8cbc2fefefc0e387546",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27a19d15_bd3d1ac6",
        "filename": "Makefile",
        "patchSetId": 20
      },
      "lineNbr": 493,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-27T03:47:11Z",
      "side": 1,
      "message": "It turned out that somehow there\u0027s DEBUG\u003d1 environment variable in my shell, so CFLAGS in vboot would end up containing \"-O0\" option.",
      "parentUuid": "b97d1069_79427f0e",
      "revId": "d0e249bab13d489bd84fb8cbc2fefefc0e387546",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b14ba4a9_8514fb01",
        "filename": "Makefile",
        "patchSetId": 20
      },
      "lineNbr": 497,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-03-25T22:43:08Z",
      "side": 1,
      "message": "What are these?",
      "revId": "d0e249bab13d489bd84fb8cbc2fefefc0e387546",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b11e43d0_4d765f68",
        "filename": "Makefile",
        "patchSetId": 20
      },
      "lineNbr": 497,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-26T04:04:01Z",
      "side": 1,
      "message": "Same problem as above. These 2 files contain functions needed by 2misc.c.",
      "parentUuid": "b14ba4a9_8514fb01",
      "revId": "d0e249bab13d489bd84fb8cbc2fefefc0e387546",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "adc34cef_474bce01",
        "filename": "Makefile",
        "patchSetId": 20
      },
      "lineNbr": 497,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-27T03:47:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b11e43d0_4d765f68",
      "revId": "d0e249bab13d489bd84fb8cbc2fefefc0e387546",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
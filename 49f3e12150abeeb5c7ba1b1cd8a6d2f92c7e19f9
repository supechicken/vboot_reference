{
  "comments": [
    {
      "key": {
        "uuid": "bf469c40_6cc0db0d",
        "filename": "Makefile",
        "patchSetId": 2
      },
      "lineNbr": 327,
      "author": {
        "id": 1106949
      },
      "writtenOn": "2014-06-16T18:53:49Z",
      "side": 1,
      "message": "this is only for unit test, isn\u0027t it? it\u0027ll cause link error when building a firmware.",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64ec997a_811c1a57",
        "filename": "Makefile",
        "patchSetId": 2
      },
      "lineNbr": 327,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2014-06-16T21:10:52Z",
      "side": 1,
      "message": "That\u0027s correct.  It\u0027s inside\n\nifeq (${FIRMWARE_ARCH},)\n# Include BIOS stubs in the firmware library when compiling for host\n\n(expand a few lines above) so isn\u0027t compiled for firmware.",
      "parentUuid": "bf469c40_6cc0db0d",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4466b513_32aee073",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2014-06-18T21:53:04Z",
      "side": 1,
      "message": "Why not? I thought the point of your first attempt was that it would be a drop-in replacement? The structs look the same to  me.",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "84ba6d9a_4d450d2c",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2014-06-18T22:45:33Z",
      "side": 1,
      "message": "1.0 headers are before we added GBB flags.  Everything we\u0027ve signed for at least a year (and any firmware we can build from ToT) is new enough to work.",
      "parentUuid": "4466b513_32aee073",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4cbf13b_511ff4f2",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2014-06-18T21:53:04Z",
      "side": 1,
      "message": "We\u0027re calling vb2_nv_set() all over the place just above, but only now wondering if it\u0027s initialized?",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "84ba6d9a_2dfd398b",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2014-06-18T22:45:33Z",
      "side": 1,
      "message": "oops",
      "parentUuid": "a4cbf13b_511ff4f2",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6471f9c6_a8bfe3e7",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 2
      },
      "lineNbr": 253,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2014-06-18T21:53:04Z",
      "side": 1,
      "message": "rv is an int, but vb2ex_tpm_clear_owner() returns an enum vb2_return_code, which is at least 0x0100000. Then it passes rv to vb2_fail() as a uint8_t. That\u0027ll probably work, but it\u0027s a little sloppy.\n\nHow about declaring rv as the correct enum everywhere, and providing some GET_SUBCODE() macros or something?",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6471f9c6_33cca89d",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 2
      },
      "lineNbr": 253,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2014-06-18T22:45:33Z",
      "side": 1,
      "message": "Yeah, that vb2_fail only has an 8-bit recovery subcode is less than ideal.  But I don\u0027t think we want to spend another 24 bits of NVRAM on it now.\n\nvb2ex_tpm_clear_owner() is allowed to return an error code which is not enumerated in vb2_return_code - for example, a tlcl lib or TPM message error code.\n\nAdded a comment to clarify the truncation.",
      "parentUuid": "6471f9c6_a8bfe3e7",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "84ba6d9a_6a02372e",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 2
      },
      "lineNbr": 280,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2014-06-18T21:53:04Z",
      "side": 1,
      "message": "here, too.",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6471f9c6_082daf82",
        "filename": "firmware/2lib/include/2return_codes.h",
        "patchSetId": 2
      },
      "lineNbr": 280,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2014-06-18T21:53:04Z",
      "side": 1,
      "message": "If we\u0027re going to blend the error type (high-order bits) and the subcode error (lower 8 bits), then let\u0027s add a compile-time assertion at the end of each block to ensure that we don\u0027t ever define more than 255 subcodes.",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4cbf13b_5fecdb73",
        "filename": "firmware/2lib/include/2return_codes.h",
        "patchSetId": 2
      },
      "lineNbr": 280,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2014-06-18T22:45:33Z",
      "side": 1,
      "message": "high 8 bits, 0x01 \u003d vboot2\nnext 8 bits, category\nnext 16 bits, subcode\n\nI don\u0027t think we\u0027re at risk of having more than 65536 error codes per category.  If we do, we\u0027ve already done something tragically wrong...",
      "parentUuid": "6471f9c6_082daf82",
      "revId": "49f3e12150abeeb5c7ba1b1cd8a6d2f92c7e19f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c2374943_57cb0e85",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2021-04-14T23:53:33Z",
      "side": 1,
      "message": "Seems a bit weird to put this here when vb2_verify_keyblock() is in 2common.c?",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5df5c6b_1ce7962b",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2021-04-15T11:04:27Z",
      "side": 1,
      "message": "If this is only used for kernel verification, should we separate it out from 2common.c?  And if so, my plan was to put everything in vboot_kernel.c for now, and merge into 2kernel.c once the file has been all cleaned up.  Do you think we should just put it directly in 2kernel.c, if that\u0027s where it will end up eventually?",
      "parentUuid": "c2374943_57cb0e85",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69f35fc2_7e72d0d7",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2021-04-16T00:57:54Z",
      "side": 1,
      "message": "Okay, I guess I\u0027m okay with this if you\u0027re just doing it temporarily until you can merge the files later. Although I\u0027m not sure if throwing all the kernel verification stuff into one big file is a good idea either... this file is already kinda large to begin with. Maybe splitting this into low-level utility functions and high-level logic somehow would make things a bit easier to follow.",
      "parentUuid": "b5df5c6b_1ce7962b",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89056817_f0c207f0",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2021-04-16T08:04:25Z",
      "side": 1,
      "message": "That sounds reasonable, but I\u0027m still struggling to come up with a clear division.  Maybe:\n\n2kernel_utils.c\n* vb2_kernel_get_flags\n* vb2_verify_keyblock_hash\n* vb2_verify_kernel_preamble\n\n2firmware_utils.c\n* vb2_verify_fw_preamble\n\nAlternatively, these could be grouped into a 2struct.c or something, along with a few of the other functions from 2common.c:\n* vb2_check_keyblock\n* vb2_verify_keyblock\n\nAny ideas?",
      "parentUuid": "69f35fc2_7e72d0d7",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8eae9804_1ca08523",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2021-04-20T00:10:39Z",
      "side": 1,
      "message": "Yeah I think 2struct.c could be a good idea.",
      "parentUuid": "89056817_f0c207f0",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7eaa6046_5264a018",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2021-04-22T13:30:01Z",
      "side": 1,
      "message": "Done.  Do you think that vb2_verify_kernel_vblock belongs in there too, or is that already too high-level?",
      "parentUuid": "8eae9804_1ca08523",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "750e6306_d0e81f41",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2021-04-29T22:44:04Z",
      "side": 1,
      "message": "That\u0027s probably better where it is.",
      "parentUuid": "7eaa6046_5264a018",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "342dd111_01a1d182",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2021-05-04T16:53:01Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "750e6306_d0e81f41",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d23b1dd_60fa1423",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 381,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2021-04-14T23:53:33Z",
      "side": 1,
      "message": "Same here... vb2_verify_fw_preamble() is in 2common.c. Or if you want kernel-specific stuff elsewhere maybe put it in 2kernel.c? I agree that our what-goes-where file layout isn\u0027t great, but I\u0027m not sure dumping everything in here really makes it better either.",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "050b347a_08e047b9",
        "filename": "firmware/lib/vboot_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 381,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2021-04-15T11:04:27Z",
      "side": 1,
      "message": "Yeah, I\u0027m always struggling to comprehend exactly what should go where... Probably vb2_verify_fw_preamble() should move to 2firmware.c?  And same for this function -- should we put it in vboot_kernel.c for now, or move directly to 2kernel.c?",
      "parentUuid": "1d23b1dd_60fa1423",
      "revId": "f35b7d7bbdea6e307b9b0c12e94333a888515291",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
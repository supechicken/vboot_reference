{
  "comments": [
    {
      "key": {
        "uuid": "41bf4834_1a01491e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1113505
      },
      "writtenOn": "2020-09-01T10:52:34Z",
      "side": 1,
      "message": "Add Yu-ping and Joel for discussion.",
      "revId": "674bc4347d5817e88b02d5e27ae2d7f278ae01ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c401ecba_a08074a0",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 15
      },
      "lineNbr": 1473,
      "author": {
        "id": 1113505
      },
      "writtenOn": "2020-09-01T10:52:34Z",
      "side": 1,
      "message": "As offline discussed with rocco, I am not sure whether Groot team prefer to use \"define\" or \"enum\" here.\n\nThis values are shared in both vboot and depthcharge (in vb2 API and also in memory test impl).\n\n\nyupingso@ and kitching@, could you give some advice how to deal with this case?\nSince this values will impact a lot of code change in the following CLs, I think it would be great if we can reach the conclusion first.",
      "range": {
        "startLine": 1464,
        "startChar": 0,
        "endLine": 1473,
        "endChar": 19
      },
      "revId": "674bc4347d5817e88b02d5e27ae2d7f278ae01ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48880134_aba529a5",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 15
      },
      "lineNbr": 1473,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-09-03T08:14:37Z",
      "side": 1,
      "message": "Enum is preferred for this case in my opinion. Also note the style:\n\n enum vb2_lower_case_name {\n     CAPITAL_WITH_UNDERSCORE,\n };\n\nso I\u0027d write\n\n enum vb2_memory_test_mode {\n     /* Keep running from previos setting */\n     VB2_MEMORY_TEST_MODE_NO_RESET \u003d 0,\n     VB2_MEMORY_TEST_MODE_RESET_TO_QUICK_TEST,\n     VB2_MEMORY_TEST_MODE_RESET_TO_FULL_TEST,\n };\n\nWhile vboot doesn\u0027t have any instance of \u0027typedef enum\u0027, I\u0027m fine with that if it\u0027ll be used a lot.",
      "parentUuid": "c401ecba_a08074a0",
      "range": {
        "startLine": 1464,
        "startChar": 0,
        "endLine": 1473,
        "endChar": 19
      },
      "revId": "674bc4347d5817e88b02d5e27ae2d7f278ae01ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1921a64_39cd2499",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 15
      },
      "lineNbr": 1473,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-09-03T08:30:33Z",
      "side": 1,
      "message": "Maybe it\u0027s simpler to add these to vb2_error_t. For example, when malloc() fails inside vb2ex_get_diagnostic_memory(), what do you want to return? MemoryTestError?\n\nActually it\u0027s kind of difficult to review this without seeing the full implementation of vb2ex_get_diagnostic_memory().",
      "range": {
        "startLine": 1473,
        "startChar": 2,
        "endLine": 1473,
        "endChar": 18
      },
      "revId": "674bc4347d5817e88b02d5e27ae2d7f278ae01ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab017434_4fbc6903",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 15
      },
      "lineNbr": 1473,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-09-03T08:40:41Z",
      "side": 1,
      "message": "For enums, please follow Yu-Ping\u0027s suggestions for style, with a preference for not using typedef.\n\nConsider also restructuring the API such that we don\u0027t need extra enums at all.  For example:\n\n  vb2_error_t vb2ex_diag_memory_quick_test(const char **out, int reset);\n  vb2_error_t vb2ex_diag_memory_full_test(const char **out, int reset);\n\n`int reset` takes the role of RESET vs. NO_RESET.\nvb2_error_t can return:\n - VB2_ERROR_EX_DIAG_TEST_* error when there is some problem\n - VB2_ERROR_EX_DIAG_TEST_RUNNING when the test hasn\u0027t finished\n - VB2_SUCCESS when the test has finished and there are no more string updates\n\nThis is a bit similar to the secdata_fwmp case which uses VB2_ERROR_SECDATA_FWMP_INCOMPLETE to denote that there is still more data available to be read.",
      "parentUuid": "48880134_aba529a5",
      "range": {
        "startLine": 1464,
        "startChar": 0,
        "endLine": 1473,
        "endChar": 19
      },
      "revId": "674bc4347d5817e88b02d5e27ae2d7f278ae01ab",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}
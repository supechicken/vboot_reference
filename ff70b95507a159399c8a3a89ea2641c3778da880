{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0075196d_bf3377c5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-08-12T20:07:36Z",
      "side": 1,
      "message": "I (think I) understand the problem but I don\u0027t understand how this patch is supposed to fix it? If there is a `/` in the variable (I assume that\u0027s what this is about, because slashes are part of the base64 character set?) it will still end up being passed to `sed` if you write it like this.\n\nIn fact, I\u0027m not sure there is a clean way to do this. You\u0027d basically have to write an `escape_for_sed` function and then make this `sed -n \"s/.*\\b$(escape_for_sed \"$2\")\u003d...` and have that function insert a backslash before all the characters that `sed` treat\u0027s specially.\n\nThe good news though is that I don\u0027t think any of the characters that are really special to `sed` (I believe that is `$.*[\\^`) should appear in our command lines (except for maybe the dot but that should be mostly harmless on its own). If your only real problem is the delimiter character, just pick a different one, e.g. `sed -n \"s#.*\\b$2\u003d\\([^ \\\"]*\\).*#\\1/p`.",
      "revId": "ff70b95507a159399c8a3a89ea2641c3778da880",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86700905_63a01080",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2025-08-12T20:49:45Z",
      "side": 1,
      "message": "Hung-te might know more about this, but I think the issue is with the `\\` character. This is a more idiomatic way to write bash.",
      "parentUuid": "0075196d_bf3377c5",
      "revId": "ff70b95507a159399c8a3a89ea2641c3778da880",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2280a36_00c6f328",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-08-12T21:06:16Z",
      "side": 1,
      "message": "Oh, I see, I think Hung-Te\u0027s concern was just the `\"\\1\"`? I mean, you could theoretically say that should be `\"\\\\1\"` but in practice either one works and I think many people write `sed` patterns that way, I wouldn\u0027t really consider it a problem.\n\nI do think there\u0027s a risk that someone used `sed \"s/\u003cold\u003e/\u003cnew\u003e/\"` on something parsing the kernel command line though, and that will eventually blow up when we start putting base64 strings there, so it would be good if you could double-check that all `sed` invocations related to the command line are guarded against that (e.g. use `#` instead).",
      "parentUuid": "86700905_63a01080",
      "revId": "ff70b95507a159399c8a3a89ea2641c3778da880",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4a64f9ee_007b3e2e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2025-08-13T01:03:23Z",
      "side": 1,
      "message": "The change here, just tackling the double quoted transition to single quote and explicitly only using double quoted for variable expansion.",
      "parentUuid": "b2280a36_00c6f328",
      "revId": "ff70b95507a159399c8a3a89ea2641c3778da880",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
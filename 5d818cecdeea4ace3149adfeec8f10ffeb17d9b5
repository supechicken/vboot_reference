{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1750fbf2_8b1cd418",
        "filename": "scripts/image_signing/sign_official_build.sh",
        "patchSetId": 5
      },
      "lineNbr": 1244,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-06-27T04:28:58Z",
      "side": 1,
      "message": "what you\u0027re doing below is pretty standard stuff.  you only need the first sentence in this comment block.",
      "revId": "5d818cecdeea4ace3149adfeec8f10ffeb17d9b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3d92eb6_2283dbb6",
        "filename": "scripts/image_signing/sign_official_build.sh",
        "patchSetId": 5
      },
      "lineNbr": 1248,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-06-27T04:28:58Z",
      "side": 1,
      "message": "```suggestion\n  local script_args\u003d()\n```\n\nalways declare local vars as local",
      "revId": "5d818cecdeea4ace3149adfeec8f10ffeb17d9b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87e19c69_384d59a6",
        "filename": "scripts/image_signing/sign_official_build.sh",
        "patchSetId": 5
      },
      "lineNbr": 1249,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-06-27T04:28:58Z",
      "side": 1,
      "message": "```suggestion\n  while [[ \"$#\" -gt 0 ]]; do\n```\n\nthis is bash, so always use `[[` and never `[`\n\nwe omit braces with one-char builtins like `$@` or `$1`\n\nsince `-gt` only works with integers, and we always know `$@` is an integer, we usually allow people to omit quotes.  but we also don\u0027t ban them.  shell is weird with math.",
      "revId": "5d818cecdeea4ace3149adfeec8f10ffeb17d9b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f2201773_dcc96b2d",
        "filename": "scripts/image_signing/sign_official_build.sh",
        "patchSetId": 5
      },
      "lineNbr": 1250,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-06-27T04:28:58Z",
      "side": 1,
      "message": "always cuddle these up",
      "revId": "5d818cecdeea4ace3149adfeec8f10ffeb17d9b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd2f581c_346379de",
        "filename": "scripts/image_signing/sign_official_build.sh",
        "patchSetId": 5
      },
      "lineNbr": 1251,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-06-27T04:28:58Z",
      "side": 1,
      "message": "normally for ad-hoc option parsing we use `case` statements instead",
      "revId": "5d818cecdeea4ace3149adfeec8f10ffeb17d9b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da12b3a3_19271bfb",
        "filename": "scripts/image_signing/sign_official_build.sh",
        "patchSetId": 5
      },
      "lineNbr": 1252,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-06-27T04:28:58Z",
      "side": 1,
      "message": "you need to declare a default before the parsing loop",
      "revId": "5d818cecdeea4ace3149adfeec8f10ffeb17d9b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0532dcf_5661e490",
        "filename": "scripts/image_signing/sign_official_build.sh",
        "patchSetId": 5
      },
      "lineNbr": 1253,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-06-27T04:28:58Z",
      "side": 1,
      "message": "we should/can catch more options here\n\n```\n-h|--help)\n  usage\n  ;;\n--)\n  shift\n  break\n  ;;\n-*)\n  usage \"Unknown option: $1\"\n  ;;\n*)\n  script_args+\u003d( \"$1\" )\n  ;;\nesac\n```",
      "revId": "5d818cecdeea4ace3149adfeec8f10ffeb17d9b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6065e237_592ddf25",
        "filename": "scripts/image_signing/sign_official_build.sh",
        "patchSetId": 5
      },
      "lineNbr": 1256,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-06-27T04:28:58Z",
      "side": 1,
      "message": "no spurious `;`",
      "revId": "5d818cecdeea4ace3149adfeec8f10ffeb17d9b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9da9e63f_421ad5f8",
        "filename": "scripts/image_signing/sign_official_build.sh",
        "patchSetId": 5
      },
      "lineNbr": 1271,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-06-27T04:28:58Z",
      "side": 1,
      "message": "i don\u0027t see how these `$#` checks work anymore.  your while loop above fully consumed `$@`, so `$#` is always going to be 0.\n\nyou could restore `$@` once you\u0027re done parsing above.  might be worth it so you don\u0027t have to touch an anything else.\n\n```\nset -- \"${script_args[@]}\"\n```",
      "revId": "5d818cecdeea4ace3149adfeec8f10ffeb17d9b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
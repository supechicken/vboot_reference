{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f8a337f5_650b271a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2022-03-25T04:38:50Z",
      "side": 1,
      "message": "The interfaces are quite different now and I think most of issues were solved. Time to abandon?",
      "revId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5184f3f_c83208ec",
        "filename": "futility/flashrom_drv.c",
        "patchSetId": 1
      },
      "lineNbr": 172,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2022-01-27T02:29:31Z",
      "side": 1,
      "message": "just to make sure we\u0027re on the same page: the CSE issue needs \u0027exclude\u0027, or \u0027skip verify\u0027, not just include, right?",
      "range": {
        "startLine": 172,
        "startChar": 7,
        "endLine": 172,
        "endChar": 37
      },
      "revId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12bd4c08_12eb1c94",
        "filename": "futility/flashrom_drv.c",
        "patchSetId": 1
      },
      "lineNbr": 172,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2022-01-27T03:31:06Z",
      "side": 1,
      "message": "We are yes. We would need to add a function to the libflashrom API to remove a region as well though. The patch was to just refactor things to bring the issue into focus with the correct function signatures.",
      "parentUuid": "a5184f3f_c83208ec",
      "range": {
        "startLine": 172,
        "startChar": 7,
        "endLine": 172,
        "endChar": 37
      },
      "revId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "094f8241_fe84a4b8",
        "filename": "futility/updater.c",
        "patchSetId": 1
      },
      "lineNbr": 392,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2022-01-27T02:29:31Z",
      "side": 1,
      "message": "I\u0027d rather not do such refactoring so fast - let\u0027s only change flashrom_write_image, and let write_system_firmware handle the conversion from const char names to flashrom structures at the moment.",
      "range": {
        "startLine": 392,
        "startChar": 4,
        "endLine": 392,
        "endChar": 39
      },
      "revId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90dc6ef7_1910fd4c",
        "filename": "futility/updater.c",
        "patchSetId": 1
      },
      "lineNbr": 392,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2022-01-27T03:31:06Z",
      "side": 1,
      "message": "The struct is const, that\u0027s why I did the refactor in this way to maintain the const correctness of heap.",
      "parentUuid": "094f8241_fe84a4b8",
      "range": {
        "startLine": 392,
        "startChar": 4,
        "endLine": 392,
        "endChar": 39
      },
      "revId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad97d25d_939a69b3",
        "filename": "futility/updater.c",
        "patchSetId": 1
      },
      "lineNbr": 392,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2022-01-27T03:49:29Z",
      "side": 1,
      "message": "I still think it\u0027s a better idea to not include regions into firmware_image, so const won\u0027t need to be changed. If you prefer flashrom_write_image to always take a single param, we can create another structure for it - e.g., a \u0027flashrom_command\u0027 or \u0027flashrom_image\u0027 struct that contains a `const struct firmware_image *`, `struct regions *.` and even params for future - with that we can easily add include/exclude/skip/... etc.\n\nLet\u0027s keep the change outside flashrom_drv to be minimal.",
      "parentUuid": "90dc6ef7_1910fd4c",
      "range": {
        "startLine": 392,
        "startChar": 4,
        "endLine": 392,
        "endChar": 39
      },
      "revId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "21df4113_ade9e1ab",
        "filename": "futility/updater.c",
        "patchSetId": 1
      },
      "lineNbr": 392,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2022-01-27T07:00:16Z",
      "side": 1,
      "message": "I think I thought ahead quite a number of steps here, and that is not clear from this patch. It perhaps maybe more clear if I write you up a short one pager design doc rather than wrangling the detail on patch review. That way we can reach consensus faster and move forwards with this.\n\nThe overlap here is that I want to also canonical other flashrom paths across vboot_ref and bifurcate EC/PD/AP paths better as we want to get rid of cros_ec driver within flashrom itself in favor of libec linking directly here. So, tl;dr I think I am looking at things in a much bigger picture than the initial issue of \u0027more than one region\u0027 write support that this was spawned from.",
      "parentUuid": "ad97d25d_939a69b3",
      "range": {
        "startLine": 392,
        "startChar": 4,
        "endLine": 392,
        "endChar": 39
      },
      "revId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b651f8aa_eaa57dd5",
        "filename": "futility/updater.c",
        "patchSetId": 1
      },
      "lineNbr": 1062,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2022-01-27T02:29:31Z",
      "side": 1,
      "message": "I think the we should not put the regions into image_to, because the regions usually will be changed for each read/write.\n\nIn current implementation, we have to either carefully re-create the regions data every time when writing, or remove it after writing - otherwise the next read/write may incorrectly reused regions from previous I/O.\n\nAlso the strdup() must be free()\u0027ed, which makes it being more complicated.\n\nIn future we may be doing something like\n\n struct regions * create_regions_list() {}\n append_regions_list() {}\n free_region_list() {}\n  \nAnd a helper for single region:\n\n struct regions * single_region_list(const char *name) {}",
      "range": {
        "startLine": 1061,
        "startChar": 2,
        "endLine": 1062,
        "endChar": 45
      },
      "revId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72dae784_e8931632",
        "filename": "futility/updater.c",
        "patchSetId": 1
      },
      "lineNbr": 1062,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2022-01-27T03:31:06Z",
      "side": 1,
      "message": "Yea the refactor got bigger than anticipated due to significant change in signatures. The strdup() was really just a intermediate step before spending too much effort to entirely redesign things and over commit on the idea being purposed here.\n\nI think to resolve your concern about regions being inside of firmware_image (which seems like a logical encapsulation of meaning by coupling those concepts at the type level) is to ensure we don\u0027t share instances of \u0027image\u0027 between I/O transactions. A \u0027image\u0027 instance per I/O transaction seems more logically consistent as not only mixing regions could be a problem but also other data fields of image such as the programmer type.\n\nI agree with that region construction API you are suggesting here around the firmware_region struct to ensure that value is built in a consistent manner.",
      "parentUuid": "b651f8aa_eaa57dd5",
      "range": {
        "startLine": 1061,
        "startChar": 2,
        "endLine": 1062,
        "endChar": 45
      },
      "revId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Owners",
        "description": {
          "value": "User with the code owner override approved the change"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:enabled_code-owners"
          }
        },
        "submittabilityExpression": {
          "expressionString": "has:approval_code-owners"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Owners-Override\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:enabled_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:enabled_code-owners"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:approval_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:approval_code-owners"],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Owners-Override=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Owners-Override=+1"]}
      },
      "patchSetCommitId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "Submit requirement for the \u0027Code-Review\u0027 label"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX,user=non_uploader","label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two googlers using a trusted device must approve the change, see http://go/change-management-policy"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforced_gerrit"]}
      },
      "submittabilityExpressionResult": {},
      "overrideExpressionResult": {},
      "patchSetCommitId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI or human verified the change"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Verified=MAX","label:Verified=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "04a53b0edc0088b945be2cc09d3cfed23519f615",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}
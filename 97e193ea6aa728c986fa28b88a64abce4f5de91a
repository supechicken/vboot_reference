{
  "comments": [
    {
      "key": {
        "uuid": "AAAAGX//+bw\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "Any reason for explicitly using /usr/bin/[ and not just [ here?\n\nAnd, if you used \"sh -ue\" in the beginning, user without root permission will fail \u0026 abort here - is this what you want?\n\nFor that case, you probably want to add some alerts to let user know he needs root permission, like \n if [ ... ]; then\n  PATH\u003d...\n else \n  echo \"Please run with root permission.\" \u003e\u00262\n  exit 1\n fi",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+VA\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "Please make this a local variable:\n local prog\u003d\"${0##*/}\"",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+U8\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "This is a global variable that will be used later. Please change it to global variable style like LAST_RESULT.",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+U4\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "We can declare this as local variable -\n local missing",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+VU\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 131,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "You don\u0027t need \"\\\" if the line is ended with \"|\" .",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+U0\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "We can declare these local variables in beginning of function:\n local read start size part rest name\n\nto prevent these variables used and confused in future",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+VQ\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "You don\u0027t need \"\\\" if the line is ended with \"\u0026\u0026\" .",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+VM\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "You probably want to make a/b as local variables:\n local a\u003d\u0027/...\u0027\n local b\u003d\u0027/...\u0027",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+Uw\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "nit: we can put all stuff below into a big main(). Not a big deal if you want to keep current style.",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+VY\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 154,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "Just curious, if we really need such complex syntax and dev_debug_vboot will be executed only on ChromeOS devices (and not chroot / host), why not use use /usr/share/misc/shflags ? That would clean up all the magic getopt / parsing code here...",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+Us\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 223,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "Since the sh flag is -e now, seems like we\u0027ll fail here if opt_bios is assigned with something?",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+Uo\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 229,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "I\u0027m thinking if we always return success in log function, maybe we don\u0027t need such \"set +e\" anymore... what do you think?\n\nOf course, LAST_RESULT must be kept, so that will be: \n\n log {\n  echo \"+ $@\" \u003e\u003e\"$LOGFILE\"\n  LAST_RESULT\u003d0\n  \"$@\" \u003e\u003e \"$LOGFILE\" 2\u003e\u00261 || LAST_RESULT\u003d$?\n }\n\nThe code calling log \u0026 \"result\" will also need to be changed by this convention......",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+Ug\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 248,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "Old-style name conversion is missing here - maybe isolate that to a function?",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+Uk\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 263,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "Each invocation of \"flashrom\" takes 2 seconds of calibration time, that makes your call \u003e 10 seconds here.\n\nflashrom accepts multiple -i at the same time, so i think it\u0027s better to list all segments in one call:\n\n log flashrom -p internal:bus\u003dspi -r /dev/null \\\n    -i \"GBB:GBB\" -i \"VBLOCK_A:VBLOCK_A\" ....",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+bc\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 276,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "You don\u0027t need \"\\\" if you have \"|\" in end of line",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAGX//+bY\u003d",
        "filename": "utility/dev_debug_vboot",
        "patchSetId": 1
      },
      "lineNbr": 277,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2011-11-09T04:18:36Z",
      "side": 1,
      "message": "You don\u0027t need \"\\\" if you have \"\u0026\u0026\" in end of line",
      "revId": "97e193ea6aa728c986fa28b88a64abce4f5de91a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "AAAADH//3SA\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 6,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "I suggest that APIs provided by firmware to vboot_reference should be in one header file. APIs provided by vboot_reference to firmware should be in a separate header file. Maybe\n\nverified_boot.h for stuff that vboot implements and BIOS uses\n\nbios_exports.h for stuff that BIOS implements and vboot uses",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3EU\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 6,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Good idea.  I\u0027ll split that in the next patch.",
      "parentUuid": "AAAADH//3SA\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Rc\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "And all BIOS-exported functions start with \"Bios\", for the same reason?\n\nShared data structs should use the same convention, according to where the struct is defined.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3DU\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Since all the shared data structs are defined by our header file, they\u0027re all \"Vb\" structs.",
      "parentUuid": "AAAADH//3Rc\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3TU\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Perhaps use just int instead, and a -ve error? For development and testing it would be nice to get an idea of the actual error (out of memory, bad key, etc.) rather than -1. For testing, we might write tests which cause a fault and check that the library returns the right error, indicating that it detected it.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3RI\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "Yes. 0 is success, always. non-zero may or may not be a meaningful error code, but the size should always be uint32_t.\nAdd a comment that this is because x86 UEFI BIOS is 32-bit code in PEI, and 64-bit code in DXE, so we want to use the lowest common denominator to minimize compiler complaints.\n\nLet\u0027s go ahead and typedef uint32_t VbError_t, to avoid having to answer this question again, and define a single canonical list of error values to go with it.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3NA\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T18:07:52Z",
      "side": 1,
      "message": "Defining the size of a return value is a bit meaningless on ARM, since it is in a register. If you define it as 16-bit, it will still return 32-bit, and just mask it first.",
      "parentUuid": "AAAADH//3RI\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3LI\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1000071
      },
      "writtenOn": "2011-06-07T18:38:12Z",
      "side": 1,
      "message": "Perhaps I am missing something here, but what is meaningless about the size of the value that we care about in a register (wrt ARM)?",
      "parentUuid": "AAAADH//3NA\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Kc\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAADH//3RI\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Eg\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Removed from this header, since it\u0027s just a macro internal to utility.h which calls VbError().",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3PA\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2011-06-07T18:02:54Z",
      "side": 1,
      "message": "Please also add an aligned allocation entry point.  The buffers that you hand the MMC code will need to be at least cache line size aligned to prevent the use of a bounce buffer.  This could be managed in VbMalloc by always returning cache line sized allocations.  But it\u0027s probably better to make it explicit.  Also a function to query cache line size would make sense.\n\nOr you could have a separate allocation function that is always used for disk block buffers that will only allocate block size multiple, cache line aligned buffers.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Zw\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2011-06-07T01:45:56Z",
      "side": 1,
      "message": "what exactly does this function return - should it return say us or ns since reset?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3TQ\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Unless we need microsecs (which I think we don\u0027t) how about defining this to return milliseconds, and make it VbGetTimerMs()?\n\nAlso: does it start at 0 on boot? If not does it wrap properly, so that -1ULL goes to 0?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3DA\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "This should return a native high-resolution timer value.  We use it for benchmarking, so the call itself shouldn\u0027t be doing conversion math.",
      "parentUuid": "AAAADH//3Zw\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Q0\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "What units does this return? Hz?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Bs\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Hz.  See above. :)",
      "parentUuid": "AAAADH//3Q0\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Zs\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2011-06-07T01:45:56Z",
      "side": 1,
      "message": "why does vboot wrapper care about the clock frequency (especially if VbGetTimer() returns actual time units)?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3BU\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Now that we have VbSleep(), we don\u0027t actually need to know the frequency.  Removed.",
      "parentUuid": "AAAADH//3Zs\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Zo\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2011-06-07T01:45:56Z",
      "side": 1,
      "message": "thanks for explaining what 10% is :)",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Q8\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "Yeah, I was unclear on that myself.",
      "parentUuid": "AAAADH//3Zo\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Oc\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2011-06-07T18:02:54Z",
      "side": 1,
      "message": "Delay functions should not delay for less than the time specified.  So I would say this should be specified to delay for msec -0% +10%.  Or better yet, don\u0027t guarantee anything other than that it delays for at least the number of ms specified.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3BI\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Changed to -0% +10%.\n\nI want an upper bound on the delay, since I need to use this in the dev warning screen loop.  If I\u0027m polling the keyboard every 100ms and it\u0027s actually delaying 500ms, that dev warning screen will take a looong time to timeout...",
      "parentUuid": "AAAADH//3Oc\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3TM\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "why uint64_t? On ARM this is an extra register\n\nPerhaps VbSleepMs()?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3BQ\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Changed to uint32",
      "parentUuid": "AAAADH//3TM\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Qw\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "If this is just a noisy version of VbSleep, why do we need it to return an error code?\n\nAnd if it does return an error code, it should be VbError_t, not int.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3BA\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAADH//3Qw\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3TI\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Again the unnecessary use of uint64_t costs on ARM, and may result in stack access where previously none was needed.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3BE\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAADH//3TI\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3TE\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 87,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Should this be passed a VbSelectData (or whatever the library\u0027s data structure is?)",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3TA\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Again suggest just int for return value - same for most other 64bit uints. Also on 64-bit machines this might force a mask operation in this function or the caller.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3LE\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1000071
      },
      "writtenOn": "2011-06-07T18:38:12Z",
      "side": 1,
      "message": "I suggest we decide on the convention and stick to it. 2 suggestions I have seen:\n\n1) uint32_t: 0 means success, else error code (this is what we almost currently do)\n2) int: -1 means error, 0 means success (no error codes)\n\nI prefer 1) - even in the field on a production system, knowing the error code is of a big help in tracking weird bugs.",
      "parentUuid": "AAAADH//3TA\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3S8\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Should this return the length actually read?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3LA\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1000071
      },
      "writtenOn": "2011-06-07T18:38:12Z",
      "side": 1,
      "message": "I think the response length is contained in the response itself, so the length may not be necessary.",
      "parentUuid": "AAAADH//3S8\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3A0\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAADH//3S8\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Qk\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 112,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "VbUpdateFirmwareBodyHash() or BiosUpdateFirmwareBodyHash() ?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Ao\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 112,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Vb.  Done.",
      "parentUuid": "AAAADH//3Qk\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Zc\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2011-06-07T01:45:56Z",
      "side": 1,
      "message": "as a general comment - why are so many interface integers are of the uint64_t type when it is not called for?\n\nCan these be changed to \u0027int\u0027 to be of the optimal compiler chosen size (presumably we not going to use compilers with integers of less than 32 bits).\n\nOr maybe define a generic integer type to use, and have it defined such that still the compiler default is used, and if a 16 bit integers ever come along - we would change this generic integer type definition to be 32 bits in size.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3ZM\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000071
      },
      "writtenOn": "2011-06-07T01:54:22Z",
      "side": 1,
      "message": "I may be forgetting, but I think we decided to be explicit about the size wherever we could - especially for data that was read and/or was passed around various layers.\n\nBeing explicit about size avoids subtle overflow/underflow errors and makes it easy for checking these error conditions too.\n\nLetting the compiler decide the size is problematic - what if it decides different sizes on ARM vs. x86, 32-bit vs. 64-bit compilation. I know that unsigned int is typically guaranteed to be 32-bit wide but I\u0027d rather be explicit about the expected size everywhere.",
      "parentUuid": "AAAADH//3Zc\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Qc\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "I agree with Gaurav. We should specify the bit width of every parameter everywhere. We\u0027ve already encountered problems relating to the boot reason because we didn\u0027t do this.",
      "parentUuid": "AAAADH//3ZM\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3OE\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2011-06-07T18:02:54Z",
      "side": 1,
      "message": "Unsigned in is not guaranteed to be 32-bits.  Having said that, if we are going to be explicit about int size, why 64-bits?  Can we just use 32-bits?",
      "parentUuid": "AAAADH//3ZM\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3M8\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T18:07:52Z",
      "side": 1,
      "message": "32-bits is better for ARM.\n\nAlso on ARM parameters are passed in registers, so everything is 32-bits. A 64-bit argument requires two registers.",
      "parentUuid": "AAAADH//3OE\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Kw\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000071
      },
      "writtenOn": "2011-06-07T18:38:12Z",
      "side": 1,
      "message": "Why not move the firmware_index requested into |params|. |params| could be a request-result parameter. Also what is |params| used for - not mentioned in the comment.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Ak\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Waaaay back, we thought \"Oh, UEFI is 64 bit, so we\u0027ll explictly specify 64 bit since that\u0027s native int size.\"  Only to realize later than UEFI is really 32 bit in PEI and 64 bit in DXE/BDS.\n\nI\u0027ll clean these up so that only the things that need to be 64 bit (for example, disk offsets) are.",
      "parentUuid": "AAAADH//3OE\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3QM\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 141,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "s/pointers/handles/",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Zk\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1000146
      },
      "writtenOn": "2011-06-07T03:06:06Z",
      "side": 1,
      "message": "So these are disk handles, right? Does VbGetDiskHandles malloc space for them (or the question should be, should the caller free handles)?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3P8\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "Specify bit width, not \u0027int\u0027. And separate the error code from the return count.\n\nbios_exports.h should define an opaque BiosDiskHandle_t\n\nVbError_t BiosGetDiskHandles(BiosDiskHandle_t **handles, uint32_t max_handle_count, uint32_t *actual_handle_count);",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//2/k\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Clarified.",
      "parentUuid": "AAAADH//3Zk\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Pw\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "s/void* disk_handle/BiosDiskHandle_t handle/g",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3N0\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 198,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2011-06-07T18:02:54Z",
      "side": 1,
      "message": "Buffer must be at least cache line size aligned on ARM.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Po\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 215,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "Returns VbError_t, not int.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3No\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 216,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2011-06-07T18:02:54Z",
      "side": 1,
      "message": "Should also return BPP (Bits per pixel) or at least an enum of pixel formats R8G8B8, R8G8B8A8, R5G6B5...",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//2+A\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 216,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "What would we do with the pixel type?",
      "parentUuid": "AAAADH//3No\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3S0\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 220,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "How about we just define that we support PNG and JPG? What other formats might we want to use?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//294\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 220,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "UEFI supports Windows BMP, but not PNG.",
      "parentUuid": "AAAADH//3S0\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3S4\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Are coords in pixels or something else? How do we handle centering a bitmap on the display? Should we add a way of finding out the size of a bitmap, or have an enum to specify it should be centered?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3WQ\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 225,
      "author": {
        "id": 1000106
      },
      "writtenOn": "2011-06-07T13:38:45Z",
      "side": 1,
      "message": "I think the buffer data is represented by the ImageInfo (defined in bmpblk_header.h) struct and an actual image content follows, right?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3PY\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 225,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "The buffer data has to be whatever the BIOS side can understand as pixel data of a certain size and depth.  For UEFI, that\u0027s BMP format. For U-Boot, it\u0027s ... what? png? gif? \n\nWe may want to implement our own text-rendering logic inside vboot, so we really just want to say \"put this image HERE\".",
      "parentUuid": "AAAADH//3WQ\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Nc\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2011-06-07T18:02:54Z",
      "side": 1,
      "message": "Yes, this function should at least take a position (x, y) and size (w, h).  It should also probably take a pixel format from the same enum that is returned by DisplayInit.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//29g\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "What would it do with the pixel format and size?  Those should be encoded in whatever platform-dependent format the blob uses.",
      "parentUuid": "AAAADH//3Nc\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3WI\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 234,
      "author": {
        "id": 1000106
      },
      "writtenOn": "2011-06-07T13:38:45Z",
      "side": 1,
      "message": "Does it need x and y?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3PQ\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 234,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "Yeah, and if it does, then we need VbDisplayInit() to also return the text-mode dimensions too (N cols x M rows).",
      "parentUuid": "AAAADH//3WI\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3NY\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 234,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2011-06-07T18:02:54Z",
      "side": 1,
      "message": "Yes, it should take a position.",
      "parentUuid": "AAAADH//3WI\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Mw\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 234,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T18:07:52Z",
      "side": 1,
      "message": "I think Randall wants the boot loader to select this position based on the screen size. In any case someone needs to know",
      "parentUuid": "AAAADH//3NY\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//29I\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 234,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "It doesn\u0027t need the coords.  This isn\u0027t a full TextOut() API, just a way for the BIOS to put a single blob of text up on the screen for us.  So the BIOS gets to pick the coords and font.  Added requirement that the BIOS be able to display at least 20 rows of 80 columns of debug output, so they don\u0027t pick a VIC-20-like font.",
      "parentUuid": "AAAADH//3Mw\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3WM\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 240,
      "author": {
        "id": 1000106
      },
      "writtenOn": "2011-06-07T13:38:45Z",
      "side": 1,
      "message": "Need a clear screen API. After the USB is verified success, a blank screen is showed.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3PM\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 240,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "We currently accomplish that by explicitly drawing a full-screen blank bitmap. That\u0027s probably better, because we can control what \"blank\" means (black? dark blue? Chrome logo?)",
      "parentUuid": "AAAADH//3WM\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Og\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 247,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "Return 0 if no keypress pending. Let\u0027s not make this signed. And what bit width?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3PE\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 257,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "What about LEFT/RIGHT/UP/DOWN? We use those now to cycle locales. UEFI maps those (and the FN keys) in the Ctrl-key range.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//28A\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 257,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAADH//3PE\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3KY\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 266,
      "author": {
        "id": 1000071
      },
      "writtenOn": "2011-06-07T18:38:12Z",
      "side": 1,
      "message": "Will 2) (report at ASCII) conflict with our static definitions. It would be better to just have key chords always be mapped to 0x80-0xFF. Having 2 alternatives just adds to more confusion.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3So\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Should you swap the meaning of 0 and 1 here?\n\nWhen should this be called?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//27Y\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "We call this from our developer and recovery control loops.\n\nOtherwise, there\u0027s no way for us to know that the user has shut the lid, so we can exit our loop and shut down cleanly.",
      "parentUuid": "AAAADH//3So\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3YI\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1000146
      },
      "writtenOn": "2011-06-07T03:06:06Z",
      "side": 1,
      "message": "So this function is for vboot_reference to ask u-boot/h2c whether a shutdown is requested. Do we need a reverse version of this function; meaning, vboot_refernece to request u-boot/h2c to shut down (or cold reboot) the machine?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3O4\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "And again, specify the bit width.",
      "parentUuid": "AAAADH//3YI\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//27w\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Yes, this is for us to find out about a shutdown.\n\nNo, we don\u0027t need a VbReboot() function; we return a reboot code from our entry point.",
      "parentUuid": "AAAADH//3YI\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3YA\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 287,
      "author": {
        "id": 1000146
      },
      "writtenOn": "2011-06-07T03:06:06Z",
      "side": 1,
      "message": "I assume these GPIO flags are fetched once in boot stub, and stored in shared_data_blob that used/shared between boot stub and main firmware, right?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//27I\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 287,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Yes.",
      "parentUuid": "AAAADH//3YA\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Sk\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 289,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Why are these flags 64-bit?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//27M\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 289,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Because flags below was 64-bit.  Changed to 32-bit, along with these.",
      "parentUuid": "AAAADH//3Sk\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3OA\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 293,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "For unified firmware, there will likely be two cases: dev-mode allowed, and dev-mode NOT allowed, for when the dev-mode switch is ON but the stateful partition is not yet wiped. We\u0027ll probably use a VbNvStorage flag to indicate that we\u0027ve booted Google image once, wiped the stateful partition, and are now willing to allow Ctrl-U and self-signed images to boot.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//264\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 293,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Right, that\u0027s internal to us, so isn\u0027t something the caller even knows about.  So in that case, is the unified firmware normal, developer, or \"normdev\"?",
      "parentUuid": "AAAADH//3OA\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Sc\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 298,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Is this the library\u0027s main storage? If so perhaps a name like VbData would be better? It could be passed to VbInit",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3SU\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "It would be good to have functions to set up the values that need set. It isn\u0027t clear to me where gbb_data comes from - if Vb can read disk blocks then can\u0027t it get the GBB itself?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//260\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "GBB !\u003d GPT",
      "parentUuid": "AAAADH//3SU\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3R0\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 305,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Should this be an opaque structure, like\n\nstruct VbSharedData *shared_data_blob;\n\n...\nin C file:\n\nstruct VbSharedData {\n   ... define fields\n}",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3KM\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 314,
      "author": {
        "id": 1000071
      },
      "writtenOn": "2011-06-07T18:38:12Z",
      "side": 1,
      "message": "All flags and typedefs could be moved to its own header. Right now the definitions (of flags) seem to be scattered all around.",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3R4\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Where is this defined?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//27A\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "vboot_nvstorage.h",
      "parentUuid": "AAAADH//3R4\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Ro\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Where is this field malloced and initialized?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3R8\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "userdata? If this is really the user\u0027s data then perhaps it should be passed to all \u0027callback\u0027 routines?\n\nWe seem to have a two different things here:\n\n- shared_data_blob\n- vb_select_internal\n\nWhat is the difference? Can we combine these? Also, where is the structure which defines what is in them?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//26c\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "\"user\" is an even more overloaded term, and I wouldn\u0027t want someone to think the firmware knows about user data.\n\nVbSharedData is passed all the way down to the OS.  Its contents must be defined so that the OS parser can always parse what it\u0027s handed.\n\nvb_select_internal is temporary data used inside a single entry point, which is freed before calling the next stage.  It only needs to be consistent inside a single vboot entry point, and does not need to be passed between entry points.",
      "parentUuid": "AAAADH//3R8\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Rg\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 336,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Perhaps make this an enum?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//26Y\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 336,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "enum --\u003e int, and we need to pass fields with defined bit sizes.",
      "parentUuid": "AAAADH//3Rg\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3KI\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 344,
      "author": {
        "id": 1000071
      },
      "writtenOn": "2011-06-07T18:38:12Z",
      "side": 1,
      "message": "common params for what?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//25g\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 344,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Common between the data passed by the firmware to the VbSelectFirmware() and VbSelectKernel() entry points.",
      "parentUuid": "AAAADH//3KI\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Rk\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 345,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "Where is this defined? Can Vb read this data using the disk read functions?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//26U\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 345,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Firmware is in EEPROM, not on disk.",
      "parentUuid": "AAAADH//3Rk\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3KE\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 358,
      "author": {
        "id": 1000071
      },
      "writtenOn": "2011-06-07T18:38:12Z",
      "side": 1,
      "message": "again, common params for what? What is this needed for?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Ns\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 364,
      "author": {
        "id": 1000058
      },
      "writtenOn": "2011-06-07T17:57:33Z",
      "side": 1,
      "message": "s/void*/BiosDiskHandle_t/",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//25s\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 364,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAADH//3Ns\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3Yc\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 378,
      "author": {
        "id": 1000146
      },
      "writtenOn": "2011-06-07T03:06:06Z",
      "side": 1,
      "message": "You mean in recovery firmware, VbSelectFirmware is called for merely setting up TPM, but not really selecting any firmware?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//26I\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 378,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "VbSelectFirmware() is what decides whether to run in recovery mode.\n\nPreviously, H2C or uboot itself needed to look at the recovery button and/or VbNvStorage recovery request to make this decision.\n\n(Yes, it also sets up the TPM)",
      "parentUuid": "AAAADH//3Yc\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3RU\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 387,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "What does this do? Load the kernel, or just select it?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//26A\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 387,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Both.  Fixed comment.",
      "parentUuid": "AAAADH//3RU\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3RY\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 393,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2011-06-07T17:14:52Z",
      "side": 1,
      "message": "What does this do? When is it called?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//258\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 393,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "Only called on x86 as part of the S3 resume path.  Not called on ARM.",
      "parentUuid": "AAAADH//3RY\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//3NU\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 396,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2011-06-07T18:02:54Z",
      "side": 1,
      "message": "Did I miss the GPIO sampling functions to read Developer/WriteProtect/Recovery state?",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAADH//25w\u003d",
        "filename": "firmware/include/vboot_wrapper.h",
        "patchSetId": 1
      },
      "lineNbr": 396,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2011-06-07T22:47:50Z",
      "side": 1,
      "message": "The switch states are passed as inputs via VbSelectData.flags.\n\n(We only care about their state at boot, not their current state).",
      "parentUuid": "AAAADH//3NU\u003d",
      "revId": "68cac71c7a9c52d4ffb1216c075376f15c369191",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
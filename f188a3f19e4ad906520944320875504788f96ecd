{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "dac8abd2_9241a07c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2021-09-01T00:04:43Z",
      "side": 1,
      "message": "I don\u0027t understand this, what\u0027s the justification? DEBUG is only useful for using GDB, which I don\u0027t think anyone ever does (in fact we had been talking about getting rid of it completely before). Why would you need to enable it by default in the tests? In general I\u0027d try to avoid changing optimization levels as much as possible, it can lead to the weirdest kinds of issues...",
      "revId": "f188a3f19e4ad906520944320875504788f96ecd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42dfb4d2_f56a94f9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2021-09-01T00:13:14Z",
      "side": 1,
      "message": "I now think the motivation is to make the code compile, I uploaded another fix to address the compilation problem \nhttps://chromium-review.googlesource.com/c/chromiumos/platform/vboot_reference/+/3133544\n\nmissed it originally because I tested the previous fix outside chroot and missed a few warnings",
      "parentUuid": "dac8abd2_9241a07c",
      "revId": "f188a3f19e4ad906520944320875504788f96ecd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a048a67f_2ae8006e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2021-09-01T01:16:30Z",
      "side": 1,
      "message": "The first time when I asked Joel how to run vboot tests, the answer I got was\n\n CC\u003dx86_64-pc-linux-gnu-clang DEBUG\u003d1 make runtests\n\nSince then, I\u0027ve been blindly assuming passing DEBUG\u003d1 is the best practice for running unit tests. Now I realize the real reason might be compilation error.\n\nAnyway, Vadim, thanks for fixing that.",
      "parentUuid": "42dfb4d2_f56a94f9",
      "revId": "f188a3f19e4ad906520944320875504788f96ecd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "187805ef_bef06d66",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2021-09-01T01:38:25Z",
      "side": 1,
      "message": "Passing DEBUG\u003d1 implies -DVBOOT_DEBUG, which will cause the stub vb2ex_printf() to print to stderr (for easier debugging). If \"-Og\" can cause issues, we\u0027ll need another way to enable VBOOT_DEBUG for unit tests.\n\nI have a similar CL for depthcharge unit tests [CL:3124074], which introduces TEST_CONSOLE_ENABLE. Maybe we can use the same name in vboot (so both DEBUG and TEST_CONSOLE_ENABLE will imply -DVBOOT_DEBUG).",
      "parentUuid": "a048a67f_2ae8006e",
      "revId": "f188a3f19e4ad906520944320875504788f96ecd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08efe03f_63fdb05c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2021-09-01T23:53:47Z",
      "side": 1,
      "message": "I mean... I don\u0027t think I\u0027ve ever felt console output to be super necessary for running unit tests. Is that really something we want to enable by default? I fear it might just make it harder to see the real PASS/FAIL messages in the output.\n\nFor cases where you explicitly want to enable it, like you said, DEBUG\u003d1 already works, why do we need something else? (I guess if you want to standardize with coreboot and depthcharge I\u0027m also okay with adding an extra TEST_CONSOLE_ENABLE.)",
      "parentUuid": "187805ef_bef06d66",
      "revId": "f188a3f19e4ad906520944320875504788f96ecd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8063b98e_be63d43c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2021-09-02T00:55:29Z",
      "side": 1,
      "message": "\u003e Is that really something we want to enable by default? I fear it might just make it harder to see the real PASS/FAIL messages in the output.\n\nI agree on this part. However when we need to figure out the reason of test failure, console output is extremely useful.\n\n\u003e DEBUG\u003d1 already works, why do we need something else?\n\nOriginally in depthcharge I proposed to use TEST_DEBUG. However, Jacub thought\n\n \"I think, that this is a bit misleading name for this feature. I\u0027d expect TEST_DEBUG to compile code with `-g -Og` or something like that.\"\n\nTBH I don\u0027t care what name it is called, but I really want vboot and depthcharge to be consistent as much as possible.",
      "parentUuid": "08efe03f_63fdb05c",
      "revId": "f188a3f19e4ad906520944320875504788f96ecd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da41ed39_d80f1925",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 1219,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2021-08-31T17:33:50Z",
      "side": 1,
      "message": "why is this necessary?",
      "range": {
        "startLine": 1219,
        "startChar": 12,
        "endLine": 1219,
        "endChar": 30
      },
      "revId": "f188a3f19e4ad906520944320875504788f96ecd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
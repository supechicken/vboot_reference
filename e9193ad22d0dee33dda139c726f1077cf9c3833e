{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f432a366_b5bdb619",
        "filename": "host/arch/x86/lib/crossystem_arch.c",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2023-08-18T02:20:39Z",
      "side": 1,
      "message": "If we need to retain legacy_fw and current path for a much longer time, I\u0027d like to have some optimization here.\n\nCan we do something like\n````\nstatic const char *dir_path \u003d NULL;\n\nif (!dir_path)\n   dir_path \u003d stat() ... ? legacy_fw_path : current_path;\n   \n````",
      "range": {
        "startLine": 118,
        "startChar": 1,
        "endLine": 118,
        "endChar": 31
      },
      "revId": "e9193ad22d0dee33dda139c726f1077cf9c3833e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96ea54e7_63e4005d",
        "filename": "host/arch/x86/lib/crossystem_arch.c",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2023-08-18T02:26:44Z",
      "side": 1,
      "message": "BTW, can we fix that by a symlink so every devices with legacy fw will still have the \u0027current\u0027 style folders?\n\nMaybe do the symlink in the kernel driver, or a startup job if that makes sense.",
      "parentUuid": "f432a366_b5bdb619",
      "range": {
        "startLine": 118,
        "startChar": 1,
        "endLine": 118,
        "endChar": 31
      },
      "revId": "e9193ad22d0dee33dda139c726f1077cf9c3833e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f2caf53_c1236db2",
        "filename": "host/arch/x86/lib/crossystem_arch.c",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1275795
      },
      "writtenOn": "2023-08-18T03:22:37Z",
      "side": 1,
      "message": "ACK for caching the dir_path.\n\nNACK for creating the symlink.\nReasons:\n- It seems userland can\u0027t create symlink in sysfs.  Failed by manual testings.\n- Suppose we have whatever hack for creating the symlink in kernel code, it must be another out-of-tree patch (i.e. CHROMIUM patch).  However, the purpose of deprecating legacy kernel driver is reducing out-of-tree patches in ChromeOS kernels.",
      "parentUuid": "96ea54e7_63e4005d",
      "range": {
        "startLine": 118,
        "startChar": 1,
        "endLine": 118,
        "endChar": 31
      },
      "revId": "e9193ad22d0dee33dda139c726f1077cf9c3833e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "049111f8_3dc614a0",
        "filename": "host/arch/x86/lib/crossystem_arch.c",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2023-08-18T04:13:38Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "9f2caf53_c1236db2",
      "range": {
        "startLine": 118,
        "startChar": 1,
        "endLine": 118,
        "endChar": 31
      },
      "revId": "e9193ad22d0dee33dda139c726f1077cf9c3833e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
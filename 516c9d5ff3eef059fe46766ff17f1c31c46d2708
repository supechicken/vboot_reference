{
  "comments": [
    {
      "key": {
        "uuid": "fcc6fda7_444a31b3",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 237,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2017-11-29T00:38:40Z",
      "side": 1,
      "message": "nit: \"legacy menu\" seems an odd name considering that those screens don\u0027t actually have a menu. How about vb2_is_menuless_screen()?",
      "range": {
        "startLine": 237,
        "startChar": 4,
        "endLine": 237,
        "endChar": 22
      },
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aeeebab4_78635110",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 384,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2017-11-29T00:38:40Z",
      "side": 1,
      "message": "The way the menu option logic is split between this and the UI loop functions is already kinda dicey and I feel this makes it worse. I think it would be better if this function sticks to handling what\u0027s happening for a normal \"select a menu entry\" power button press, and the special double-button combo is directly handled from within vb2_recovery_menu(). (In fact, I think it would be better if the \"press VolUp/VolDown to reveal options menu\" part was only there, too.)",
      "range": {
        "startLine": 384,
        "startChar": 49,
        "endLine": 384,
        "endChar": 63
      },
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d01ee39_acb1424c",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 500,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2017-11-29T00:38:40Z",
      "side": 1,
      "message": "This combo needs to be available from NOGOOD as well, anyway.",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0fab4a8e_ebb4b467",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 500,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2018-01-19T23:53:57Z",
      "side": 1,
      "message": "Actually, I don\u0027t think so.  I think that at the NO_GOOD screen, the user is trying to boot up a USB.  They will have never seen the actual recovery menu at that time.",
      "parentUuid": "1d01ee39_acb1424c",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3bc73ae2_4560c50f",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 500,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2018-01-23T02:20:10Z",
      "side": 1,
      "message": "Hmm... I don\u0027t know, I think the dev-mode-switch combo should work from all recovery screens, including NOGOOD and OPTION. Otherwise it\u0027s just confusing for the user. For example, if it\u0027s not available from OPTION then it won\u0027t work if you accidentally release one button for a split second while you\u0027re trying to press both, because then you end up in OPTION. Also, I think we discussed the NOGOOD case at the last meeting and considered that allowing that is important so that people who need to do this a lot (e.g. school administrators that use it to power wash, or RMA center employees) don\u0027t have to deal with the extra friction of having to remember to take all mediums out that might be in there for unrelated reasons.",
      "parentUuid": "0fab4a8e_ebb4b467",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e0d46ce_ae30e319",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 561,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2017-11-29T00:38:40Z",
      "side": 1,
      "message": "Wouldn\u0027t it work to call vb2_set_menu_items(prev_menu, 0)?",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b15e4132_a238a672",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 561,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2018-01-19T23:53:57Z",
      "side": 1,
      "message": "This is due to us needing to use the prev_manu value.  vb2_set_menu_items overwrites it immediately.",
      "parentUuid": "8e0d46ce_ae30e319",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38db5769_7f6a15df",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 561,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2018-01-23T02:20:10Z",
      "side": 1,
      "message": "But you\u0027re not actually preserving it for long, you\u0027re just using it to assign current menu. So if you call vb2_set_menu_items(prev_menu, 0), prev_menu is updated to OPTIONS, current_menu is updated to the old prev_menu (which was preserved as the function parameter), and essentially all of the stuff you\u0027re open coding here happens in exactly the same way?",
      "parentUuid": "b15e4132_a238a672",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "efddba8f_24326af8",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 598,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2017-11-29T00:38:40Z",
      "side": 1,
      "message": "(...and here, actually...)",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a578fc2b_897f4652",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 598,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2018-01-19T23:53:57Z",
      "side": 1,
      "message": "Same as above.",
      "parentUuid": "efddba8f_24326af8",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7b2d0f4_d42f13ce",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 1137,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2017-11-29T00:38:40Z",
      "side": 1,
      "message": "Wouldn\u0027t this immediately overwrite the options menu again if we enter it from the NOGOOD screen?",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "835b65bb_08f54025",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 1137,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2018-01-19T23:53:57Z",
      "side": 1,
      "message": "Yes, this would refresh regularly to NO_GOOD.  Good point.",
      "parentUuid": "e7b2d0f4_d42f13ce",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00fb8d0f_5f515981",
        "filename": "firmware/lib/vboot_ui_menu.c",
        "patchSetId": 2
      },
      "lineNbr": 1249,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2017-11-29T00:38:40Z",
      "side": 1,
      "message": "80 chars",
      "revId": "516c9d5ff3eef059fe46766ff17f1c31c46d2708",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}
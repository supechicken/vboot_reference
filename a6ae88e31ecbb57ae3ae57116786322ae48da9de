{
  "comments": [
    {
      "key": {
        "uuid": "2bade81e_9a694d17",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T03:05:26Z",
      "side": 1,
      "message": "scenarios",
      "range": {
        "startLine": 12,
        "startChar": 31,
        "endLine": 12,
        "endChar": 39
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ca38629_0e95c4c1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T03:49:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2bade81e_9a694d17",
      "range": {
        "startLine": 12,
        "startChar": 31,
        "endLine": 12,
        "endChar": 39
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e797db38_5d513e9b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T03:05:26Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 13,
        "startChar": 21,
        "endLine": 13,
        "endChar": 23
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f857d346_5efb81dd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T03:05:26Z",
      "side": 1,
      "message": "cannot",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 7
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34cc3fce_cf3ee9cb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T03:49:57Z",
      "side": 1,
      "message": "Done\nActually it is hard for me to tell the difference between \u0027cannot\u0027 and \u0027can not\u0027.\nCan I assume \u0027cannot\u0027 is usually better then the other?",
      "parentUuid": "f857d346_5efb81dd",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 7
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ac90a45_410ec24d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T03:49:57Z",
      "side": 1,
      "message": "How about \u0027the ui_loop implementation\u0027",
      "parentUuid": "e797db38_5d513e9b",
      "range": {
        "startLine": 13,
        "startChar": 21,
        "endLine": 13,
        "endChar": 23
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "165e14c9_91f871a9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T05:02:31Z",
      "side": 1,
      "message": "I\u0027m just not sure what you mean by \"it shortcuts\". Is \"shortcut\" used as a verb here?",
      "parentUuid": "1ac90a45_410ec24d",
      "range": {
        "startLine": 13,
        "startChar": 21,
        "endLine": 13,
        "endChar": 23
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1c0088d_f0ae92dc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T07:11:48Z",
      "side": 1,
      "message": "Try to explain more.",
      "parentUuid": "165e14c9_91f871a9",
      "range": {
        "startLine": 13,
        "startChar": 21,
        "endLine": 13,
        "endChar": 23
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09290ab5_3c1cdc34",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T10:40:25Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b1c0088d_f0ae92dc",
      "range": {
        "startLine": 13,
        "startChar": 21,
        "endLine": 13,
        "endChar": 23
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9d1dba5_1f572ad5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T03:05:26Z",
      "side": 1,
      "message": "synchronizes",
      "range": {
        "startLine": 16,
        "startChar": 8,
        "endLine": 16,
        "endChar": 19
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a434e3c4_67efbffc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T03:49:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f9d1dba5_1f572ad5",
      "range": {
        "startLine": 16,
        "startChar": 8,
        "endLine": 16,
        "endChar": 19
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5fdca47_072d1080",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T03:05:26Z",
      "side": 1,
      "message": "scenarios",
      "range": {
        "startLine": 17,
        "startChar": 17,
        "endLine": 17,
        "endChar": 25
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72484f5e_aceee082",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T03:05:26Z",
      "side": 1,
      "message": "write",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 7
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "609762f2_a522c6be",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T03:49:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "72484f5e_aceee082",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 7
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e84782fc_5168114f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T03:49:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e5fdca47_072d1080",
      "range": {
        "startLine": 17,
        "startChar": 17,
        "endLine": 17,
        "endChar": 25
      },
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ba416e1_d5d392f0",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 288,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T03:05:26Z",
      "side": 1,
      "message": "May I ask why you decided to increment it here instead of in VbExKeyboardReadWithFlags()?",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec1d7a82_63d82831",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 288,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T03:49:57Z",
      "side": 1,
      "message": "The order of keyboard reading, physical presence pressing, and kernel loading should not be strictly defined since we should prevent overfitting.\nSo we should increase this counter at the very end of an iteration, which should be vb2ex_msleep.\n\n(I think preventing doing anything after calling sleep is a reasonable requirement.)",
      "parentUuid": "8ba416e1_d5d392f0",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "140bec67_8181cf3d",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 288,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T05:02:31Z",
      "side": 1,
      "message": "What if vb2ex_msleep is called somewhere else in vboot?",
      "parentUuid": "ec1d7a82_63d82831",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "026f6268_810a8f83",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 288,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T07:11:48Z",
      "side": 1,
      "message": "I think we could increase it in VbExKeyboardReadWithFlags() and leave some XXX here.",
      "parentUuid": "140bec67_8181cf3d",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "22a4a84f_07074f1f",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 288,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T10:45:52Z",
      "side": 1,
      "message": "I don\u0027t think it\u0027s good to leave XXX anywhere in the codebase.\n\nWhat\u0027s the difficulty if the inputs are not synchronized? Could you give me an example test that would be hard to write?",
      "parentUuid": "026f6268_810a8f83",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7320f4d7_c17091ac",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 288,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T13:43:53Z",
      "side": 1,
      "message": "This will be a long comment.\n\n---\n\nFor a example, I want to have a scenario:\nEnter to_dev, press and hold pp button, leave to_dev, release pp button.\n\n #1\n keyboard input \u003d ctrl+D  /* enter to_dev */\n pp pressed \u003d 0\n -\u003e Enter to_dev screen\n ---\n #2\n keyboard input \u003d 0  /* NOP */\n pp pressed \u003d 1\n ---\n #3\n keyboard input \u003d space  /* cancel */\n pp pressed \u003d 1\n -\u003e exit to_dev with holding pp button\n ---\n #4\n keyboard input \u003d 0  /* NOP */\n pp pressed \u003d 0\n -\u003e release in root_screen, do nothing\n ---\n #5\n keyboard input \u003d ctrl+D  /* enter to_dev again */\n pp pressed \u003d 0\n -\u003e Enter to_dev screen again\n ---\n #6\n keyboard input \u003d 0  /* NOP */\n pp pressed \u003d 1\n ---\n #7\n keyboard input \u003d 0  /* NOP */\n pp pressed \u003d 0\n -\u003e Released, active to_dev transition\n\nWe should call vb2ex_physical_presence_pressed() in #1, #2, #5, #6 ,#7.\nOn the other hand, we should not call vb2ex_physical_presence_pressed() in #4.\nThese are well-defined.\n\nHowever, we do not know whether or not vb2ex_physical_presence_pressed() be called in #3.\n(Actually it recently changed from \u0027call\u0027 to \u0027no call\u0027 in CL:2210017.)\n\nThis would be hard for us to write a proper test.\n\nIt should be\n /* #1 */\n add_mock_keypress(VB_KEY_CTRL(\u0027D\u0027));\n add_mock_pp_pressed(0);\n /* #2 */\n add_mock_keypress(0);\n add_mock_pp_pressed(1);\n /* #3 */\n add_mock_keypress(\u0027 \u0027);\n add_mock_pp_pressed(1);\n /* #4 */\n add_mock_keypress(0);\n /* #5 */\n add_mock_keypress(VB_KEY_CTRL(\u0027D\u0027));\n add_mock_pp_pressed(0);\n /* #6 */\n add_mock_pp_pressed(1);\n /* #7 */\n add_mock_pp_pressed(0);\n\nWhich should pass test if we call vb2ex_physical_presence_pressed() in #3.\n\nIf we changed our mind, and did not call vb2ex_physical_presence_pressed() in #3,\nwe will receive \u00271\u0027 in #5, then fail to enter to_dev.\n\n---\n\nSome similar troubles happen in the \u0027skipping iter #0\u0027 case.\n(Since we cannot solve key input properly, but we can solve vbtlk in iter #0)\nBut I have not dig into too deep in that case.\n\n---\n\nPlease let me know if you have better approach then the hacky sync.",
      "parentUuid": "22a4a84f_07074f1f",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad6dc570_7693e767",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 288,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T14:08:55Z",
      "side": 1,
      "message": "Thanks for the detailed explanation. Now I understand what the difficulty is. I need more time to think about this problem, but I also don\u0027t want to block you from committing this. Therefore, since we don\u0027t have a better solution right now, please\n\n* Move \"mock_iters++;\" to whatever function you think the best, and\n* Remove \"XXX\"\n\nThanks.",
      "parentUuid": "7320f4d7_c17091ac",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9e3cbb1_951b46b9",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 288,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T15:52:55Z",
      "side": 1,
      "message": "Since we might need vb2ex_msleep in something like vb2_flash_screen(),\nI think put it in VbExKeyboardReadWithFlags() is fine for now.",
      "parentUuid": "ad6dc570_7693e767",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2aec88dc_b6a0f7af",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 429,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-29T03:08:37Z",
      "side": 1,
      "message": "Remove this line?",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f0fa497b_593dfec3",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 2
      },
      "lineNbr": 429,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-05-29T03:49:57Z",
      "side": 1,
      "message": "Done\nRemoved some of the following tests, too.",
      "parentUuid": "2aec88dc_b6a0f7af",
      "revId": "a6ae88e31ecbb57ae3ae57116786322ae48da9de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4c08df51_c879ebe5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2024-08-16T06:29:38Z",
      "side": 1,
      "message": "if that\u0027s the case, what about just do a isprint() check and replace that with \u0027\u003cnot printable\u003e for the manifest?",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 63
      },
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8eb5020_80904e65",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2024-08-16T06:47:33Z",
      "side": 1,
      "message": "Well, if its content happens to be all printable (which is possible), it still doesn\u0027t make sense to print it in `\"ecrw\": \"xxx\"`. So I\u0027d like to avoid printing confusing information.\n\nAn alternative way is to check if \"ecrw.version\" match the expected pattern (for example, the length should be at least 4 (Wilco\u0027s file is 3 bytes)). If it doesn\u0027t, skip printing the ecrw version. However, I don\u0027t like this approach either, because it would need extra assumptions about the EC version string.\n\nThat said, if there\u0027s no good way to tell Wilco devices from others, I\u0027m okay with either of the above workarounds.",
      "parentUuid": "4c08df51_c879ebe5",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 63
      },
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09ad7168_8dc0f50f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2024-08-16T09:44:57Z",
      "side": 1,
      "message": "Please check PS2.",
      "parentUuid": "a8eb5020_80904e65",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 63
      },
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c9679b45_348ed92c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2024-08-16T06:30:55Z",
      "side": 1,
      "message": "I think we should think about \u0027is the goal to fix EC RW VER with non-printable strings\u0027, or \u0027to workaround wilco so they can perform the update\u0027?\n\nIf we actually have to ignore all non-printable strings, I\u0027d rather apply some check/conversion for all images, not just wilco.",
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3fc40254_dc986520",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2024-08-16T08:39:45Z",
      "side": 1,
      "message": "I missed this comment in my previous reply.\n\n\u003e I think we should think about \u0027is the goal to fix EC RW VER with non-printable strings\u0027, or \u0027to workaround wilco so they can perform the update\u0027?\n\nTo clarify, `futility update --manifest` doesn\u0027t fail with Wilco images, but `... | jq` would fail. Therefore I don\u0027t think this issue actually affects firmware update in any way (`--manifest` isn\u0027t used in AU, right?).\n\nWhen I added the \"ecrw\" to the output of `--manifest`, I didn\u0027t expect it to show Wilco\u0027s ecrw.version content. Therefore, I think the goal here is to workaround Wilco so that `futility --manifest` would output a valid json.",
      "parentUuid": "c9679b45_348ed92c",
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0f54456d_62cdd52d",
        "filename": "futility/updater_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2024-08-16T05:50:25Z",
      "side": 1,
      "message": "Let me know if there\u0027s a better way to tell Wilco from others.",
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "efe1594e_e912318b",
        "filename": "futility/updater_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2024-08-16T06:29:38Z",
      "side": 1,
      "message": "I\u0027d prefer such hacks to be implemented as quirks.\n\nyou can create a quirk like QUIRK_IGNORE_ECRW_VER, and either enable the quirk in the wilco firmware image builders (although this implies another firmware release, which we probably want to prevent), or add that to the platform-specific quirks list.",
      "parentUuid": "0f54456d_62cdd52d",
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8d89fcd_79396cf9",
        "filename": "futility/updater_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2024-08-16T06:47:33Z",
      "side": 1,
      "message": "This definitely isn\u0027t worth a firmware release. So, are you okay to add Wilco names to `quirks_records`? Your comment (in CL:3458024) says that should NOT be used anymore.",
      "parentUuid": "efe1594e_e912318b",
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "941f8d02_7207ffa1",
        "filename": "futility/updater_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2024-08-16T07:35:20Z",
      "side": 1,
      "message": "Well, since Wilco is in already in the quirks_records, it\u0027s not increasing the time we have to support that... So I think you can do that if the approach works for you.",
      "parentUuid": "b8d89fcd_79396cf9",
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03f24d06_2648a394",
        "filename": "futility/updater_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2024-08-16T08:39:45Z",
      "side": 1,
      "message": "\u003e Wilco is in already in the quirks_records\n\nIt used to be there, but you removed it in CL:4864628 last year.\n\n\u003e it\u0027s not increasing the time we have to support that\n\nTrogdor is in the list, whose AUE date (2031) is later than Wilco (2030), so adding Wilco back wouldn\u0027t make things worse? Are you okay with that?",
      "parentUuid": "941f8d02_7207ffa1",
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2670546_c39aa21f",
        "filename": "futility/updater_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2024-08-16T08:44:13Z",
      "side": 1,
      "message": "\u003e \u003e Wilco is in already in the quirks_records\n\u003e It used to be there, but you removed it in CL:4864628 last year.\n\n  Ah you are right :)\n\n\u003e \u003e it\u0027s not increasing the time we have to support that\n\u003e Trogdor is in the list, whose AUE date (2031) is later than Wilco (2030), so adding Wilco back wouldn\u0027t make things worse? Are you okay with that?\n\n I\u0027m OK with that.",
      "parentUuid": "03f24d06_2648a394",
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee2e63d2_042d0d5b",
        "filename": "futility/updater_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2024-08-16T09:44:57Z",
      "side": 1,
      "message": "`updater_setup_quirks` isn\u0027t called for `--manifest`, so I give up on this approach. Please check PS2.",
      "parentUuid": "d2670546_c39aa21f",
      "revId": "8924f8434f46385811cfe4327dafbba8d73dda0b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
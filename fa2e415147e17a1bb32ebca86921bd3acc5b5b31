{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "cb818676_d8db3c16",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2024-09-23T16:04:22Z",
      "side": 1,
      "message": "can you put at least one example?",
      "range": {
        "startLine": 10,
        "startChar": 28,
        "endLine": 10,
        "endChar": 52
      },
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca6a807a_c9cb3a35",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1265562
      },
      "writtenOn": "2024-09-23T17:26:59Z",
      "side": 1,
      "message": "I think it would be a good idea to put explanations like this in code comments since sometimes commit messages get lost/difficult to find because of code migrations.",
      "parentUuid": "cb818676_d8db3c16",
      "range": {
        "startLine": 10,
        "startChar": 28,
        "endLine": 10,
        "endChar": 52
      },
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "89bff5ec_abffccd7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2024-09-25T10:00:40Z",
      "side": 1,
      "message": "Example in the form of Android\u0027s gdbclient.py added. I also added more info about the path requirements itself.",
      "parentUuid": "ca6a807a_c9cb3a35",
      "range": {
        "startLine": 10,
        "startChar": 28,
        "endLine": 10,
        "endChar": 52
      },
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0d0a224_cd13d311",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2024-09-23T16:04:22Z",
      "side": 1,
      "message": "should we have a meta bug for all vboot_reference tools?",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 12,
        "endChar": 8
      },
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9845b635_cab604c1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2024-09-25T10:00:40Z",
      "side": 1,
      "message": "I created one according to my manager\u0027s instructions: b/369290629",
      "parentUuid": "c0d0a224_cd13d311",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 12,
        "endChar": 8
      },
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d11b00d6_62095617",
        "filename": "host/lib/crossystem.c",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2024-09-23T23:18:35Z",
      "side": 1,
      "message": "I don\u0027t think we should be relying on predefined macros for this, this is not the same as things like `__FreeBSD__`. If we want an Android flag, it should go through the Makefile.\n\nBut I think it would be better if we could do without an opaque \"Android\" switch that makes it hard to see what behaviors it changes anyway. Hopefully we don\u0027t need so many differences, so that we can cover the few that there are with individual switches.\n\nSo I would suggest you add `CROSSYSTEM_LOCK_DIR` as a Makefile variable that defaults to `/run/lock` and can be overridden to point to something else on the make command line.",
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c538e6f2_7cc63826",
        "filename": "host/lib/crossystem.c",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2024-09-25T10:00:40Z",
      "side": 1,
      "message": "Good idea. I had to solve it the `#ifdef` way for pciutils and flashrom due to us not owning them, but as we own the vboot_reference it seems to be the best way. (Btw. we have to finally refactor vboot Makefiles, because they are a nightmare to work with at this point).\n\nAnyway, I added `CROSSYSTEM_LOCK_DIR` to the Makefile with it defaulting to `/run/lock`. Android does not use Makefile, but Android.bp so I just defined it for Android builds only.",
      "parentUuid": "d11b00d6_62095617",
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ff0fb78_dadcd116",
        "filename": "host/lib/crossystem.c",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2024-09-26T00:38:15Z",
      "side": 1,
      "message": "It\u0027s pretty concerning that we have two completely separate build descriptions with no automatic sync between them. I know the Makefile is a mess but there are also a bunch of subtle but important things in there that would be easy to lose.\n\nDoes Android really not support building this kind of stuff from Makefiles at all? It would be much easier to handle if we could have everything built from the same description.",
      "parentUuid": "c538e6f2_7cc63826",
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4c087fe_230011be",
        "filename": "host/lib/crossystem.c",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2024-09-26T07:32:29Z",
      "side": 1,
      "message": "Unfortunately no, Android does not support separate makefiles anymore. You have to either use Android.bp (Soong Blueprint) or Makefile.mk for Android Kati (GNU Make fork). Both typs of files are \"concatenated\" and transformed into one large (2+GiB) ninja file and then it\u0027s either run locally or split between local and remote compilers.\nTrying to go around it does not make sense as any slight change in the environment would necessitate changes in workarounds needed to run our Makefile.",
      "parentUuid": "1ff0fb78_dadcd116",
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5fdb5f4a_86b3713d",
        "filename": "host/lib/crossystem.c",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1265562
      },
      "writtenOn": "2024-09-23T17:25:05Z",
      "side": 1,
      "message": "Some questions we should probably answer about this path before settling on it.\n\n**Is this a tmpfs like `/run`?**\n\n**If not do we care if the lock file is present from boot?**\n\nWe might want to include the answer in a comment as justification for why this path is the right one for Android for anyone who comes along later trying to understand our choice.",
      "range": {
        "startLine": 29,
        "startChar": 30,
        "endLine": 29,
        "endChar": 45
      },
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "741a5782_a50a791b",
        "filename": "host/lib/crossystem.c",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2024-09-25T10:00:40Z",
      "side": 1,
      "message": "Thank you for the suggestion. I added the appropriate description in the commit message. PTAL :)",
      "parentUuid": "5fdb5f4a_86b3713d",
      "range": {
        "startLine": 29,
        "startChar": 30,
        "endLine": 29,
        "endChar": 45
      },
      "revId": "fa2e415147e17a1bb32ebca86921bd3acc5b5b31",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
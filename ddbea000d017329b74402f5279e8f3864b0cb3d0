{
  "comments": [
    {
      "key": {
        "uuid": "a10ec30f_4d0cd69d",
        "filename": "Makefile",
        "patchSetId": 4
      },
      "lineNbr": 688,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2019-10-22T07:32:42Z",
      "side": 1,
      "message": "Move to TEST2X_NAMES.",
      "range": {
        "startLine": 688,
        "startChar": 0,
        "endLine": 688,
        "endChar": 29
      },
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "733a1734_6280e627",
        "filename": "Makefile",
        "patchSetId": 4
      },
      "lineNbr": 688,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-22T17:31:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a10ec30f_4d0cd69d",
      "range": {
        "startLine": 688,
        "startChar": 0,
        "endLine": 688,
        "endChar": 29
      },
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56934dc0_ba902c6d",
        "filename": "firmware/2lib/2auxfw_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-21T23:29:43Z",
      "side": 1,
      "message": "I think it would help if you did one commit to pull the functions in ec_sync_all.c apart in the way you want, and then another commit that just moves the individual parts into different files. Otherwise it\u0027s really hard to review what you changed.",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27cf138b_06a768d3",
        "filename": "firmware/2lib/2auxfw_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-22T17:31:33Z",
      "side": 1,
      "message": "I like that, I\u0027ll do that.",
      "parentUuid": "56934dc0_ba902c6d",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c00f135_5e396a2a",
        "filename": "firmware/2lib/include/2auxfw_sync.h",
        "patchSetId": 4
      },
      "lineNbr": 13,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-21T23:29:43Z",
      "side": 1,
      "message": "Please add docs, I have no idea what these are supposed to do. (In general, I don\u0027t think naming everything phase1/2/3 helps readability, so we should try to get away from that where possible.)",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba74056f_d0eebbd2",
        "filename": "firmware/2lib/include/2auxfw_sync.h",
        "patchSetId": 4
      },
      "lineNbr": 13,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-22T17:31:33Z",
      "side": 1,
      "message": "My bad, will fix.  I\u0027ll see what I can do with the names.  auxfw_sync_check_for_update, auxfw_sync_perform_update, auxfw_sync_finalize, something like that maybe?",
      "parentUuid": "3c00f135_5e396a2a",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcc150f7_20ac4acd",
        "filename": "firmware/2lib/include/2auxfw_sync.h",
        "patchSetId": 4
      },
      "lineNbr": 13,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-23T15:39:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba74056f_d0eebbd2",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "41b674f2_8b3d16c0",
        "filename": "firmware/2lib/include/2return_codes.h",
        "patchSetId": 4
      },
      "lineNbr": 95,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-21T23:29:43Z",
      "side": 1,
      "message": "This doesn\u0027t make sense. The code is called EC_REBOOT_TO_RO because we want to reboot *the EC* to RO (which is different from just rebooting the AP to RO). Even in the auxfw failure cases, it\u0027s the EC that needs the reboot... the TCPCs themselves don\u0027t have an RO.",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb9ac84e_0ebb1985",
        "filename": "firmware/2lib/include/2return_codes.h",
        "patchSetId": 4
      },
      "lineNbr": 95,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-22T17:31:33Z",
      "side": 1,
      "message": "I thought that was supposed to be the *cause* of the reboot (i.e., who requires a reboot of the EC to RO, EC or auxfw?).  As in, Auxfw update requires a reboot to EC\u0027s RO section first.  I understand, will fix.",
      "parentUuid": "41b674f2_8b3d16c0",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dabd051a_7c563768",
        "filename": "firmware/include/vboot_api.h",
        "patchSetId": 4
      },
      "lineNbr": 799,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-21T23:29:43Z",
      "side": 1,
      "message": "I\u0027m confused why we need both of these? Right now VbExEcVbootDone() protects the auxfw tunnels, there\u0027s no other explicit call anymore. Why did this split into two callbacks here?",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d010a32_b75bbbbe",
        "filename": "firmware/include/vboot_api.h",
        "patchSetId": 4
      },
      "lineNbr": 799,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-22T17:31:33Z",
      "side": 1,
      "message": "The idea was to split it up so that EcVbootDone takes care of EC housekeeping (check power available), and this one to do the auxfw tunnel protection.  Once they the EC and auxfw FW updates are split up, if EcVbootDone protects the tunnels, then the FW cannot be updated, am I understanding correctly?",
      "parentUuid": "dabd051a_7c563768",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8cf2f89_ab482295",
        "filename": "firmware/include/vboot_api.h",
        "patchSetId": 4
      },
      "lineNbr": 799,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-31T18:57:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5d010a32_b75bbbbe",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93770ebe_14cf2a02",
        "filename": "firmware/lib/ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-21T23:29:43Z",
      "side": 1,
      "message": "Can\u0027t we just get rid of all the WAIT screen stuff from here right away? Only auxfw should need that.",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aea3562e_8bc0e1ff",
        "filename": "firmware/lib/ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1000423
      },
      "writtenOn": "2019-10-22T00:16:09Z",
      "side": 1,
      "message": "That isn\u0027t true, we need this for some platforms (like Wilco) so it can\u0027t just be removed.",
      "parentUuid": "93770ebe_14cf2a02",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "084e46de_44167b02",
        "filename": "firmware/lib/ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-22T00:26:54Z",
      "side": 1,
      "message": "Oh, does the Wilco EC itself need the slow update screen? I didn\u0027t know that. The code looks like it\u0027s using a similar LPC interface as our Chrome ECs on x86... is the update still that much slower that we can\u0027t run it without a screen?",
      "parentUuid": "aea3562e_8bc0e1ff",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8e7dfa2_0b9b7083",
        "filename": "firmware/lib/ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1000423
      },
      "writtenOn": "2019-10-22T01:33:32Z",
      "side": 1,
      "message": "Unfortunately yes.  A combination of inefficient protocol and shared SPI bus makes the programming take longer than 30 seconds on Wilco.",
      "parentUuid": "084e46de_44167b02",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ad17171_4ade31a5",
        "filename": "firmware/lib/ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-22T02:55:59Z",
      "side": 1,
      "message": "Crap. Then I guess we won\u0027t be able to standardize on romstage software sync until we got rid of Wilco ECs. :/",
      "parentUuid": "c8e7dfa2_0b9b7083",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09c8b5dd_16c2c79d",
        "filename": "firmware/lib/ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-31T18:57:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6ad17171_4ade31a5",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "48ed5d40_0758f90d",
        "filename": "firmware/lib/ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 493,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-21T23:29:43Z",
      "side": 1,
      "message": "We should have a shared data flag to make sure we don\u0027t do this again if it was already done in coreboot, without fetching the hash again.",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f3defbb_0e40017c",
        "filename": "firmware/lib/ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 493,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-22T17:31:33Z",
      "side": 1,
      "message": "A new flag in vb2_shared_data?  Sure, I\u0027ll take a look.",
      "parentUuid": "48ed5d40_0758f90d",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c726b366_9a9b188f",
        "filename": "firmware/lib/ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 493,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-31T18:57:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5f3defbb_0e40017c",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fe011c43_e6e8e125",
        "filename": "firmware/lib/vboot_api_kernel.c",
        "patchSetId": 4
      },
      "lineNbr": 392,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2019-10-22T07:32:42Z",
      "side": 1,
      "message": "May as well correct this to read something like \"In cases where the EC or Aux FW update slowly, a single non-interactive WAIT screen will be displayed.\"",
      "range": {
        "startLine": 390,
        "startChar": 10,
        "endLine": 392,
        "endChar": 0
      },
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4430cc73_3193e7c9",
        "filename": "firmware/lib/vboot_api_kernel.c",
        "patchSetId": 4
      },
      "lineNbr": 392,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-22T17:31:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fe011c43_e6e8e125",
      "range": {
        "startLine": 390,
        "startChar": 10,
        "endLine": 392,
        "endChar": 0
      },
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64122ed9_d54e7e86",
        "filename": "firmware/stub/vboot_api_stub.c",
        "patchSetId": 4
      },
      "lineNbr": 168,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2019-10-22T07:32:42Z",
      "side": 1,
      "message": "Should be moved to firmware/2lib/2stub.c.",
      "range": {
        "startLine": 148,
        "startChar": 0,
        "endLine": 168,
        "endChar": 1
      },
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40b31319_bf382d46",
        "filename": "firmware/stub/vboot_api_stub.c",
        "patchSetId": 4
      },
      "lineNbr": 168,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-22T17:31:33Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "64122ed9_d54e7e86",
      "range": {
        "startLine": 148,
        "startChar": 0,
        "endLine": 168,
        "endChar": 1
      },
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c780788e_d429fe90",
        "filename": "tests/vb2_auxfw_sync_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-21T23:29:43Z",
      "side": 1,
      "message": "Here too I think it would help if you first moved all the auxfw-related test code into their own file without changing them, and then in the next commit added the API changes so it\u0027s easier to see how the tests change in relation to that.",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79491fa2_a9d6a0c1",
        "filename": "tests/vb2_auxfw_sync_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2019-10-22T07:32:42Z",
      "side": 1,
      "message": "That sounds like a good idea.",
      "parentUuid": "c780788e_d429fe90",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f0ef6ab_fb371665",
        "filename": "tests/vb2_auxfw_sync_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1327490
      },
      "writtenOn": "2019-10-22T17:31:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79491fa2_a9d6a0c1",
      "revId": "ddbea000d017329b74402f5279e8f3864b0cb3d0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
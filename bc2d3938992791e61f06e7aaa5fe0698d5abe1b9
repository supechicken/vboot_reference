{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "89147820_eb3d680f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-01-19T01:30:43Z",
      "side": 1,
      "message": "Does this need to be a separate lock file? Flashrom already has a lock, wouldn\u0027t it be cleaner if we just had powerd check that directly?",
      "revId": "bc2d3938992791e61f06e7aaa5fe0698d5abe1b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "47a1acd3_0cfaec59",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1408939
      },
      "writtenOn": "2022-01-19T02:56:40Z",
      "side": 1,
      "message": "Flashrom lock creation was removed in crrev.com/c/3312440 but has effectively been disabled since crrev.com/c/3247852, so there will only be one lock file.\n\nWe want to move locking to futility since managing the state of a Chrome OS system to ensure updates go smoothly is beyond the scope of flashrom and has to be maintained as a local diff since it\u0027s not useful in upstream.",
      "parentUuid": "89147820_eb3d680f",
      "revId": "bc2d3938992791e61f06e7aaa5fe0698d5abe1b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab07e86c_6706acf9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-01-19T23:40:13Z",
      "side": 1,
      "message": "No, I don\u0027t mean that lock. I mean the normal, generic flashrom lock (the one that makes sure that when you run any two flashrom processes in parallel they don\u0027t talk over each other to the flash. I believe it\u0027s /run/lock/firmware_utility_lock? See flashrom\u0027s big_lock.c.\n\nRather than having powerd look specifically for the updater, wouldn\u0027t it make sense anyway that it waits whenever there\u0027s anything on the system (e.g. even crossystem) in the process of writing to flash?",
      "parentUuid": "47a1acd3_0cfaec59",
      "revId": "bc2d3938992791e61f06e7aaa5fe0698d5abe1b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
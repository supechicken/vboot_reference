{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "69ffe23a_077ea2f7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-02-17T07:59:20Z",
      "side": 1,
      "message": "Before copying a large amount of code from another repo, I\u0027d like to understand what functionality is actually needed for ChromeOS firmware. Some imported code (`SHA256_init`) looks like a duplicate of existing code (`vb2_sha256_init` in firmware/2lib/2sha256.c). Can we try to add minimal code only?",
      "revId": "24514c3311af0cbbdf791364ca1114dca9c72c83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab60efa0_be17bd7e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-02-17T07:59:20Z",
      "side": 1,
      "message": "Import",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 8
      },
      "revId": "24514c3311af0cbbdf791364ca1114dca9c72c83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4226f14_d8676a7f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1293547
      },
      "writtenOn": "2023-02-17T08:29:07Z",
      "side": 1,
      "message": "hmmm, I copied the file directly from the original repo.\nBecause we will need to use the PRNG \u0026 ECDSA part, the sha256 would be necessary.\nIt\u0027s possible to replace the usage of the SHA256_init with vb2_sha256_init, but I would prefer to do that in the other CL.",
      "parentUuid": "69ffe23a_077ea2f7",
      "revId": "24514c3311af0cbbdf791364ca1114dca9c72c83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4a18044a_a7a9d732",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1293547
      },
      "writtenOn": "2023-02-17T08:29:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ab60efa0_be17bd7e",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 8
      },
      "revId": "24514c3311af0cbbdf791364ca1114dca9c72c83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47c8f540_fa12eefb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-02-17T10:28:25Z",
      "side": 1,
      "message": "Okay, I think we need to continue the discussion \"What\u0027s the best way to do crypto in firmware(AP \u0026 EC)?\" here. There are a few options (sorted by the level of divergence of the vboot code from the crypto repo):\n\n1. Link with crypto lib. No code change (except API wrappers) in vboot_reference. A compile time flag needs to be created, so that vboot can still build outside chromium. This is similar to what we did for flashrom.\n2. Copy the files to vboot_reference with minimal modification (like this CL is doing).\n3. Copy only the files with new features (for example excluding `SHA256_init`). These files have to be adapted to vboot APIs.\n4. Copy only the part of the code that is actually needed in our use case. For example, remove `p256_base_point_mul` if it isn\u0027t used in coreboot and depthcharge.\n5. Change coding style to conform to existing code.\n\nPersonally I\u0027d prefer option #3, perhaps with #5 as well.\n\n\u003e Because we will need to use the PRNG \u0026 ECDSA part, the sha256 would be necessary.\n\nAgain, I\u0027d like to know what exact APIs will be used in coreboot/depthcharge.",
      "parentUuid": "e4226f14_d8676a7f",
      "revId": "24514c3311af0cbbdf791364ca1114dca9c72c83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4bca7a7e_48cae0a0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1293547
      },
      "writtenOn": "2023-02-17T10:45:00Z",
      "side": 1,
      "message": "For the KDF part, I think we will need `p256_prng_init`, `p256_prng_draw`, `p256_base_point_mul`.\n(We will use the prng the generate the ECC private key, and use `p256_base_point_mul` to get the public key from the private key.)\n(It\u0027s possible the replace the prng with the other KDF function(e.g. simple HMAC). But we will still need the `p256_base_point_mul`.)\n\nFor the ECDSA part, we only need the `p256_ecdsa_sign`, it\u0027s possible to remove some unused functions.\n\ngo/widevine-l1-rot-arm",
      "parentUuid": "47c8f540_fa12eefb",
      "revId": "24514c3311af0cbbdf791364ca1114dca9c72c83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
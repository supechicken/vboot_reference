{
  "comments": [
    {
      "key": {
        "uuid": "1ccc0905_cfaefa82",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1176254
      },
      "writtenOn": "2020-08-31T10:24:22Z",
      "side": 1,
      "message": "If you prefer to have several smaller changes instead: that can be arranged.",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4fddf7d0_d954fb67",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-09-01T22:14:43Z",
      "side": 1,
      "message": "I\u0027m fine with either.",
      "parentUuid": "1ccc0905_cfaefa82",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f25adb6_bd790d2e",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-08-28T22:37:55Z",
      "side": 1,
      "message": "Why this? Why should FreeBSD systems not be able to override CC via environment variable?",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97261e54_ae1daccb",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1176254
      },
      "writtenOn": "2020-08-31T15:58:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2f25adb6_bd790d2e",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f196f381_4f0df534",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 332,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-08-28T22:37:55Z",
      "side": 1,
      "message": "Just wrap another $(if $(filter clang,${CC}),...) around here to stop building fuzzers with GCC, I think that\u0027s cleaner than the other fuzzer hacks you have below.",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "623ec64f_5dc156a0",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 332,
      "author": {
        "id": 1176254
      },
      "writtenOn": "2020-08-31T15:58:40Z",
      "side": 1,
      "message": "Yes, I\u0027d like to have unittests run. The thing is that cc aliases to clang, and clang isn\u0027t called explicitly.\n\nThe (wrong) filter rule, which results in a LD error (see below) is:\n+       $(if $(filter cc,{CC}),fuzzzers) \\",
      "parentUuid": "f196f381_4f0df534",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "751da229_1ea5f664",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 332,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-09-01T22:14:43Z",
      "side": 1,
      "message": "Well, fuzzers aren\u0027t normal unit tests, and the `fuzzers` build target is separate from `runtests`. They are very special kinds of tests that can only be built with clang and also need to be run in a specialized environment (you can\u0027t really just \"run\" them standalone, you need a lot of extra stuff installed and set up a magic chroot for them and everything, it\u0027s pretty complicated to do manually... they are here mostly for our automated test infrastructure to pick up).\n\nSo I think writing this here like I suggested should be good enough. For our Chrome OS use case all the clang binaries we use should always have `clang` in the name, so that should be fine, and I don\u0027t think anyone else should realistically want to build these fuzzer binaries. So I think it should be good enough to err on the side of not building them here for anything that isn\u0027t explicitly clang.",
      "parentUuid": "623ec64f_5dc156a0",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1242df4_ae07f35a",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 796,
      "author": {
        "id": 1176254
      },
      "writtenOn": "2020-08-31T15:58:40Z",
      "side": 1,
      "message": "Without this guard, using CC\u003dgcc:\n    CC            tests/cgpt_fuzzer.o\n    LD            tests/cgpt_fuzzer\n/usr/local/bin/ld: /usr/lib/crt1.o: in function `_start\u0027:\n/usr/src/lib/csu/amd64/crt1_c.c:75: undefined reference to `main\u0027",
      "range": {
        "startLine": 796,
        "startChar": 17,
        "endLine": 796,
        "endChar": 18
      },
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf281cfe_6b77fa6a",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 954,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-08-28T22:37:55Z",
      "side": 1,
      "message": "Is this really a problem with FreeBSD or is it just that you test system doesn\u0027t have libuuid installed? Some googling suggests libuuid can exist on FreeBSD (e.g. https://www.freshports.org/misc/e2fsprogs-libuuid/), so then there\u0027s no real reason to exclude this based on OS here.\n\nIf you want to write this such that libuuid is optional for vboot and it will fall back to using hardcoded UUIDs when that\u0027s not available, I\u0027m okay with that too but then the check needs to be written differently... probably using pkgconfig or something to detect the library, not just basing it off the OS.",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e129806_0397f000",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 954,
      "author": {
        "id": 1176254
      },
      "writtenOn": "2020-08-31T15:58:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cf281cfe_6b77fa6a",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f00d796_90f6fad4",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 1131,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-08-28T22:37:55Z",
      "side": 1,
      "message": "Same here, you can definitely have OpenSSL installed on FreeBSD, and it\u0027s needing for so much core functionality that I don\u0027t think there\u0027s a point in trying to make it optional.",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2519b62c_4aad30fa",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 1131,
      "author": {
        "id": 1176254
      },
      "writtenOn": "2020-08-31T15:58:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6f00d796_90f6fad4",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "216d8c01_28ef5b8e",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 1150,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-08-28T22:37:55Z",
      "side": 1,
      "message": "Do you care about running unit tests on FreeBSD? Otherwise I think it\u0027s easier to just leave these as is, they shouldn\u0027t stop you from just building vboot itself.",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a576c1b_fd6ecbd8",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 1150,
      "author": {
        "id": 1176254
      },
      "writtenOn": "2020-08-31T15:58:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "216d8c01_28ef5b8e",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c5a5a827_cd037f38",
        "filename": "cgpt/cgpt_wrapper.c",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-08-28T22:37:55Z",
      "side": 1,
      "message": "Well now you\u0027ll basically always return `true` on FreeBSD here, which is not really correct. If FreeBSD doesn\u0027t have MTD support, this function should be made to always return false there.",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1bc72a9_f75c32a0",
        "filename": "cgpt/cgpt_wrapper.c",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1176254
      },
      "writtenOn": "2020-08-31T15:58:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c5a5a827_cd037f38",
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88fe6478_b8ed6ce4",
        "filename": "futility/updater_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2020-08-28T22:37:55Z",
      "side": 1,
      "message": "Looks like there\u0027s an extra tab here?",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 1
      },
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a2aadfb_3295d496",
        "filename": "futility/updater_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1176254
      },
      "writtenOn": "2020-08-31T15:58:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "88fe6478_b8ed6ce4",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 1
      },
      "revId": "2271b71787010d4dcd6c934a8a7f0c6094630bde",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
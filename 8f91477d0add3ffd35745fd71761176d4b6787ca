{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "37471f08_6519ff8a",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "Why not just cmd_flash.c?",
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac1a9204_9bbffac7",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2023-03-08T10:26:38Z",
      "side": 1,
      "message": "I also thought about this but sort of liked _utility as a suffix as to mitigate some confusion with the update command. Certainly a lot of overloaded terms in this space sadly.",
      "parentUuid": "37471f08_6519ff8a",
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56d4e454_d79bfc4e",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 17,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "Line too long. Did you upload the CL using `repo upload`?\n\n```\n[FAILED] chromiumos/platform/vboot_reference: _run_checkpatch\n    /usr/local/google/home/yupingso/projects/chromiumos/src/repohooks/checkpatch.pl errors/warnings\n\n    WARNING: Non-standard signature: Co-authored-by:\n    #21:\n    Co-authored-by: Edward O\u0027Callaghan \u003cquasisec@google.com\u003e\n\n    WARNING: line over 80 characters\n    #80: FILE: futility/cmd_flash_utility.c:17:\n    +static int get_ro_range(struct updater_config *cfg, uint32_t *start, uint32_t *len)\n```",
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5fa2876c_a9518ee9",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 29,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "Since `flashrom_read_image_impl()` already supports getting offset and size of a region, we may modify `flashrom_read_region(..., region_start, region_len)` signature and then use it here.",
      "range": {
        "startLine": 23,
        "startChar": 1,
        "endLine": 29,
        "endChar": 37
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc97c3d0_01beb4da",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 29,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2023-03-08T23:36:18Z",
      "side": 1,
      "message": "I feel like this lines up with `cmd_gbb_utility.c:read_from_flash()` in a consistent and robust way. It would be a better idea to leave this as-is and follow up with a patch that factors out common access patterns afterwards not have subtle different ways of using flashrom_drv providers each time.\n\nThe flashrom_drv internal API is already a mess due to the subprocess quark. As an aside, I cannot see the advantage to using low-level raw region offsets from flashrom directly than just asking for the region by name and allowing `fmap_find_by_name()` to fall upon the trivial base case and do it\u0027s intended job. All that said, feels like a bit of a tangent to this patch.",
      "parentUuid": "5fa2876c_a9518ee9",
      "range": {
        "startLine": 23,
        "startChar": 1,
        "endLine": 29,
        "endChar": 37
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56eddce6_aed5ad24",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 68,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "It\u0027s unclear whether this is \"len\" or \"end\". How about `srp\u003d%d, start\u003d0x%08x, len\u003d0x%08x`?",
      "range": {
        "startLine": 68,
        "startChar": 59,
        "endLine": 68,
        "endChar": 65
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "792cb7e8_bff88261",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 76,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "Move it to the top (above `get_ro_range`) to be consistent with the order in `do_flash`.",
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc18df9f_04709ae2",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 84,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "%#x",
      "range": {
        "startLine": 84,
        "startChar": 22,
        "endLine": 84,
        "endChar": 26
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d52f9f0_124087e8",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 84,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "Let\u0027s use `:` to be consistent with `print_wp_status`.",
      "range": {
        "startLine": 84,
        "startChar": 19,
        "endLine": 84,
        "endChar": 21
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ecd4b6fc_cd26efac",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 84,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2023-03-08T23:36:18Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "2d52f9f0_124087e8",
      "range": {
        "startLine": 84,
        "startChar": 19,
        "endLine": 84,
        "endChar": 21
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68605298_49458030",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 105,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2023-03-08T23:36:18Z",
      "side": 1,
      "message": "`STATUS(`",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 7
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b8944bb_a5bd75b0",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 126,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2023-03-08T23:36:18Z",
      "side": 1,
      "message": "maybe worth adding a line or two here that explains the purpose of the sub-command. Perhaps something like,\n\n\"Allows for the management of AP SPI flash registers and configuration.\\n\"",
      "range": {
        "startLine": 126,
        "startChar": 9,
        "endLine": 126,
        "endChar": 12
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94e54a38_0f905426",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 192,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2023-03-08T23:36:18Z",
      "side": 1,
      "message": "I noticed `futility flash` just returns with no help.",
      "range": {
        "startLine": 192,
        "startChar": 18,
        "endLine": 192,
        "endChar": 21
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66dbfd23_e8e6cb75",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 217,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "Do we need `prepare_servo_control`?",
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e69bd70_0eca0709",
        "filename": "futility/cmd_flash_utility.c",
        "patchSetId": 14
      },
      "lineNbr": 236,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2023-03-08T23:36:18Z",
      "side": 1,
      "message": "\"h registers.\"",
      "range": {
        "startLine": 236,
        "startChar": 44,
        "endLine": 236,
        "endChar": 45
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd52c420_afcc2fa6",
        "filename": "futility/updater.h",
        "patchSetId": 14
      },
      "lineNbr": 16,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "Maybe just `FMAP_RO` to have a common prefix?",
      "range": {
        "startLine": 16,
        "startChar": 12,
        "endLine": 16,
        "endChar": 22
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7897c17a_4993676b",
        "filename": "futility/updater.h",
        "patchSetId": 14
      },
      "lineNbr": 16,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2023-03-08T10:26:38Z",
      "side": 1,
      "message": "I thought about this one too however the suffix name is the name of the region and so you end up with `FMAP_RO_WP_RO` so it is actually the first entry that is wrong not this one. i.e., `FMAP_RO_FMAP` should perhaps just be called `FMAP_FMAP` if we were to split hairs. Also `FMAP_RO_CBFS` should be `FMAP_COREBOOT`, therefore I don\u0027t think there is a consistent way to name these as the regions were never consistently named in the first place.\n\nA probable fix here is to rename all the prefixes from `FMAP_` to `FLASH_REGION_`, but outside the scope of this patch.",
      "parentUuid": "cd52c420_afcc2fa6",
      "range": {
        "startLine": 16,
        "startChar": 12,
        "endLine": 16,
        "endChar": 22
      },
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "054581cb_1b261637",
        "filename": "host/lib/include/flashrom.h",
        "patchSetId": 14
      },
      "lineNbr": 97,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-03-08T09:02:27Z",
      "side": 1,
      "message": "Extra blank line.",
      "revId": "8f91477d0add3ffd35745fd71761176d4b6787ca",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
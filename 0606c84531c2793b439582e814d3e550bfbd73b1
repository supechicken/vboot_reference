{
  "comments": [
    {
      "key": {
        "uuid": "8720478c_c04ef097",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 9
      },
      "lineNbr": 229,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-05-26T10:32:31Z",
      "side": 1,
      "message": "To be honest, I\u0027m not a huge fan of this assumption.  This would be another place where it\u0027d be nice if we could set the \"type\" of each vb2_menu_item.  In this case, check if menu[0].type \u003d\u003d LANGUAGE.  If so, then set selected_item to 1.  (Or loop until the first PRIMARY is found, but that might be overkill.)",
      "range": {
        "startLine": 229,
        "startChar": 0,
        "endLine": 229,
        "endChar": 57
      },
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d1b5803_e2d966d2",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 9
      },
      "lineNbr": 229,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-27T04:37:44Z",
      "side": 1,
      "message": "I think a boolean field \u0027is_language_select\u0027 is currently sufficient in vboot. Once we move the UI to depthcharge, it\u0027s not that hard to change checking.",
      "parentUuid": "8720478c_c04ef097",
      "range": {
        "startLine": 229,
        "startChar": 0,
        "endLine": 229,
        "endChar": 57
      },
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9abb6def_19459f38",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 9
      },
      "lineNbr": 229,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-05-27T08:19:36Z",
      "side": 1,
      "message": "Okay, looks fine.",
      "parentUuid": "3d1b5803_e2d966d2",
      "range": {
        "startLine": 229,
        "startChar": 0,
        "endLine": 229,
        "endChar": 57
      },
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "731f528f_fe61ae66",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 9
      },
      "lineNbr": 68,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-05-26T10:32:31Z",
      "side": 1,
      "message": "Rather than limiting this into get_language_menu(), what if we just return NULL here, and have get_menu_items() take care of returning empty_menu in that case?\n\nIf we do this, then language_select_init() could just check get_language_menu() \u003d\u003d NULL.",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 68,
        "endChar": 3
      },
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "faf14df9_71d0943c",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 9
      },
      "lineNbr": 68,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-27T04:37:44Z",
      "side": 1,
      "message": "Done.\n\nNote that since get_menu_items() is called in language_select_init(), we don\u0027t have to check for NULL there.",
      "parentUuid": "731f528f_fe61ae66",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 68,
        "endChar": 3
      },
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e94791c0_76ba396e",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 9
      },
      "lineNbr": 103,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-05-26T10:32:31Z",
      "side": 1,
      "message": "So currently, what happens when we return an error here?  Does it still bubble down to depthcharge vboot_select_and_load_kernel() and cause a cold reboot?\n\nI think ideally, we want recovery mode to ignore the error and keep going (return back to the last screen), and developer mode to save a recovery request and reboot into non-manual recovery.",
      "range": {
        "startLine": 102,
        "startChar": 0,
        "endLine": 103,
        "endChar": 35
      },
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "247bd457_41844e3d",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 9
      },
      "lineNbr": 103,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-27T04:37:44Z",
      "side": 1,
      "message": "\u003e Does it still bubble down to depthcharge vboot_select_and_load_kernel() and cause a cold reboot?\n\nYes.\n\n\u003e I think ideally, we want recovery mode to ignore the error and keep going (return back to the last screen), and developer mode to save a recovery request and reboot into non-manual recovery.\n\nI agree. Let\u0027s discuss how to achieve that in PS5.",
      "parentUuid": "e94791c0_76ba396e",
      "range": {
        "startLine": 102,
        "startChar": 0,
        "endLine": 103,
        "endChar": 35
      },
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fea83e2f_bbcc8928",
        "filename": "tests/vb2_ui_action_tests.c",
        "patchSetId": 9
      },
      "lineNbr": 632,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-05-27T08:19:36Z",
      "side": 1,
      "message": "Can we add another test here for the case where the first menu item has is_language_select set?",
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00c00bf3_98287568",
        "filename": "tests/vb2_ui_action_tests.c",
        "patchSetId": 9
      },
      "lineNbr": 632,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-28T07:59:40Z",
      "side": 1,
      "message": "Added a test case for is_language_select in change_screen_tests() instead.",
      "parentUuid": "fea83e2f_bbcc8928",
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c953ab6_5db50c4d",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 9
      },
      "lineNbr": 250,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-05-26T10:32:31Z",
      "side": 1,
      "message": "Line break.",
      "range": {
        "startLine": 250,
        "startChar": 37,
        "endLine": 250,
        "endChar": 38
      },
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd1444bb_9072ef68",
        "filename": "tests/vb2_ui_tests.c",
        "patchSetId": 9
      },
      "lineNbr": 250,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-05-27T04:37:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0c953ab6_5db50c4d",
      "range": {
        "startLine": 250,
        "startChar": 37,
        "endLine": 250,
        "endChar": 38
      },
      "revId": "0606c84531c2793b439582e814d3e550bfbd73b1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
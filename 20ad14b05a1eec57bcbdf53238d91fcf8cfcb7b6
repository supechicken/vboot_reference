{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2f0a2118_a43c6818",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-10-14T23:02:08Z",
      "side": 1,
      "message": "I don\u0027t think this needs to be integrated into this command, we have several dedicated utilities that can do this already. You can either use `futility dump_fmap -x \u003cimage\u003e RO_GSCVD:\u003cfilename\u003e` or `cbfstool \u003cimage\u003e read -r RO_GSCVD -f \u003cfilename\u003e`.",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "326f11af_efa4a611",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2022-10-14T23:19:13Z",
      "side": 1,
      "message": "Dumping this at the time when the section is created would be faster than invoking dump_fmap on the produced file, also the resulting blob would be smaller than the full RO_GSCVD section. If you think this is not enough to justify this extension I will abandon this patch.",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eb6f1d9c_858313aa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-10-14T23:58:44Z",
      "side": 1,
      "message": "Hmm... okay, fair enough, having smaller files sounds worth it.",
      "parentUuid": "326f11af_efa4a611",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48b03d45_10b86431",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2022-10-19T22:43:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "2f0a2118_a43c6818",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "687fdba6_e8020896",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-10-14T23:58:44Z",
      "side": 1,
      "message": "I find the name of the option very confusing compared to what it does. How about `--outfile_gscvd` or `--gscvd_out` or something like that?\n\nI also feel like if you supplied this option, that should mean that the new GSCVD is only written to that other file and the original image should not be modified.",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc30dd88_0afcd4d4",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2022-10-16T19:50:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "687fdba6_e8020896",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9984a72f_2ebc2f26",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-10-19T22:26:25Z",
      "side": 1,
      "message": "What about the \"original image should not be modified\" part? I think writing the GSCVD to both the original image and a separate file is odd, you would normally only want one or the other.",
      "parentUuid": "bc30dd88_0afcd4d4",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18b5c620_41991d28",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2022-10-19T22:43:39Z",
      "side": 1,
      "message": "Why is this odd? The image is always signed, if necessary the section can also be saved in a separate file, I think this makes sense.\n\nThis would work fine with  `sign_official_build.sh` which singns multiple images in a loop creating key blobs, but for each model the last signed image is placed in /firmware/image-*.bin.",
      "parentUuid": "9984a72f_2ebc2f26",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95fa43c4_0c8cb223",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-10-20T01:27:57Z",
      "side": 1,
      "message": "\u003e which singns multiple images in a loop creating key blobs, but for each model the last signed image is placed in /firmware/image-*.bin.\n\nThat\u0027s... a weird design on the part of sign_official_build.sh then. Just keeping the last image seems very arbitrary, I would have assumed it first builds a full image and then builds the individual LOEM keyblocks.\n\nBut fine, it doesn\u0027t really matter, if that script is the only thing that will ever call this I guess we might as well do it that way.",
      "parentUuid": "18b5c620_41991d28",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc19c99a_848a7feb",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2022-10-20T01:33:20Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "95fa43c4_0c8cb223",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "52b6423a_56b51e84",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2022-10-20T03:30:09Z",
      "side": 1,
      "message": "\u003e That\u0027s... a weird design on the part of sign_official_build.sh then. Just keeping the last image seems very arbitrary, I would have assumed it first builds a full image and then builds the individual LOEM keyblocks.\n\nI\u0027d agree it\u0027s weird, but that\u0027s all history ðŸ˜Š We used to support only one image in the firmware archives, so the sign_official_build signed directly in-place. Then the LOEM model is introduced (with keyset), and even worse the \"converting an existing model to LOEM\" - that needs last-signed image kept (for the model without LOEM VPD tags), and ultimately the unibuild multi-model + custom label. Yes, super complicated...",
      "parentUuid": "bc19c99a_848a7feb",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2123c142_cdef45dc",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 618,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-10-14T23:58:44Z",
      "side": 1,
      "message": "We have vb2_write_file() for all this.",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "88bfb5cc_2595d15f",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 618,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2022-10-16T19:50:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2123c142_cdef45dc",
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0f1ef7c_1131d48e",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 1205,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-10-14T23:58:44Z",
      "side": 1,
      "message": "This should be FILE_RO for the new flag, then.",
      "range": {
        "startLine": 1205,
        "startChar": 53,
        "endLine": 1205,
        "endChar": 60
      },
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b769e012_9cb9f7e1",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 1205,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2022-10-16T19:50:00Z",
      "side": 1,
      "message": "the new flag is not supposed to be used on its own, it only can be added when actual AP RO signing is happening.",
      "parentUuid": "b0f1ef7c_1131d48e",
      "range": {
        "startLine": 1205,
        "startChar": 53,
        "endLine": 1205,
        "endChar": 60
      },
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dfa160d6_1bd6fc4c",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 1205,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-10-19T22:26:25Z",
      "side": 1,
      "message": "This comment is related to the one above about not modifying the original image.",
      "parentUuid": "b769e012_9cb9f7e1",
      "range": {
        "startLine": 1205,
        "startChar": 53,
        "endLine": 1205,
        "endChar": 60
      },
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad667304_99b46002",
        "filename": "futility/cmd_gscvd.c",
        "patchSetId": 2
      },
      "lineNbr": 1205,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2022-10-19T22:43:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "dfa160d6_1bd6fc4c",
      "range": {
        "startLine": 1205,
        "startChar": 53,
        "endLine": 1205,
        "endChar": 60
      },
      "revId": "20ad14b05a1eec57bcbdf53238d91fcf8cfcb7b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
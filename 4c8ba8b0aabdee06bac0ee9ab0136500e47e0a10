{
  "comments": [
    {
      "key": {
        "uuid": "fa5ce463_46e3d60d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2018-05-22T17:02:58Z",
      "side": 1,
      "message": "Please add tests.  vboot_reference/firmware has ~99% test coverage, viewable with \u0027COV\u003d1 make\u0027.",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 10,
        "endChar": 9
      },
      "revId": "4c8ba8b0aabdee06bac0ee9ab0136500e47e0a10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "499100b4_d99adfd5",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 7
      },
      "lineNbr": 228,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2018-05-15T08:58:57Z",
      "side": 1,
      "message": "This is throwing a linking error.  Is there something I\u0027m misunderstanding about 2misc code?  If we can\u0027t access Alt OS TPM space from here, perhaps it would just make more sense to lump everything into vboot_ui.c (see PS6).",
      "range": {
        "startLine": 228,
        "startChar": 6,
        "endLine": 228,
        "endChar": 23
      },
      "revId": "4c8ba8b0aabdee06bac0ee9ab0136500e47e0a10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6cd6621c_52c30709",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 7
      },
      "lineNbr": 228,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2018-05-16T05:05:27Z",
      "side": 1,
      "message": "After doing some research, I believe the problem is that 2lib code is unable to call into lib v1 code.  Here are the relevant lines from vboot_reference Makefile:\n\n  VBINIT_SRCS +\u003d \\\n    firmware/lib/rollback_index.c \\\n  VBSF_SRCS +\u003d ${VBINIT_SRCS}\n  FWLIB_SRCS +\u003d ${VBSF_SRCS} ${VBSLK_SRCS}\n  FWLIB_OBJS \u003d ${FWLIB_SRCS:%.c\u003d${BUILD}/%.o}\n  FWLIB2X_OBJS \u003d ${FWLIB2X_SRCS:%.c\u003d${BUILD}/%.o}\n  FWLIB20_OBJS \u003d ${FWLIB20_SRCS:%.c\u003d${BUILD}/%.o}\n  FWLIB21_OBJS \u003d ${FWLIB21_SRCS:%.c\u003d${BUILD}/%.o}\n  ${FWLIB}: ${FWLIB_OBJS} ${FWLIB2X_OBJS} ${FWLIB20_OBJS}\n\nMy Makefile-foo is not great, but this makes me suspect that these lib \"versions\" are linked independently.\n\nvboot experts, please let me know if my conjecture is correct or if there is some other issue going on.  I\u0027ve also commented on CL:1034484.",
      "parentUuid": "499100b4_d99adfd5",
      "range": {
        "startLine": 228,
        "startChar": 6,
        "endLine": 228,
        "endChar": 23
      },
      "revId": "4c8ba8b0aabdee06bac0ee9ab0136500e47e0a10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c17e74ad_f3de9cdd",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 7
      },
      "lineNbr": 228,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2018-05-22T17:02:58Z",
      "side": 1,
      "message": "If you\u0027re linking against $FWLIB, you should have all the objects present.\n\nThough you might be better off having vb2_get_alt_os_flags() which operates on ctx.secdatak, since that\u0027d be a vb2 code path.",
      "parentUuid": "6cd6621c_52c30709",
      "range": {
        "startLine": 228,
        "startChar": 6,
        "endLine": 228,
        "endChar": 23
      },
      "revId": "4c8ba8b0aabdee06bac0ee9ab0136500e47e0a10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f58fcc60_d79678d2",
        "filename": "firmware/lib/vboot_api_kernel.c",
        "patchSetId": 7
      },
      "lineNbr": 463,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2018-05-15T08:58:57Z",
      "side": 1,
      "message": "Any thoughts about this?  From my investigation, looks like VbExEcEnteringMode is only used for testing.",
      "range": {
        "startLine": 463,
        "startChar": 2,
        "endLine": 463,
        "endChar": 58
      },
      "revId": "4c8ba8b0aabdee06bac0ee9ab0136500e47e0a10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd3b0bcf_ca3ed495",
        "filename": "firmware/lib/vboot_api_kernel.c",
        "patchSetId": 7
      },
      "lineNbr": 463,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2018-05-15T23:17:04Z",
      "side": 1,
      "message": "What would EC AltOS mode do?\n\nIf this is something like switching the EC into I2C sensor hub mode, then we\u0027d need it.  But then we would only want to do that if we\u0027re *actually* booting AltOS, not merely if we\u0027re showing the picker.",
      "parentUuid": "f58fcc60_d79678d2",
      "range": {
        "startLine": 463,
        "startChar": 2,
        "endLine": 463,
        "endChar": 58
      },
      "revId": "4c8ba8b0aabdee06bac0ee9ab0136500e47e0a10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3ac61f9_d03d2b16",
        "filename": "firmware/lib/vboot_ui.c",
        "patchSetId": 7
      },
      "lineNbr": 229,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2018-05-15T08:58:57Z",
      "side": 1,
      "message": "Any opinions about this?",
      "range": {
        "startLine": 228,
        "startChar": 1,
        "endLine": 229,
        "endChar": 53
      },
      "revId": "4c8ba8b0aabdee06bac0ee9ab0136500e47e0a10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f98361aa_d094aa14",
        "filename": "firmware/lib/vboot_ui.c",
        "patchSetId": 7
      },
      "lineNbr": 229,
      "author": {
        "id": 1000187
      },
      "writtenOn": "2018-05-15T23:17:04Z",
      "side": 1,
      "message": "Ok to call VbBootNormal() directly.\n\nBut vb2_alt_os_flow() needs to be split apart into several functions, so that there are fewer flows where it ends up falling down into VbBootNormal().",
      "parentUuid": "e3ac61f9_d03d2b16",
      "range": {
        "startLine": 228,
        "startChar": 1,
        "endLine": 229,
        "endChar": 53
      },
      "revId": "4c8ba8b0aabdee06bac0ee9ab0136500e47e0a10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
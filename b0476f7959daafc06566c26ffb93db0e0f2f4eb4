{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7fc7af47_b0c347d7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 9,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-21T10:15:28Z",
      "side": 1,
      "message": "memcpy",
      "range": {
        "startLine": 9,
        "startChar": 54,
        "endLine": 9,
        "endChar": 61
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8fb51fc3_c3a3d792",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 9,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7fc7af47_b0c347d7",
      "range": {
        "startLine": 9,
        "startChar": 54,
        "endLine": 9,
        "endChar": 61
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbfd3c49_d8289a41",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 12
      },
      "lineNbr": 631,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "Is this size value needed when it\u0027s null-terminated?",
      "fixSuggestions": [
        {
          "fixId": "7ea9e245_2c3920e0",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "firmware/2lib/include/2api.h",
              "range": {
                "startLine": 630,
                "startChar": 0,
                "endLine": 632,
                "endChar": 0
              },
              "replacement": ""
            }
          ]
        }
      ],
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a5746f7_d48044b4",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 12
      },
      "lineNbr": 631,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-21T10:15:28Z",
      "side": 1,
      "message": "I think it means the cmdline buffer size (passed from depthcharge), not the cmdline string len.",
      "parentUuid": "fbfd3c49_d8289a41",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b37f109b_4b418bed",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 12
      },
      "lineNbr": 631,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-24T14:16:29Z",
      "side": 1,
      "message": "Yu-Ping is right, this is the size of the region with kernel cmdline parameters.",
      "parentUuid": "3a5746f7_d48044b4",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a21447dc_aa582bcb",
        "filename": "firmware/2lib/include/2load_android_kernel.h",
        "patchSetId": 12
      },
      "lineNbr": 24,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "typo",
      "range": {
        "startLine": 24,
        "startChar": 20,
        "endLine": 24,
        "endChar": 30
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "105d120d_865526cc",
        "filename": "firmware/2lib/include/2load_android_kernel.h",
        "patchSetId": 12
      },
      "lineNbr": 24,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Fixed in CL:6030619",
      "parentUuid": "a21447dc_aa582bcb",
      "range": {
        "startLine": 24,
        "startChar": 20,
        "endLine": 24,
        "endChar": 30
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f47b9c33_ed01fa08",
        "filename": "firmware/2lib/include/2load_android_kernel.h",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-21T10:15:28Z",
      "side": 1,
      "message": "remove blank line",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "53148d70_ea62254b",
        "filename": "firmware/2lib/include/2load_android_kernel.h",
        "patchSetId": 12
      },
      "lineNbr": 32,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Code removed",
      "parentUuid": "f47b9c33_ed01fa08",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68a515a2_06343b66",
        "filename": "firmware/2lib/include/2load_android_kernel.h",
        "patchSetId": 12
      },
      "lineNbr": 34,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-21T10:15:28Z",
      "side": 1,
      "message": "```suggestion\nvb2_error_t vboot_android_reserve_buffers(\n\tstruct vb2_kernel_params *params,\n\tGptData *gpt,\n\tconst char *slot_suffix,\n\tvb2ex_disk_handle_t disk_handle);\n```",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 34,
        "endChar": 59
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2bf54e2d_00b3d6b6",
        "filename": "firmware/2lib/include/2load_android_kernel.h",
        "patchSetId": 12
      },
      "lineNbr": 34,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Code removed.",
      "parentUuid": "68a515a2_06343b66",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 34,
        "endChar": 59
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58f81df7_b99286b1",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "Sorry, I meant that this array goes inside the kparams struct, and shouldn\u0027t just be a freestanding global. That way, depthcharge can get the partition information back out of there right away. Although I do acknowledge that for some cases like the ramdisk or bootconfig you may still need separate entries to communicate them, but we should still avoid having state in globals anyway. You can probably just reuse the same struct (maybe instead of `android_part` just name it something more generic like `vb2_preload_buffer`) and just make separate fields for those, e.g.:\n```\nstruct vb2_kernel_params {\n  ...\n  uint8_t partition_guid[16];\n  uint32_t flags;\n  struct vb2_preload_buffer preloaded[GPT_ANDROID_PRELOADED_NUM];\n  struct vb2_preload_buffer combined_ramdisk;\n  struct vb2_preload_buffer bootconfig;\n  char *vendor_cmdline; /* null-terminated */\n  char *vboot_cmdline; /* null-terminated */\n}\n```",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bccdc1bc_d9d0fadb",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-24T14:16:29Z",
      "side": 1,
      "message": "But Depthcharge does not need to know the address of each partition. It just cares about kernel and ramdisk as a whole. Does it really make sense to add variable which is only used in two places in vboot to kparams struct?",
      "parentUuid": "58f81df7_b99286b1",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b70b9536_d50e1cc3",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-26T00:13:37Z",
      "side": 1,
      "message": "I think we just shouldn\u0027t store state in global variables in any way. kparams doesn\u0027t just need to be the interface to depthcharge, it can also be scratch space for vboot associated with the current boot. (Actually, the same applies to vboot_avb so maybe we should `malloc()` that.)",
      "parentUuid": "bccdc1bc_d9d0fadb",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b099d075_f8b03a58",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-26T02:44:52Z",
      "side": 1,
      "message": "\u003e it can also be scratch space\n\nI\u0027m not sure if I agree. The standard scratch space for vboot is `vb2_shared_data`. The `vb2_kernel_params` object is defined in depthcharge, so I\u0027d prefer only adding what depthcharge needs to that struct.\n\nFor this particular case, I don\u0027t like the `parts` global either. However the best solution I can think of is to move that inside the `vboot_avb_data` struct. I\u0027m fine with using `malloc+memset` for that.",
      "parentUuid": "b70b9536_d50e1cc3",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "81fe0229_936a8fc7",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "I moved parts into \u0027vboot_avb_data\u0027",
      "parentUuid": "b099d075_f8b03a58",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "baef2660_0a556ca1",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-03-11T22:00:10Z",
      "side": 1,
      "message": "vboot_avb_data is fine too but then let\u0027s actually malloc() that.",
      "parentUuid": "81fe0229_936a8fc7",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "424dc72a_a770167a",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-03-12T12:45:46Z",
      "side": 1,
      "message": "It was malloc\u0027ed in the initial version of patch and was changed because reviewer requested so. I am not going to bring back initial version again. It requires changes in couple of places and another review iteration. It is not a bug and we can have it like that.",
      "parentUuid": "baef2660_0a556ca1",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5564121_c9d7b19a",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-03-13T00:00:04Z",
      "side": 1,
      "message": "Well, that comment was specific to the AvbObs data structure, not vboot_avb_data. I also asked for that to be static initialized but we didn\u0027t end up doing that either. (Granted, AvbOps has a pointer to vboot_avb_data so it couldn\u0027t have been completely immutable anyway, and I didn\u0027t really think that through the first time I looked at this. Sorry for the back-and-forth.)\n\nIn general, mutable global data should be avoided unless there\u0027s really a need for that data to be singleton. Normal functions that just work on their input parameters should generally be reentrant, meaning you should be able to call `vboot_avb_ops_new()` twice with different parameters and operate on both them independently. Our code doesn\u0027t currently do that but it\u0027s still good design to not write code that would introduce problems if it did (and it tends to help with testing).\n\nFor data structures that really just contain immutable function pointers you could have both instances share the same structure, but when we actually have stuff like partition buffers in there that doesn\u0027t work. So it would be better to heap-allocate them for each instance separately.",
      "parentUuid": "424dc72a_a770167a",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a573286_2a160255",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-03-13T12:44:47Z",
      "side": 1,
      "message": "\"Well, that comment was specific to the AvbObs data structure, not vboot_avb_data.\"\n\nOk, but it was changed to be static in December last year, pointing out that it should be like that two months later is kind of unfair.\n\n\"I also asked for that to be static initialized but we didn\u0027t end up doing that either. (Granted, AvbOps has a pointer to vboot_avb_data so it couldn\u0027t have been completely immutable anyway, and I didn\u0027t really think that through the first time I looked at this. Sorry for the back-and-forth.)\"\n\nI really don\u0027t understand that argument, it sounds like \"I also ask you to did another change which you did not (but ok, it cannot be done).\"\n\n\"\"\"\nIn general, mutable global data should be avoided unless there\u0027s really a need for that data to be singleton. Normal functions that just work on their input parameters should generally be reentrant, meaning you should be able to call vboot_avb_ops_new() twice with different parameters and operate on both of them independently. Our code doesn\u0027t currently do that but it\u0027s still good design to not write code that would introduce problems if it did (and it tends to help with testing).\n\nFor data structures that really just contain immutable function pointers you could have both instances share the same structure, but when we actually have stuff like partition buffers in there that doesn\u0027t work. So it would be better to heap-allocate them for each instance separately.\n\"\"\"\n\n I totally agree with you that in a perfect world it should be like that. But:\n - this change will impact 5 other commits and some of them are already +2\n - it will create another iteration of review, test and comments\n - it will delay pvmfw and fastboot support\n - it will allow us to use 2 instances of avb which probably wont ever be needed\n\nInitial version of the patchset was uploaded in June last year. For the last 3 months when the second iteration was uploaded I did almost all the changes you requested (no matter if I agree with it or not). I did a couple of refactoring. I cleaned up Foster/Smaug, simplify boot_policy, cleaned up cgpt which actually was out of the scope of my task. But right now I am losing hope that we really want to add this support to main. At some point we need to live with the fact that the code is not perfect and moving on with the project is more important.",
      "parentUuid": "a5564121_c9d7b19a",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f5b3a702_c9fade1b",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 29,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-03-13T22:01:29Z",
      "side": 1,
      "message": "Hi Grzegorz,\n\nI understand your frustration (I once waited 9+ months for Aaron to just do a single review cycle, trust me, I know) but I can also tell you from experience that for an effort of this size and importance, the amount of time and review cycles we have spent on it (and are still going to spend) is not at all unusual. That is the big difference between proof-of-concept code written up by one person and a well-designed and maintained production code base that we can base many generations of products on. vboot is the most security-critical piece of our firmware code so this is the part that really needs to be designed and unit-tested (which is also a part we still need to get around to) most thoroughly before we ship it to users. And thorough design also means that you may sometimes need to clean up adjacent, not directly related parts so that things fit together better, because otherwise you just accumulate technical debt that will eventually drag you down further and further, and that usually takes more time to clean up later on than if you had already made that effort right away.\n\nThis isn\u0027t really about \"fairness\" â€” I\u0027m not here to make your life hard or judge your efforts overly harshly, I\u0027m here to work together with you to make this code the best it can be. You have been doing some great work already and you should absolutely not take any of these requests as criticism, it\u0027s just that sometimes as a reviewer you only see after some time that maybe there\u0027s yet another even better way to structure things. I brought up the static initializer thing just to illustrate that I originally thought this could go into a different direction where keeping that structure static would have been acceptable (if it would have been completely immutable). But I was wrong back then and didn\u0027t think things through all the way, they developed into a different direction, and with the way it turned out right now I think dynamic allocation is clearly the better choice because there\u0027s no need for this code to be non-reentrant when the alternative doesn\u0027t really cost notably more. I\u0027m definitely trying not to flip-flop on my review suggestions whenever possible, and it\u0027s fair to call me out on it, but in this case I can really just say that it looked different to me back then and the way I thought it could go didn\u0027t quite turn out. That happens, unfortunately.\n\nWe can discuss schedule risk trade-offs when there\u0027s a big request that would really take a lot more time to implement (as I know we\u0027ve still had a few open ones on the depthcharge side, which is why I\u0027m trying to get through with this code ASAP so that I can go look at that again next). But in this case, as far as I can tell (unless I\u0027m missing something?), it should be a really easy change of a few lines that\u0027s basically localized to the `vboot_avb_ops_new()` function. So... we could go back and forth a few more times arguing whether this is the one more cleanup that is too much, or we could probably just fix it in the time it takes to write another long comment?",
      "parentUuid": "1a573286_2a160255",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b0c87d5_8a0df2fc",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 39,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "This still returns `AvbIOResult`, not `vb2_error_t` (and I think that is okay, but the type here needs to be corrected).",
      "range": {
        "startLine": 39,
        "startChar": 7,
        "endLine": 39,
        "endChar": 18
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9540fdec_48ea34d7",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 39,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "nit: usually we only use the `vb2_` prefix for non-static functions.",
      "range": {
        "startLine": 39,
        "startChar": 19,
        "endLine": 39,
        "endChar": 45
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "856c075b_2688705b",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 39,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-21T10:15:28Z",
      "side": 1,
      "message": "+1. We may also drop \"android\" from the name.",
      "parentUuid": "9540fdec_48ea34d7",
      "range": {
        "startLine": 39,
        "startChar": 19,
        "endLine": 39,
        "endChar": 45
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b887f454_533c8b53",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 39,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6b0c87d5_8a0df2fc",
      "range": {
        "startLine": 39,
        "startChar": 7,
        "endLine": 39,
        "endChar": 18
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "783d7c37_7be76959",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 39,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "856c075b_2688705b",
      "range": {
        "startLine": 39,
        "startChar": 19,
        "endLine": 39,
        "endChar": 45
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "baf67837_b6d73903",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 100,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "If you want out_num_read to be nullable, this needs to be guarded too.",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5321b96c_79857646",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 100,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "baf67837_b6d73903",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "753034a3_d5aad2f1",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 134,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "nit: this on the other hand could use the `vb2_` prefix. We don\u0027t really use `vboot_`...",
      "range": {
        "startLine": 134,
        "startChar": 12,
        "endLine": 134,
        "endChar": 17
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35f4065c_c0b2d44e",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 134,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-21T10:15:28Z",
      "side": 1,
      "message": "I don\u0027t think this function belongs here. Only functions needed by `vboot_avb_ops_new` should exist in this file. Can we remove this from this patch, and add this to 2load_android_kernel.c as a static function in CL:6030619?\n\nAlternatively, we can call `vboot_android_reserve_buffers` at the beginning of `get_preloaded_partition` (when it\u0027s called for the 1st time). `bool is_buffer_reserved` can be added in `vboot_avb_data` to remember if `vboot_android_reserve_buffers` is done or not.",
      "parentUuid": "753034a3_d5aad2f1",
      "range": {
        "startLine": 134,
        "startChar": 12,
        "endLine": 134,
        "endChar": 17
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea536155_5980412e",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 134,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "35f4065c_c0b2d44e",
      "range": {
        "startLine": 134,
        "startChar": 12,
        "endLine": 134,
        "endChar": 17
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4004e9e8_8ba70685",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 139,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "This should be doable with a for loop (something similar to my comment from last time, just without the actual loading part).",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc0c27a2_ef4d935f",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 139,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-24T14:16:29Z",
      "side": 1,
      "message": "Yes, but I think that in the future we do not want to put VENDOR_BOOT/INIT_BOOT partition directly above the kernel. So we would have kernel, then some address at which we put vendor/init boot and next address at which we put pvmfw. So \u0027for\u0027 loop would be a little akward as almost each partition requires different start address? Or maybe I miss something?",
      "parentUuid": "4004e9e8_8ba70685",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c98a1069_2175b164",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 139,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-26T00:13:37Z",
      "side": 1,
      "message": "Hmm... maybe. We can leave it like this for now and see how things look once we added all those special cases. (I still feel the for loop option, even with special cases for target variables, might be cleaner though. You\u0027re duplicating a bunch of lines for each partition here.)",
      "parentUuid": "dc0c27a2_ef4d935f",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ce7f134_68b0ea71",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 142,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-26T00:13:37Z",
      "side": 1,
      "message": "BTW as long as you\u0027re using `vb2_error_t`, you can simplify constructions like this with `VB2_TRY()`.",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fdb80f48_74a79737",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 142,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:59:41Z",
      "side": 1,
      "message": "I dont think VB2_TRY simplifies code. Let me leave it as it is.",
      "parentUuid": "0ce7f134_68b0ea71",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac4a320e_b2981eb6",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-27T06:51:50Z",
      "side": 1,
      "message": "Should check that, for all partitions, the overall size doesn\u0027t exceed `params-\u003ekernel_buffer_size`.",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0666d8c9_9aa7c76f",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ac4a320e_b2981eb6",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "333377dd_7b246548",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 145,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-27T06:44:48Z",
      "side": 1,
      "message": "%zx",
      "range": {
        "startLine": 145,
        "startChar": 37,
        "endLine": 145,
        "endChar": 41
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5e7962c1_c533e4a9",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 145,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-28T12:00:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "333377dd_7b246548",
      "range": {
        "startLine": 145,
        "startChar": 37,
        "endLine": 145,
        "endChar": 41
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "260b4ea4_471122a7",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 168,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-26T00:13:37Z",
      "side": 1,
      "message": "Should this be `params-\u003epvmfw_buffer_size`?",
      "range": {
        "startLine": 168,
        "startChar": 34,
        "endLine": 168,
        "endChar": 35
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c382acd0_6995de13",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 168,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "260b4ea4_471122a7",
      "range": {
        "startLine": 168,
        "startChar": 34,
        "endLine": 168,
        "endChar": 35
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53af0767_32e81952",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 196,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "I think when you want to signal that the partition is not pre-loaded and the caller should fall back to `read_from_partition()`, you need to return `RESULT_OK` and just leave `*out_pointer` set to `NULL`.",
      "range": {
        "startLine": 196,
        "startChar": 9,
        "endLine": 196,
        "endChar": 46
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fe8db652_10c78454",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 196,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "53af0767_32e81952",
      "range": {
        "startLine": 196,
        "startChar": 9,
        "endLine": 196,
        "endChar": 46
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2077e864_7fd99b3a",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 200,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "This, too, can be a for loop (that was the whole point of putting the partitions in an array and rearranging the enum to match what we need to load).",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "76525238_5f40f063",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 200,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2077e864_7fd99b3a",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5251b9d8_e71b908f",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 211,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "I think the idea here is that we again just return the actual size in `*out_num_bytes_preloaded` if it is smaller (and `RESULT_OK`).",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c37c25c5_9882d97e",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 211,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-21T10:15:28Z",
      "side": 1,
      "message": "Note that libavb checks the returned `*out_num_bytes_preloaded` against the expected size, and treats it as `AVB_SLOT_VERIFY_RESULT_ERROR_IO` when that doesn\u0027t match. Therefore I don\u0027t think returning `RESULT_OK` would make a difference in practice.",
      "parentUuid": "5251b9d8_e71b908f",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49a02a3a_c16202ca",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 211,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T23:27:56Z",
      "side": 1,
      "message": "Not with the current code, no, but they may change it in the future. The API seems to be defined to allow returning smaller partition data and we should implement that correctly, even if libavb currently doesn\u0027t use that.",
      "parentUuid": "c37c25c5_9882d97e",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f28fd143_0b8e5470",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 211,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-26T09:04:51Z",
      "side": 1,
      "message": "Size is based on whole partition size, if AVB asks for more data it means that something is wrong, I would leave it as it is.",
      "parentUuid": "49a02a3a_c16202ca",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44865cd5_b6826fe4",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 211,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-28T12:00:46Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "f28fd143_0b8e5470",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c37db20_6f76e514",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 213,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-21T10:15:28Z",
      "side": 1,
      "message": "align",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24b98f46_059e5111",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 213,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5c37db20_6f76e514",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3796c2e_5ddb4cb2",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 217,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "This should be done after the loading succeeded.",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ede74e1_285d0c0c",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 217,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-24T02:12:41Z",
      "side": 1,
      "message": "Now that the buffers are reserved in advance, I think we also need to store the \"data size\" (partition size) in the `parts` struct for 2 reasons.\n\n1. When the partition is already preloaded, the following `vb2_load_android_partition` call could be skipped. In practice I think this won\u0027t happen, but it\u0027s still good for this function to make sure we only actually load the partition once.\n2. The caller of libavb (i.e. `vb2_load_android`) needs to access some partitions stored in `parts`. Therefore, it should check the availability of the data before using it.",
      "range": {
        "startLine": 217,
        "startChar": 16,
        "endLine": 217,
        "endChar": 21
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae5a6d3a_e03eeb3f",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 217,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f3796c2e_5ddb4cb2",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "666e2b3d_f965bf24",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 217,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5ede74e1_285d0c0c",
      "range": {
        "startLine": 217,
        "startChar": 16,
        "endLine": 217,
        "endChar": 21
      },
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be64182a_652b8342",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 299,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "`return get_partition_size(avbctx-\u003egpt, partition_name, NULL, out_size)`\n\n(I think to make things simpler you can use AVB errors inside `get_partition_size()`, same as you\u0027re doing it in the common `vb2_load_android_partition()`.)",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea37fa36_8807a130",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 299,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "be64182a_652b8342",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b3137f2_fe01521f",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 380,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2025-02-21T10:15:28Z",
      "side": 1,
      "message": "unrelated change",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf5a9ad7_9c99ce2d",
        "filename": "firmware/avb/vboot_avb_ops.c",
        "patchSetId": 12
      },
      "lineNbr": 380,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:04:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b3137f2_fe01521f",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea58bfe7_6cf74e54",
        "filename": "firmware/lib/cgptlib/include/cgptlib.h",
        "patchSetId": 12
      },
      "lineNbr": 14,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2025-02-21T00:54:03Z",
      "side": 1,
      "message": "To make allocating the buffers easier, I think these should be defined in the same order as areas are allocated in the kernel buffer. So init_boot should come after vendor_boot.",
      "fixSuggestions": [
        {
          "fixId": "5e02d2a8_cf7d9f24",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "firmware/lib/cgptlib/include/cgptlib.h",
              "range": {
                "startLine": 14,
                "startChar": 0,
                "endLine": 15,
                "endChar": 0
              },
              "replacement": ""
            },
            {
              "path": "firmware/lib/cgptlib/include/cgptlib.h",
              "range": {
                "startLine": 16,
                "startChar": 0,
                "endLine": 16,
                "endChar": 0
              },
              "replacement": "\tGPT_ANDROID_INIT_BOOT,\n"
            }
          ]
        }
      ],
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "994b5c74_a26735fc",
        "filename": "firmware/lib/cgptlib/include/cgptlib.h",
        "patchSetId": 12
      },
      "lineNbr": 14,
      "author": {
        "id": 1562687
      },
      "writtenOn": "2025-02-27T13:59:41Z",
      "side": 1,
      "message": "I dont think loop would be doable if we want to have ramdisk load at predefined address",
      "parentUuid": "ea58bfe7_6cf74e54",
      "revId": "b0476f7959daafc06566c26ffb93db0e0f2f4eb4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
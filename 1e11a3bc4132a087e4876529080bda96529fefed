{
  "comments": [
    {
      "key": {
        "uuid": "53a116d3_290cf5bb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 9,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-25T08:35:25Z",
      "side": 1,
      "message": "Are we using this config yet?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 59
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c74cf96_c4f1d1f2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 9,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-26T08:38:37Z",
      "side": 1,
      "message": "We have - VB_BUTTON_VOL_DOWN_LONG_PRESS \u003d boot from internal. here.\n(https://chromium-review.googlesource.com/c/chromiumos/platform/vboot_reference/+/2094511/18/firmware/2lib/2ui.c#66)\n\nOne more thing - I do not know how to write the test if it is config-specified.\n(https://chromium-review.googlesource.com/c/chromiumos/platform/vboot_reference/+/2094511/18/tests/vb2_ui_tests.c#344)",
      "parentUuid": "53a116d3_290cf5bb",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 59
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6b053da_c37c59c0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 9,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-26T10:28:49Z",
      "side": 1,
      "message": "An example of config-dependent test: https://source.corp.google.com/h/chromium/chromiumos/codesearch/+/bde91c31635354ebacde662bc398908cd70b5f95:src/platform/vboot_reference/tests/vb2_ec_sync_tests.c;l\u003d484;bpv\u003d0;bpt\u003d3",
      "parentUuid": "5c74cf96_c4f1d1f2",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 59
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41c3ff31_3e730af0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 9,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-31T09:35:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d6b053da_c37c59c0",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 59
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "35de5d33_69998f83",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 18
      },
      "lineNbr": 546,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-25T08:35:25Z",
      "side": 1,
      "message": "Not sure this is worth a helper function... can we just call directly?",
      "range": {
        "startLine": 542,
        "startChar": 0,
        "endLine": 546,
        "endChar": 30
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a201213_b51d2497",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 18
      },
      "lineNbr": 546,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-04-01T16:38:52Z",
      "side": 1,
      "message": "I think we can remove this.",
      "parentUuid": "35de5d33_69998f83",
      "range": {
        "startLine": 542,
        "startChar": 0,
        "endLine": 546,
        "endChar": 30
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baaa046a_7d3094ed",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-26T10:28:49Z",
      "side": 1,
      "message": "%#x",
      "range": {
        "startLine": 36,
        "startChar": 25,
        "endLine": 36,
        "endChar": 29
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39ed154d_5344bb15",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 36,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-31T09:35:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "baaa046a_7d3094ed",
      "range": {
        "startLine": 36,
        "startChar": 25,
        "endLine": 36,
        "endChar": 29
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "851e5dfb_ac28d5bd",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 54,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-25T08:35:25Z",
      "side": 1,
      "message": "This is some crazy code which mixes timing stuff with audio beeps... I know it\u0027ll make the function longer, but can we copy the code directly in here?  If we want to refactor this function I think there are better ways of doing it.",
      "range": {
        "startLine": 54,
        "startChar": 1,
        "endLine": 54,
        "endChar": 22
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba2fb65e_889329e3",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 54,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-31T09:35:22Z",
      "side": 1,
      "message": "Done\n\nNow it calls VbExGetTimer() directly, and calculates timeout in main loop.\nThe tests are rewritten, too.",
      "parentUuid": "851e5dfb_ac28d5bd",
      "range": {
        "startLine": 54,
        "startChar": 1,
        "endLine": 54,
        "endChar": 22
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1003b6ab_b30e7305",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-25T08:35:25Z",
      "side": 1,
      "message": "I\u0027m not totally convinced we can\u0027t just use VB2_SUCCESS here... I don\u0027t think there\u0027s any case where we\u0027d want to exit the loop when something \"succeeds\"?  Can we just use VB2_SUCCESS instead of VBERROR_KEEP_LOOPING and see if we encounter any problems?",
      "range": {
        "startLine": 64,
        "startChar": 7,
        "endLine": 64,
        "endChar": 27
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb3ffeff_8327f09c",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-26T10:28:49Z",
      "side": 1,
      "message": "I think that\u0027s possible, but the meaning of return value of VbTryLoadKernel() will be different from other functions. If VbTryLoadKernel() returns VB2_SUCCESS then we should return VB2_SUCCESS immediately.",
      "parentUuid": "1003b6ab_b30e7305",
      "range": {
        "startLine": 64,
        "startChar": 7,
        "endLine": 64,
        "endChar": 27
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44ba12c5_40a78f9e",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-04-08T13:44:07Z",
      "side": 1,
      "message": "There will be 3 different rv:\n- VBERROR_KEEP_LOOPING: keep looping.\n- VB2_SUCCESS: return VB2_SUCCESS.\n- VBERROR_SHUTDOWN_REQUESTED: return VBERROR_SHUTDOWN_REQUESTED.\n\nSo I think it is tough to distinguish these three if we simply remove VBERROR_KEEP_LOOPING.\n\nOff topic, I think after the CL: VB2_TRY merged, there will be no one handling VBERROR_SHUTDOWN_REQUESTED in vboot_api_kernel.c, is there something wrong?",
      "parentUuid": "bb3ffeff_8327f09c",
      "range": {
        "startLine": 64,
        "startChar": 7,
        "endLine": 64,
        "endChar": 27
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f2dc047_0e70e87b",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 65,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-25T08:35:25Z",
      "side": 1,
      "message": "Can we change this to a switch () like in vboot_ui_legacy_menu.c?",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 32
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad21330e_30afff3f",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 65,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-26T08:38:37Z",
      "side": 1,
      "message": "Actually I am thinking about moving these into vb2_handle_menu_input() and judge if it is dev mode or others, how do you think?",
      "parentUuid": "8f2dc047_0e70e87b",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 32
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "216af555_f8b017d7",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 65,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-26T10:28:49Z",
      "side": 1,
      "message": "\u003e Change to switch\nNote that there\u0027s a conditional on DETACHABLE below, so it\u0027ll be a little bit awkward to write something like\n\n case VB_BUTTON_VOL_DOWN_LONG_PRESS:\n     if (DETACHABLE)\n         ...\n     else\n         vb2_handle_menu_input();\n default:\n     vb2_handle_menu_input();\n\nAlternatively, we can use conditional compilation for DETACHABLE, but I think the guideline is to avoid that if possible.",
      "parentUuid": "ad21330e_30afff3f",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 32
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a542e58_e15aaf81",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 65,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-31T09:35:22Z",
      "side": 1,
      "message": "I think the previous one, i.e. if (DETACHABLE) is more reasonable.",
      "parentUuid": "216af555_f8b017d7",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 32
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c96b96fc_f5759dcb",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 65,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-31T10:47:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2a542e58_e15aaf81",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 32
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a820eef3_79429271",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 78,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-25T08:35:25Z",
      "side": 1,
      "message": "I\u0027d prefer if we just left this feature out, and used a menu screen to select alternative payloads instead.  How does that sound?",
      "range": {
        "startLine": 73,
        "startChar": 4,
        "endLine": 78,
        "endChar": 3
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e485b248_2e5b6dcc",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 78,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-26T08:38:37Z",
      "side": 1,
      "message": "I think we shall remain as much shortcuts as possible, is it?",
      "parentUuid": "a820eef3_79429271",
      "range": {
        "startLine": 73,
        "startChar": 4,
        "endLine": 78,
        "endChar": 3
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21a10298_0c6aec57",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 78,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-26T10:28:49Z",
      "side": 1,
      "message": "Yes, in general, but this is *legacy* firmware so I\u0027m not sure. Speaking to legacy firmware, why do we need to support that? Isn\u0027t menu UI only used by *new* boards?",
      "parentUuid": "e485b248_2e5b6dcc",
      "range": {
        "startLine": 73,
        "startChar": 4,
        "endLine": 78,
        "endChar": 3
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6916a2fb_0e0fe46b",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 78,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-04-08T13:44:07Z",
      "side": 1,
      "message": "Actually I do not know about the boards things, is there any further resources?\nI kept them and had tests for them for now.",
      "parentUuid": "21a10298_0c6aec57",
      "range": {
        "startLine": 73,
        "startChar": 4,
        "endLine": 78,
        "endChar": 3
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1115216a_73366fa9",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 96,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-25T08:35:25Z",
      "side": 1,
      "message": "Reverse this to:\n\n  if (rv !\u003d VBERROR_KEEP_LOOPING)\n    return rv\n\nOr if we are able to just use VB2_SUCCESS to denote this:\n\n  if (rv)\n    return rv;",
      "range": {
        "startLine": 96,
        "startChar": 0,
        "endLine": 96,
        "endChar": 34
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94c2e6b5_d51df97c",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 18
      },
      "lineNbr": 96,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-04-01T16:38:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1115216a_73366fa9",
      "range": {
        "startLine": 96,
        "startChar": 0,
        "endLine": 96,
        "endChar": 34
      },
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfd4f90b_33a44c48",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 18
      },
      "lineNbr": 13,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-26T10:28:49Z",
      "side": 1,
      "message": "Add comment\n\n /* for VbAltFwIndex_t */",
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa1eed74_ef65d53c",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 18
      },
      "lineNbr": 13,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-31T09:35:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dfd4f90b_33a44c48",
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db560ed6_87f49214",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 18
      },
      "lineNbr": 13,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-31T10:35:59Z",
      "side": 1,
      "message": "Oops -- did this get added?",
      "parentUuid": "aa1eed74_ef65d53c",
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81346685_38e21fed",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 18
      },
      "lineNbr": 13,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-04-01T16:38:52Z",
      "side": 1,
      "message": "Done\nSince we removed vb2_dev_try_legacy, this can be removed now.",
      "parentUuid": "db560ed6_87f49214",
      "revId": "1e11a3bc4132a087e4876529080bda96529fefed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
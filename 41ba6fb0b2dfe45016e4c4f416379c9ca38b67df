{
  "comments": [
    {
      "key": {
        "uuid": "f2f795d0_ef31aa16",
        "filename": "firmware/2lib/2ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-04-10T08:13:19Z",
      "side": 1,
      "message": "I was thinking about making this more widely available, either as a utility function or a macro.  But let\u0027s wait until we figure out whether to call our return values VB2_REQUEST or VB2_RESULT or whatever first... I guess keep this here for now.",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 47
      },
      "revId": "41ba6fb0b2dfe45016e4c4f416379c9ca38b67df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26dff000_47d393d0",
        "filename": "firmware/2lib/2ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-04-15T09:27:23Z",
      "side": 1,
      "message": "I\u0027ll call them VB2_REQUEST_*.\n\nIs there anywhere else in vboot that can make use of this function/macro?",
      "parentUuid": "f2f795d0_ef31aa16",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 47
      },
      "revId": "41ba6fb0b2dfe45016e4c4f416379c9ca38b67df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a55679a_d8229ca7",
        "filename": "firmware/2lib/2ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-04-15T10:24:20Z",
      "side": 1,
      "message": "Maybe 2auxfw_sync at the end of update_auxfw().  So you\u0027re right, probably not worth it.",
      "parentUuid": "26dff000_47d393d0",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 47
      },
      "revId": "41ba6fb0b2dfe45016e4c4f416379c9ca38b67df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "159eb1ad_e05bc5bf",
        "filename": "firmware/2lib/2ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-04-15T14:17:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5a55679a_d8229ca7",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 36,
        "endChar": 47
      },
      "revId": "41ba6fb0b2dfe45016e4c4f416379c9ca38b67df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "34c65708_caeb1a77",
        "filename": "firmware/2lib/2ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 199,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-04-10T08:13:19Z",
      "side": 1,
      "message": "TBH this comment could use some rewriting.  It doesn\u0027t really clearly explain all the reasons why a reboot could be required.",
      "range": {
        "startLine": 196,
        "startChar": 42,
        "endLine": 199,
        "endChar": 47
      },
      "revId": "41ba6fb0b2dfe45016e4c4f416379c9ca38b67df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad3f446c_07df8754",
        "filename": "firmware/2lib/2ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 275,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-04-10T08:13:19Z",
      "side": 1,
      "message": "This is where a macro might be nice... somehow.",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 275,
        "endChar": 13
      },
      "revId": "41ba6fb0b2dfe45016e4c4f416379c9ca38b67df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f98b4cc_ecb26507",
        "filename": "firmware/2lib/2ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 275,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-04-15T09:27:23Z",
      "side": 1,
      "message": "Is it possible for a macro to return rv *from* the caller if reboot needed, and return rv *to* the caller otherwise?",
      "parentUuid": "ad3f446c_07df8754",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 275,
        "endChar": 13
      },
      "revId": "41ba6fb0b2dfe45016e4c4f416379c9ca38b67df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e3a400b_2a6401e6",
        "filename": "firmware/2lib/2ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 275,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-04-15T10:24:20Z",
      "side": 1,
      "message": "By return *to* the caller, do you mean evaluate as rv?  I don\u0027t think it\u0027s possible, unless you pass the target variable in as an argument to the macro.  E.g.\n\n  VB2_PASS_REQUEST(rv, update_ec(ctx, select_rw));\n  // either we have returned already, or rv is set to the return value\n\nAnyways, let\u0027s punt this for now... I think?",
      "parentUuid": "8f98b4cc_ecb26507",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 275,
        "endChar": 13
      },
      "revId": "41ba6fb0b2dfe45016e4c4f416379c9ca38b67df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30133744_0d1ec3ba",
        "filename": "firmware/2lib/2ec_sync.c",
        "patchSetId": 4
      },
      "lineNbr": 275,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-04-15T14:17:24Z",
      "side": 1,
      "message": "Ack.  I just don\u0027t see how these lines of code can benefit from the macro.",
      "parentUuid": "1e3a400b_2a6401e6",
      "range": {
        "startLine": 273,
        "startChar": 0,
        "endLine": 275,
        "endChar": 13
      },
      "revId": "41ba6fb0b2dfe45016e4c4f416379c9ca38b67df",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
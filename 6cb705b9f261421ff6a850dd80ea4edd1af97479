{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "34eab5f0_effcfd29",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-10-26T17:00:18Z",
      "side": 1,
      "message": "the root \u0026 recovery root keys are still 8k ...\n\nwe\u0027ll want to update utility/vbutil_what_keys too",
      "revId": "6cb705b9f261421ff6a850dd80ea4edd1af97479",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d0a9d9b_caa43611",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1524007
      },
      "writtenOn": "2023-10-26T19:28:22Z",
      "side": 1,
      "message": "my thought was to leave those keys as is because the new signing flow doesn\u0027t require them to live in Cloud KMS. would you prefer that I migrate these too?",
      "parentUuid": "34eab5f0_effcfd29",
      "revId": "6cb705b9f261421ff6a850dd80ea4edd1af97479",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc9586eb_ae402efe",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2023-10-26T23:57:19Z",
      "side": 1,
      "message": "Sorry, why do you want to do this? What do our dev keys have to do with prod signing?\n\nChanging dev keys would be a big disruption to developers who\u0027d suddenly have the images they build not match the older firmware flashed to their devices anymore. We should not touch them unless we have a _really_ good reason that would warrant a lot of wasted developer time.",
      "revId": "6cb705b9f261421ff6a850dd80ea4edd1af97479",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c0d1360_b24a044b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1524007
      },
      "writtenOn": "2023-10-27T15:19:19Z",
      "side": 1,
      "message": "As part of the ChromeOS signing scaling project, we\u0027re migrating to Cloud KMS, which does not support 8K RSA (see go/cros-signing:8k24k). It is my intention to place a set of dev keys in a Cloud KMS key ring so that there is a local development story for the new signing flow, and @vapier@chromium.org suggested that I use the known dev keys for consistency. This requires migration from 8K to 4K RSA so that they can be stored in Cloud KMS.\n\nI started a thread about this (https://groups.google.com/a/google.com/g/chromeos-chatty-firmware/c/c-1FHIVmzio/m/onHeIwOmBAAJ) as well, hopefully this provides enough context.\n\nOpen to any other suggestions on how to proceed here",
      "parentUuid": "cc9586eb_ae402efe",
      "revId": "6cb705b9f261421ff6a850dd80ea4edd1af97479",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3591bb8a_8efcd8f7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-10-27T18:55:05Z",
      "side": 1,
      "message": "for this CL specifically, these are only the recovery \u0026 factory/rma kernel keys.  if someone is booting a dev keyed device, the root \u0026 recovery root keys will match, so it\u0027ll still be accepted.  so i don\u0027t think there will be any disruption at all.",
      "parentUuid": "3c0d1360_b24a044b",
      "revId": "6cb705b9f261421ff6a850dd80ea4edd1af97479",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1858bbb4_3624742e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2023-10-27T18:55:05Z",
      "side": 1,
      "message": "if we wanted to test firmware or recovery kernel rotation, we\u0027d need them in cloud kms right ?  but maybe that step is getting too far ahead of ourselves.\n\ni still think we should regen the root keys to step from 8k to 4k to match.  but i\u0027m ok with waiting on that as it wouldn\u0027t require regenerating any of the \"downstream\" keys (just refreshing the keyblocks).",
      "parentUuid": "3d0a9d9b_caa43611",
      "revId": "6cb705b9f261421ff6a850dd80ea4edd1af97479",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1bc2fdd5_649a143e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2023-10-27T21:49:14Z",
      "side": 1,
      "message": "Well, what is the point of using the existing dev keys \"for consistency\" if you then change the existing dev keys? Then nothing is consistent with anything anymore!\n\n\u003e if someone is booting a dev keyed device, the root \u0026 recovery root keys will match, so it\u0027ll still be accepted. so i don\u0027t think there will be any disruption at all.\n\nIf they\u0027re booting on a device that they has been previously flashed with firmware containing the old keys it will not match, that is the problem. Booting a test image in recovery mode is a common use case to reset TPM values, it\u0027s done by everyone running FAFT (including partners) as well as a bunch of lab tests and repair flows (and AFAIK they still don\u0027t regularly update firmware in the lab). We would spend months getting bugs from confused people all over who have their tests break and the flows in their playbooks not work anymore, including partners who only have a specific SIE or TAM to talk to, so all those teams would need to be briefed extensively to recognize all expected and unexpected manifestations of this key mismatch. It would cause an enormous disruption and I still don\u0027t even see a clear benefit on the other side (nobody other than a handful of signing specialists would ever deal with Cloud KMS to test anything anyway, it shouldn\u0027t be that much to ask for them to point at a separate keyset for that).\n\nThis is a terrible idea and we should not do it. If you want a separate set of test keys for Cloud KMS, feel free to add them here to a new directory or something. Please don\u0027t touch the keys that are essential to the work of thousands of developers, most of which don\u0027t really understand how they work or how to recognize problems with them.",
      "parentUuid": "3591bb8a_8efcd8f7",
      "revId": "6cb705b9f261421ff6a850dd80ea4edd1af97479",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
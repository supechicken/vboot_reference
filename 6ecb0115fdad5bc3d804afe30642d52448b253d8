{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2ed9ae0f_f1673cde",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-02-18T00:03:06Z",
      "side": 1,
      "message": "Is there a bug or any further information on this? Is Cherry at risk of requiring a slow update screen (why?).\n\nGenerally, I think these kinds of things should be done with CBMEM timestamps rather than printing numbers to console everywhere. In fact, we pretty much already capture this with TS_VB_EC_VBOOT_DONE. If you think that\u0027s not granular enough, feel free to add more timestamps as needed (e.g. in vb2ex_ec_update_image()).",
      "revId": "6ecb0115fdad5bc3d804afe30642d52448b253d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7d2e652_c7131c6c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-02-18T04:15:54Z",
      "side": 1,
      "message": "EC_SLOW_UPDATE is enabled on all MTK platforms since mt8173, because the EC sync is considered \"slow\" (say, more than 5 seconds for vb2ex_ec_update_image()). So I think the real question is, how long is it considered \"slow\"?\n\nEvery time when I \"felt\" the EC sync is slow and wanted to enable EC_SLOW_UPDATE for a platform, I was asked by reviewers to provide numbers. Therefore I hope this patch would simplify the process of measuring the exact time.\n\nFor that, TS_VB_EC_VBOOT_DONE isn\u0027t enough. We\u0027ll have to add both TS_VB_EC_SYNC_START and TS_VB_EC_SYNC_END. One may argue that only TS_VB_EC_SYNC_START is necessary because the time of vb2ex_ec_protect() and vb2ex_ec_vboot_done() is negligible. However, this argument makes extra assumptions about how these 3 vb2ex_*() functions will be called from vboot.\n\nPlease let me know if adding *both* TS_VB_EC_SYNC_START and TS_VB_EC_SYNC_END is okay with you.",
      "parentUuid": "2ed9ae0f_f1673cde",
      "revId": "6ecb0115fdad5bc3d804afe30642d52448b253d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79d13d12_3e1317a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000239
      },
      "writtenOn": "2022-02-18T04:27:42Z",
      "side": 1,
      "message": "my two cents: if user can\u0027t see all texts and understand meaning of the screen before it\u0027s cleared, then it\u0027s fast enough. for example, our DEV screen (when GBB flags are set) only flashed for 2 seconds and most people won\u0027t have time to see it, even not noticed it.\n\n- \u003c\u003d 2s: fast.\n- 3~4: between fast and slow? maybe 3 as fast and 4 as slow.\n- \u003e\u003d 5: slow",
      "parentUuid": "c7d2e652_c7131c6c",
      "revId": "6ecb0115fdad5bc3d804afe30642d52448b253d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "51756dbe_7eb7277b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-02-18T23:53:10Z",
      "side": 1,
      "message": "I agree with Hung-Te\u0027s assessment, more than 5 seconds probably warrants the screen. I\u0027m more surprised that it takes that long -- on all the platforms I have worked on it\u0027s usually much faster. Do the MTK platforms use a different kind of EC that\u0027s not used anywhere else? Or are you maybe severely underclocking your SPI bus to the EC (on the platforms I know it\u0027s usually about 1MHz)? If software sync takes 5 seconds I would say you have a bug, unless you\u0027re using different EC hardware that does _really_ slow erasing/writing for some reason.\n\nFor the timestamps, yes, please add explicit START and END timestamps if you need that level of granularity. Timestamps are cheap.",
      "parentUuid": "79d13d12_3e1317a8",
      "revId": "6ecb0115fdad5bc3d804afe30642d52448b253d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
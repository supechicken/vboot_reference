{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "133b4394_90d4a618",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1302633
      },
      "writtenOn": "2022-08-12T02:28:08Z",
      "side": 1,
      "message": "Is total data size not known in advance for an upcoming use-case or an existing use-case.\n\nJust for my knowledge: Which SoCs have hwcrypto engines that dont need to know the data size?",
      "range": {
        "startLine": 26,
        "startChar": 52,
        "endLine": 27,
        "endChar": 7
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8fff0597_9c56989e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2022-08-12T09:02:23Z",
      "side": 1,
      "message": "\u003e Is total data size not known in advance for an upcoming use-case or an existing use-case.\nTotal data size is not known in advance in case of calculating CBFS metadata hash.",
      "parentUuid": "133b4394_90d4a618",
      "range": {
        "startLine": 26,
        "startChar": 52,
        "endLine": 27,
        "endChar": 7
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1e7af68_f53a3187",
        "filename": "firmware/2lib/2api.c",
        "patchSetId": 1
      },
      "lineNbr": 265,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-08-11T04:00:51Z",
      "side": 1,
      "message": "```\nvb2_digest_init_tryhw(dc, vb2api_hwcrypto_allowed(ctx),\n                      key.hash_alg,\n                      pre-\u003ebody_signature.data_size);\n```",
      "range": {
        "startLine": 264,
        "startChar": 8,
        "endLine": 265,
        "endChar": 49
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7da9401_fda286f2",
        "filename": "firmware/2lib/2load_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 179,
      "author": {
        "id": 1302633
      },
      "writtenOn": "2022-08-12T02:28:08Z",
      "side": 1,
      "message": "kernel_key.allow_hwcrypto \u003d vb2api_hwcrypto_allowed(ctx);",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 179,
        "endChar": 32
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ddf91b5c_cf9d1424",
        "filename": "firmware/2lib/2load_kernel.c",
        "patchSetId": 1
      },
      "lineNbr": 439,
      "author": {
        "id": 1302633
      },
      "writtenOn": "2022-08-12T02:28:08Z",
      "side": 1,
      "message": "data_key.allow_hwcrypto \u003d vb2api_hwcrypto_allowed(ctx);",
      "range": {
        "startLine": 438,
        "startChar": 0,
        "endLine": 439,
        "endChar": 30
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "726f735b_c4c50d16",
        "filename": "firmware/2lib/2sha_utility.c",
        "patchSetId": 1
      },
      "lineNbr": 152,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-08-11T04:00:51Z",
      "side": 1,
      "message": "Indent.",
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "261a8abe_0f014cf5",
        "filename": "firmware/2lib/2sha_utility.c",
        "patchSetId": 1
      },
      "lineNbr": 155,
      "author": {
        "id": 1365538
      },
      "writtenOn": "2022-08-11T04:24:52Z",
      "side": 1,
      "message": "Maybe double check with vb2api_hwcrypto_allowed and print warning if it doesn\u0027t match with tryhw? Right now coreboot CL looks good but in case anyone makes mistake with calling this warning would be helpful.",
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d56f36d_eb8524c0",
        "filename": "firmware/2lib/2sha_utility.c",
        "patchSetId": 1
      },
      "lineNbr": 155,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2022-08-12T09:02:23Z",
      "side": 1,
      "message": "`vb2api_hwcrypto_allowed()` requires `vb2_context`, which is not available here.",
      "parentUuid": "261a8abe_0f014cf5",
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a0c08cfb_4879e274",
        "filename": "firmware/2lib/2sha_utility.c",
        "patchSetId": 1
      },
      "lineNbr": 164,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-08-11T04:00:51Z",
      "side": 1,
      "message": "Do we want the trailing newline in `msg`? Removing it, we can still write\n\n```\nVB2_DEBUG(msg, data_size, algo, \"XXX\\n\");\n```",
      "range": {
        "startLine": 164,
        "startChar": 13,
        "endLine": 164,
        "endChar": 16
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89dbab0a_bbbaf315",
        "filename": "firmware/2lib/2sha_utility.c",
        "patchSetId": 1
      },
      "lineNbr": 170,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2022-08-12T09:02:23Z",
      "side": 1,
      "message": "Is it `forbidden` or just `don\u0027t even try`, so `disabled`?",
      "range": {
        "startLine": 170,
        "startChar": 2,
        "endLine": 170,
        "endChar": 47
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de7431c7_784d43ba",
        "filename": "firmware/2lib/2sha_utility.c",
        "patchSetId": 1
      },
      "lineNbr": 201,
      "author": {
        "id": 1302633
      },
      "writtenOn": "2022-08-12T02:28:08Z",
      "side": 1,
      "message": "Since this is pretty similar to vb2_digest_buffer(except for try_hw) can you please rename it as vb2_digest_buffer_tryhw and then invoke it in vb2_digest_buffer.",
      "range": {
        "startLine": 201,
        "startChar": 12,
        "endLine": 201,
        "endChar": 36
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fa4570f_30f6a1a7",
        "filename": "firmware/2lib/2sha_utility.c",
        "patchSetId": 1
      },
      "lineNbr": 201,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-08-12T08:28:31Z",
      "side": 1,
      "message": "Sorry, but I disagree. The output arguments are different: `digest` vs `hash`. The same argument applies to `vb2_digest_buffer` and `vb2_hash_verify`.",
      "parentUuid": "de7431c7_784d43ba",
      "range": {
        "startLine": 201,
        "startChar": 12,
        "endLine": 201,
        "endChar": 36
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "954aa958_b7a75fbd",
        "filename": "firmware/2lib/2sha_utility.c",
        "patchSetId": 1
      },
      "lineNbr": 201,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2022-08-12T09:02:23Z",
      "side": 1,
      "message": "+1 for consolidating the code to remove redundancy, but I\u0027d also leave `vb2_hash_calculate_tryhw()` to provide way for user to just pass `vb2_hash` instead of dealing with raw digest value. `vb2_hash_calculate_tryhw()` could just call `vb2_digest_buffer_tryhw(tryhw, buf, size, algo, hash-\u003eraw, vb2_digest_size(algo))`.",
      "parentUuid": "de7431c7_784d43ba",
      "range": {
        "startLine": 201,
        "startChar": 12,
        "endLine": 201,
        "endChar": 36
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d628027c_ca6d75bb",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 1
      },
      "lineNbr": 963,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-08-12T08:28:31Z",
      "side": 1,
      "message": "Extra blank line.",
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a732037_cda77bd3",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 1
      },
      "lineNbr": 970,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-08-11T04:00:51Z",
      "side": 1,
      "message": "Align with `vb2_secdata_kernel_get`?",
      "range": {
        "startLine": 970,
        "startChar": 4,
        "endLine": 970,
        "endChar": 5
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8d39391_a0c558fc",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 1
      },
      "lineNbr": 970,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2022-08-11T10:25:25Z",
      "side": 1,
      "message": "nit: Why not just return value of this statement?",
      "range": {
        "startLine": 969,
        "startChar": 0,
        "endLine": 970,
        "endChar": 47
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab934b2d_8d7828ad",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 1
      },
      "lineNbr": 970,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-08-12T08:28:31Z",
      "side": 1,
      "message": "Need to write `!!(...)`. We could also write a single return statement, but I don\u0027t think that\u0027d be good for readability.",
      "parentUuid": "d8d39391_a0c558fc",
      "range": {
        "startLine": 969,
        "startChar": 0,
        "endLine": 970,
        "endChar": 47
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2bf45614_b5460340",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 1
      },
      "lineNbr": 970,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2022-08-12T09:02:23Z",
      "side": 1,
      "message": "Oh, right. This statement won\u0027t simply return 1 or 0.",
      "parentUuid": "ab934b2d_8d7828ad",
      "range": {
        "startLine": 969,
        "startChar": 0,
        "endLine": 970,
        "endChar": 47
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75650159_c9855f32",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 1
      },
      "lineNbr": 974,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-08-11T04:00:51Z",
      "side": 1,
      "message": "Extra blank line.",
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9c522cd_11a96724",
        "filename": "firmware/2lib/include/2sha.h",
        "patchSetId": 1
      },
      "lineNbr": 257,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-08-11T04:00:51Z",
      "side": 1,
      "message": "Is it possible to replace this with `vb2_digest_init` (and remove the old `vb2_digest_init` from API)? The same could be done for the other two *_tryhw functions. The original callers of the non-tryhw functions could just pass tryhw\u003d0.\n\nI\u0027m not sure how much work is needed to achieve that though.",
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2425ac16_ccc7e4bd",
        "filename": "firmware/2lib/include/2sha.h",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2022-08-11T10:25:25Z",
      "side": 1,
      "message": "align",
      "range": {
        "startLine": 257,
        "startChar": 0,
        "endLine": 258,
        "endChar": 53
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e8c8a1a_a70f74c3",
        "filename": "firmware/2lib/include/2sha.h",
        "patchSetId": 1
      },
      "lineNbr": 304,
      "author": {
        "id": 1512562
      },
      "writtenOn": "2022-08-11T10:25:25Z",
      "side": 1,
      "message": "align",
      "range": {
        "startLine": 303,
        "startChar": 0,
        "endLine": 304,
        "endChar": 56
      },
      "revId": "d8393aca24cb40ab9754ca9eca07838c90aff81f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "810dd553_515dabc1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T03:18:28Z",
      "side": 1,
      "message": "set up",
      "range": {
        "startLine": 9,
        "startChar": 27,
        "endLine": 9,
        "endChar": 32
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4eba3a0_ae6acd57",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T03:18:28Z",
      "side": 1,
      "message": "to be",
      "range": {
        "startLine": 10,
        "startChar": 40,
        "endLine": 10,
        "endChar": 43
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f091001_90f8a6c3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 11,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T03:18:28Z",
      "side": 1,
      "message": "those",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 13
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09937724_ac0cb8c1",
        "filename": "Makefile",
        "patchSetId": 7
      },
      "lineNbr": 703,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T02:52:56Z",
      "side": 1,
      "message": "Sort",
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5961a3c8_90b1bdff",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 20,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "Could consider add TEST_EQ(recovery_reason, VB2_RECOVERY_RO_MANUAL, \"  recovery_reason should be 0x02 for manual recovery\"\n\nOr what about we just ignore the \"recovery reason\" for manual recovery since it should always be 0x02",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 36
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5120f1ec_86533fd4",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 20,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T02:52:56Z",
      "side": 1,
      "message": "No, if the 3-key combo is pressed from the broken screen, the recovery_reason will be the same as in the broken screen. See `vb2_check_recovery`.",
      "parentUuid": "5961a3c8_90b1bdff",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 36
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e236cef_10d67a9d",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 20,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-12T03:44:54Z",
      "side": 1,
      "message": "I were wrong. Thanks for the correction\n\nWhat about\nTEST_NEQ recovery_reason, 0",
      "parentUuid": "5120f1ec_86533fd4",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 36
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ca75054_e0e108a7",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 20,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T04:34:10Z",
      "side": 1,
      "message": "Yes, that should be tested.",
      "parentUuid": "8e236cef_10d67a9d",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 36
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afc27b6d_1d6e5b76",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "This is not always true since we are in manual recovery mode if either:\n(1) VB2_CONTEXT_FORCE_RECOVERY_MODE\n(2) recovery reason \u003d\u003d 2\n\nsee: vb2_check_recovery\n\nWDYT? @yupingso",
      "range": {
        "startLine": 23,
        "startChar": 16,
        "endLine": 23,
        "endChar": 47
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "791cf3ad_d27dc8f5",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T02:52:56Z",
      "side": 1,
      "message": "When the recovery switch is pressed, `VB2_CONTEXT_FORCE_RECOVERY_MODE` should always be set. Also, in manual recovery, `recovery_reason` should always be non-zero (regardless of whether it\u0027s `VB2_RECOVERY_RO_MANUAL` or others).",
      "parentUuid": "afc27b6d_1d6e5b76",
      "range": {
        "startLine": 23,
        "startChar": 16,
        "endLine": 23,
        "endChar": 47
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30cb2c87_0387f715",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-12T03:44:54Z",
      "side": 1,
      "message": "Yes, I misunderstood the part -- I should say,\nwhen GBB is forcded the board to manual recovery, this flag might not be true.\n(e.g. VB2_GBB_FLAG_FORCE_MANUAL_RECOVERY)\n\nBut since that might be a rare case in unit test, we might just adjust it manually when we really need it.",
      "parentUuid": "791cf3ad_d27dc8f5",
      "range": {
        "startLine": 23,
        "startChar": 16,
        "endLine": 23,
        "endChar": 47
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ca6e01d_2004017d",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T04:34:10Z",
      "side": 1,
      "message": "Agreed.",
      "parentUuid": "30cb2c87_0387f715",
      "range": {
        "startLine": 23,
        "startChar": 16,
        "endLine": 23,
        "endChar": 47
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d9437e4_be6be5b1",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 39,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "\"  undefined...\"",
      "range": {
        "startLine": 39,
        "startChar": 16,
        "endLine": 39,
        "endChar": 25
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2df91a78_3ffa50f8",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 39,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T02:52:56Z",
      "side": 1,
      "message": "We usually have the 2-space indent for non-first messages in each test case. As we\u0027re not sure how `set_boot_mode` will be used (in fact most existing tests call it even before calling the function under test), the indent doesn\u0027t make much sense to me.",
      "parentUuid": "5d9437e4_be6be5b1",
      "range": {
        "startLine": 39,
        "startChar": 16,
        "endLine": 39,
        "endChar": 25
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7adc43c3_8a051e7e",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 39,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-12T03:44:54Z",
      "side": 1,
      "message": "The what about adding __func__ e.g.\n\n\"SET_BOOT_MODE: Undefined boot mode\"",
      "parentUuid": "2df91a78_3ffa50f8",
      "range": {
        "startLine": 39,
        "startChar": 16,
        "endLine": 39,
        "endChar": 25
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "316db333_b6907afb",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 39,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T04:34:10Z",
      "side": 1,
      "message": "Sounds good!",
      "parentUuid": "7adc43c3_8a051e7e",
      "range": {
        "startLine": 39,
        "startChar": 16,
        "endLine": 39,
        "endChar": 25
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46982a1f_e725828e",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "We still have some sd flags related to these, e.g.\n\nVB2_SD_STATUS_RECOVERY_DECIDED\nVBSD_BOOT_REC_SWITCH_ON \u003d\u003d\u003e We might not care about this anymore\n\n@yupingso for comments",
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f1afc0a_55bddb55",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T02:52:56Z",
      "side": 1,
      "message": "Hmmm... `VB2_SD_STATUS_RECOVERY_DECIDED` is not directly related to the boot mode. I guess this is just the limitation of vboot unit tests, where we can\u0027t really make sure `sd` in tests is exactly the same as the one running on Chromebooks, which is modified in every vboot stage (vb2api_fw_phase*, vb2api_kernel_phase*).\n\nOne benefit of setting `VB2_SD_STATUS_RECOVERY_DECIDED` is to check whether `VB2_REC_OR_DIE` is called (by checking if `vb2ex_abort` is called), but still, unrelated to boot_mode.",
      "parentUuid": "46982a1f_e725828e",
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b039cf01_d6711688",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-12T03:44:54Z",
      "side": 1,
      "message": "In that case, we should note the scope of what set_boot_mode will do (or even will not do) to prevent further confusion. \n\ne.g. \n\n\"Set the boot mode to the expected boot mode and set the corresponding ctx flag.\"\n\nNot sure if we want to mention the SD flag is not guaranteed to be correct, only recovery_reason will be set (IMO not necessary)",
      "parentUuid": "3f1afc0a_55bddb55",
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a85217a6_355fb762",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T06:06:59Z",
      "side": 1,
      "message": "BTW `VB2_SD_STATUS_RECOVERY_DECIDED` is for `sd-\u003estatus`, not `sd-\u003eflags`.\n\n\u003e Not sure if we want to mention the SD flag is not guaranteed to be correct, only recovery_reason will be set\n\nNo I don\u0027t think that\u0027s necessary.",
      "parentUuid": "b039cf01_d6711688",
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccbca777_098b7f41",
        "filename": "tests/common/boot_mode.c",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "What about \"  validity check for set boot mode\"",
      "range": {
        "startLine": 43,
        "startChar": 37,
        "endLine": 43,
        "endChar": 40
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "021ceb24_c75f676e",
        "filename": "tests/common/boot_mode.h",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "What is the reason to put this comments above SET_BOOT_MODE but not set_boot_mode?",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 18,
        "endChar": 3
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c416d8d_bfc9813c",
        "filename": "tests/common/boot_mode.h",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-12T02:52:56Z",
      "side": 1,
      "message": "Here\u0027s my thought. With the macro, test code shouldn\u0027t (and doesn\u0027t need to) call `set_boot_mode` directly. Therefore we may rename `set_boot_mode` to something like `_set_boot_mode` or `set_boot_mode_impl`.",
      "parentUuid": "021ceb24_c75f676e",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 18,
        "endChar": 3
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ad18521_47e6f518",
        "filename": "tests/vb2_kernel2_tests.c",
        "patchSetId": 7
      },
      "lineNbr": 17,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "Same here",
      "range": {
        "startLine": 17,
        "startChar": 17,
        "endLine": 17,
        "endChar": 26
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5697f999_d292320c",
        "filename": "tests/vb2_kernel_tests.c",
        "patchSetId": 7
      },
      "lineNbr": 16,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "Wrong order: put this above test.h",
      "range": {
        "startLine": 16,
        "startChar": 17,
        "endLine": 16,
        "endChar": 26
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc9ffc2c_7b57e19e",
        "filename": "tests/vb2_misc_tests.c",
        "patchSetId": 7
      },
      "lineNbr": 15,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "same here",
      "range": {
        "startLine": 15,
        "startChar": 17,
        "endLine": 15,
        "endChar": 26
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50db4473_0a5922cb",
        "filename": "tests/vboot_kernel2_tests.c",
        "patchSetId": 7
      },
      "lineNbr": 15,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "same here",
      "range": {
        "startLine": 15,
        "startChar": 17,
        "endLine": 15,
        "endChar": 26
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc6a16ce_710367b9",
        "filename": "tests/vboot_kernel_tests.c",
        "patchSetId": 7
      },
      "lineNbr": 19,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T09:55:45Z",
      "side": 1,
      "message": "same here",
      "range": {
        "startLine": 19,
        "startChar": 28,
        "endLine": 19,
        "endChar": 29
      },
      "revId": "da881aae9aa07843e968d803fac293a73233b243",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
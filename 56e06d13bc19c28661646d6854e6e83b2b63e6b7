{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e0325211_464c474a",
        "filename": "tests/test_util.c",
        "patchSetId": 4
      },
      "lineNbr": 25,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-08T08:54:53Z",
      "side": 1,
      "message": "Should not set this by default.",
      "range": {
        "startLine": 25,
        "startChar": 16,
        "endLine": 25,
        "endChar": 50
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ec831bb_8b018081",
        "filename": "tests/test_util.c",
        "patchSetId": 4
      },
      "lineNbr": 25,
      "author": {
        "id": 1547233
      },
      "writtenOn": "2022-07-08T10:07:57Z",
      "side": 1,
      "message": "but if this flag isn\u0027t set, vb2_set_boot_mode won\u0027t set boot mode to manual recovery mode unless I set VB2_CONTEXT_FORCE_RECOVERY_MODE and VB2_CONTEXT_EC_TRUSTED.",
      "parentUuid": "e0325211_464c474a",
      "range": {
        "startLine": 25,
        "startChar": 16,
        "endLine": 25,
        "endChar": 50
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ceb3a9e5_f669ea1a",
        "filename": "tests/test_util.c",
        "patchSetId": 4
      },
      "lineNbr": 25,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-09T06:18:39Z",
      "side": 1,
      "message": "Yes, setting `VB2_CONTEXT_FORCE_RECOVERY_MODE` and `VB2_CONTEXT_EC_TRUSTED` is the normal path when the user requests recovery manually, by pressing the 3-key combo.",
      "parentUuid": "6ec831bb_8b018081",
      "range": {
        "startLine": 25,
        "startChar": 16,
        "endLine": 25,
        "endChar": 50
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67212d0d_a7f6b972",
        "filename": "tests/test_util.c",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-08T08:54:53Z",
      "side": 1,
      "message": "TEST_TRUE(0) here\n\nThen we can rename expect_boot_mode to boot_mode.",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 41,
        "endChar": 61
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c876eecd_9278f87b",
        "filename": "tests/test_util.c",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1547233
      },
      "writtenOn": "2022-07-08T10:07:57Z",
      "side": 1,
      "message": "When we test phase2, we want to set boot mode to VB2_BOOT_MODE_UNDEFINED, but vb2_set_boot_mode never set ctx-\u003eboot_mode to VB2_BOOT_MODE_UNDEFINED. I haven\u0027t had any better solution for this.",
      "parentUuid": "67212d0d_a7f6b972",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 41,
        "endChar": 61
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07a345a5_33cbd6ee",
        "filename": "tests/test_util.c",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-09T06:18:39Z",
      "side": 1,
      "message": "If `vb2_set_boot_mode` is never called, then the boot mode will be UNDEFINED.",
      "parentUuid": "c876eecd_9278f87b",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 41,
        "endChar": 61
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "790ba374_24179188",
        "filename": "tests/test_util.h",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-08T08:54:53Z",
      "side": 1,
      "message": "How about tests/common/boot_mode.h? And move test_common.h to tests/common/tests.h?",
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f2e8cd6_8b904c52",
        "filename": "tests/test_util.h",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-08T08:56:00Z",
      "side": 1,
      "message": "Or under tests/utils/.",
      "parentUuid": "790ba374_24179188",
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "329534f8_a5519d9e",
        "filename": "tests/test_util.h",
        "patchSetId": 4
      },
      "lineNbr": 9,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-08T08:54:53Z",
      "side": 1,
      "message": "Add comments to explain how this function is expected to be called.",
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8b9f597_3c3c109f",
        "filename": "tests/vb2_kernel_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 91,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-08T08:54:53Z",
      "side": 1,
      "message": "No need for this, since the whole `workbuf` (which contains `ctx`, which contains `boot_mode`) has been reset above.",
      "range": {
        "startLine": 90,
        "startChar": 1,
        "endLine": 91,
        "endChar": 48
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33f1144e_673140b8",
        "filename": "tests/vb2_kernel_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 91,
      "author": {
        "id": 1547233
      },
      "writtenOn": "2022-07-08T10:07:57Z",
      "side": 1,
      "message": "Does we ensure VB2_BOOT_MODE_UNDEFINED \u003d 0? If not, we might set boot mode to a random mode unexpectedly.",
      "parentUuid": "e8b9f597_3c3c109f",
      "range": {
        "startLine": 90,
        "startChar": 1,
        "endLine": 91,
        "endChar": 48
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cad31978_cfb25f8e",
        "filename": "tests/vb2_kernel_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 91,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-09T06:18:39Z",
      "side": 1,
      "message": "Yes, `vb2api_init` sets `sd` to zeros, which contains `ctx`, which contains `boot_mode`. For the same reason, `ctx-\u003eflags` should all be zeros after `vb2api_init`.",
      "parentUuid": "33f1144e_673140b8",
      "range": {
        "startLine": 90,
        "startChar": 1,
        "endLine": 91,
        "endChar": 48
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af8d34e7_56ba83a8",
        "filename": "tests/vb2_kernel_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 91,
      "author": {
        "id": 1547233
      },
      "writtenOn": "2022-07-09T10:55:01Z",
      "side": 1,
      "message": "I mean when we add another mode in future, will we still ensure VB2_BOOT_MODE_UNDEFINED \u003d 0?",
      "parentUuid": "cad31978_cfb25f8e",
      "range": {
        "startLine": 90,
        "startChar": 1,
        "endLine": 91,
        "endChar": 48
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82590f7b_600e926b",
        "filename": "tests/vb2_kernel_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 91,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-10T04:59:06Z",
      "side": 1,
      "message": "Yes, I think we do",
      "parentUuid": "af8d34e7_56ba83a8",
      "range": {
        "startLine": 90,
        "startChar": 1,
        "endLine": 91,
        "endChar": 48
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9e1551c_814fe763",
        "filename": "tests/vb2_kernel_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 193,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-08T08:54:53Z",
      "side": 1,
      "message": "We can add a variadic macro `SET_BOOT_MODE()` in the header file, which could take either 2 or 3 arguments, where `SET_BOOT_MODE(x, y)` is equivalent to `SET_BOOT_MODE(x, y, 0)`. Take a look at the `VB2_TRY` macro as an example.",
      "range": {
        "startLine": 193,
        "startChar": 1,
        "endLine": 193,
        "endChar": 14
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf7a7ca9_60eab3f9",
        "filename": "tests/vb2_misc_tests.c",
        "patchSetId": 4
      },
      "lineNbr": 672,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2022-07-08T08:54:53Z",
      "side": 1,
      "message": "ignored",
      "range": {
        "startLine": 672,
        "startChar": 47,
        "endLine": 672,
        "endChar": 54
      },
      "revId": "56e06d13bc19c28661646d6854e6e83b2b63e6b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
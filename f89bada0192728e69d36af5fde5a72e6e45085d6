{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1f825dc9_0b52d945",
        "filename": "Makefile",
        "patchSetId": 5
      },
      "lineNbr": 664,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2021-12-23T06:11:07Z",
      "side": 1,
      "message": "This should be\n\n ifneq ($(filter-out 0,${USE_FLASHROM}),)",
      "revId": "f89bada0192728e69d36af5fde5a72e6e45085d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49d56105_8b16c39f",
        "filename": "Makefile",
        "patchSetId": 5
      },
      "lineNbr": 664,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2021-12-23T07:00:53Z",
      "side": 1,
      "message": "Verified both with coreboot-sdk docker.\n\nYu-ping\u0027s fix is the correct one. With this CL + Yu-ping\u0027s fix, coreboot-sdk could build futility without libflashrom.",
      "parentUuid": "1f825dc9_0b52d945",
      "revId": "f89bada0192728e69d36af5fde5a72e6e45085d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e795a34d_063367da",
        "filename": "Makefile",
        "patchSetId": 5
      },
      "lineNbr": 664,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2021-12-23T07:30:23Z",
      "side": 1,
      "message": "No, what you want is for USE_FLASHROM\u003d0 on the coreboot side. This side is correct or we are changing in tree behavior. Thanks for testing and the review, can you please valid as above?",
      "parentUuid": "49d56105_8b16c39f",
      "revId": "f89bada0192728e69d36af5fde5a72e6e45085d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5024143a_1826ab24",
        "filename": "Makefile",
        "patchSetId": 5
      },
      "lineNbr": 664,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2021-12-23T07:56:37Z",
      "side": 1,
      "message": "For all the other options in this file, passing an empty string means disabling it. Yes, my suggestion above would change the behavior, but that could be solved by adding USE_FLASHROM\u003d1 in vboot ebuild. Alternatively, we could revert the option as NO_FLASHROM (so that flashrom would be enabled by default, if that\u0027s what you want).",
      "parentUuid": "e795a34d_063367da",
      "revId": "f89bada0192728e69d36af5fde5a72e6e45085d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1414110_6f694f56",
        "filename": "Makefile",
        "patchSetId": 5
      },
      "lineNbr": 664,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2021-12-23T13:03:01Z",
      "side": 1,
      "message": "I don\u0027t know I follow. The change of behavior that is actually required here *is* on coreboot\u0027s side and therefore a explicit `USE_FLASHROM\u003d0` is required there.\n\nHere is my reasoning,\n\nWe certainly can add an explicit `USE_FLASHROM\u003d1` in the ebuild. However that would be the default state. The string name is irreverent to the fact there is three possible states, true, false or undefined. I rather a pure boolean state of defined as default to true, which is the current behavior, and let coreboot special case since it *is* the special case after all.",
      "parentUuid": "5024143a_1826ab24",
      "revId": "f89bada0192728e69d36af5fde5a72e6e45085d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad6e2e4e_5f39eb04",
        "filename": "Makefile",
        "patchSetId": 5
      },
      "lineNbr": 664,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2021-12-24T01:58:27Z",
      "side": 1,
      "message": "The corresponding coreboot change is here https://review.coreboot.org/c/coreboot/+/60236",
      "parentUuid": "e1414110_6f694f56",
      "revId": "f89bada0192728e69d36af5fde5a72e6e45085d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67db1a36_44df68e1",
        "filename": "Makefile",
        "patchSetId": 5
      },
      "lineNbr": 664,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2021-12-24T04:02:04Z",
      "side": 1,
      "message": "Thanks for creating the coreboot patch.\n\nI\u0027m still not quite convinced of the usage of \u0027filter-out 1\u0027 here. Let me make myself a little bit clearer. My point is all about consistency for all vboot options (such as TPM2_MODE, EC_EFS). All of them are currently parsed with \u0027filter-out 0\u0027. I wouldn\u0027t interpret that as a tri-state variable. Instead, anything other than 0 will be treated like 1 (enable). For example, depthcharge is passing \u0027y\u0027 to enable an option. I think we\u0027d like to keep it that way for all make variables in this file for consistency.\n\nIf you want the default to be true, we could simply add\n\n USE_FLASHROM ?\u003d 1\n\nthen follow my suggestion of using \u0027filter-out 0\u0027. What do you think?",
      "parentUuid": "ad6e2e4e_5f39eb04",
      "revId": "f89bada0192728e69d36af5fde5a72e6e45085d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f5e5350_45530ccb",
        "filename": "Makefile",
        "patchSetId": 5
      },
      "lineNbr": 664,
      "author": {
        "id": 1314079
      },
      "writtenOn": "2021-12-24T09:58:29Z",
      "side": 1,
      "message": "`USE_FLASHROM ?\u003d 1` seems like a reasonable suggestion to align your take on it. Fixed.",
      "parentUuid": "67db1a36_44df68e1",
      "revId": "f89bada0192728e69d36af5fde5a72e6e45085d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92ac4110_1e4bcb22",
        "filename": "Makefile",
        "patchSetId": 5
      },
      "lineNbr": 664,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2021-12-30T18:12:56Z",
      "side": 1,
      "message": "Sorry for being late to the party here, but I don\u0027t think this was the right decision. Like Yu-Ping said we\u0027re trying to standardize how make command line options passed to vboot behave, and the standard for all the others is that not passing them at all means no. It doesn\u0027t matter whether you implement it via USE_FLASHROM ?\u003d 1 or `filter-out 1` or whatever, those are all just different ways to implement the same behavior, but the problem is that the behavior is inconsistent with other options and not what we want.\n\nWe should add USE_FLASHROM\u003d1 to the ebuild and then update this to match the other options.",
      "parentUuid": "1f5e5350_45530ccb",
      "revId": "f89bada0192728e69d36af5fde5a72e6e45085d6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "7076ae34_5bf9c452",
        "filename": "tests/vboot_api_kernel4_tests.c",
        "patchSetId": 1
      },
      "lineNbr": 173,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-08-04T08:03:09Z",
      "side": 1,
      "message": "We might want to just go ahead and distinguish between these two functions (manual_recovery_menu and broken_recovery_menu) to check for vbboot_retval -3 and -4.  Then we can distinguish in the unit tests below.\n\n(No need to worry about all the VbBootWhatever since they\u0027re going to be removed soon.)",
      "range": {
        "startLine": 173,
        "startChar": 0,
        "endLine": 173,
        "endChar": 20
      },
      "revId": "f89e6de0f6ddaf4b95f877c9e1ffe778ae8d1f39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76333abc_bdb95900",
        "filename": "tests/vboot_api_kernel4_tests.c",
        "patchSetId": 1
      },
      "lineNbr": 173,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-08-05T05:10:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7076ae34_5bf9c452",
      "range": {
        "startLine": 173,
        "startChar": 0,
        "endLine": 173,
        "endChar": 20
      },
      "revId": "f89e6de0f6ddaf4b95f877c9e1ffe778ae8d1f39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c67cdc2b_c08e006f",
        "filename": "tests/vboot_api_kernel4_tests.c",
        "patchSetId": 1
      },
      "lineNbr": 173,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-08-05T10:54:28Z",
      "side": 1,
      "message": "Hmm... the code looks a bit overly complex now.  What do you think about unraveling it a bit, especially in light of the upcoming legacy UI deprecation?  Maybe something like:\n\n  rec_check()\n    TEST_EQ(current_recovery_reason...)\n    TEST_TRUE(commit_data_called...)\n\n  vb2_manual_recovery_menu()\n    rec_check()\n    if (vbboot_retval \u003d\u003d -3)\n      return VB2_ERROR_MOCK\n\n  vb2_broken_recovery_menu()\n    rec_check()\n    if (vbboot_retval \u003d\u003d -4)\n      return VB2_ERROR_MOCK\n\n  VbBootRecoveryLegacyClamshell()\n    rec_check()\n    if (vbboot_retval \u003d\u003d -3 || vbboot_retval \u003d\u003d -4)\n      return VB2_ERROR_MOCK\n\n  VbBootRecoveryLegacyMenu()\n    rec_check()\n    if (vbboot_retval \u003d\u003d -3 || vbboot_retval \u003d\u003d -4)\n      return VB2_ERROR_MOCK",
      "parentUuid": "76333abc_bdb95900",
      "range": {
        "startLine": 173,
        "startChar": 0,
        "endLine": 173,
        "endChar": 20
      },
      "revId": "f89e6de0f6ddaf4b95f877c9e1ffe778ae8d1f39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "521aa083_0d4f72a9",
        "filename": "tests/vboot_api_kernel4_tests.c",
        "patchSetId": 1
      },
      "lineNbr": 354,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-08-04T06:52:26Z",
      "side": 1,
      "message": "For MENU_UI\u003d1, should we add checks about which entries we selected?\n(Since we move the logic about selecting the BROKEN/manual entries into VbSelectAndLoadKernel() in MENU_UI.)\n\nOr should we add that in separate CL?",
      "range": {
        "startLine": 341,
        "startChar": 0,
        "endLine": 354,
        "endChar": 48
      },
      "revId": "f89e6de0f6ddaf4b95f877c9e1ffe778ae8d1f39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b757ff9_bbd298c9",
        "filename": "tests/vboot_api_kernel4_tests.c",
        "patchSetId": 1
      },
      "lineNbr": 354,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-08-05T05:10:51Z",
      "side": 1,
      "message": "I intend to only fix test failure in this CL.",
      "parentUuid": "521aa083_0d4f72a9",
      "range": {
        "startLine": 341,
        "startChar": 0,
        "endLine": 354,
        "endChar": 48
      },
      "revId": "f89e6de0f6ddaf4b95f877c9e1ffe778ae8d1f39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22849ad1_e62a0afa",
        "filename": "tests/vboot_api_kernel4_tests.c",
        "patchSetId": 1
      },
      "lineNbr": 354,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-08-05T09:51:18Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "2b757ff9_bbd298c9",
      "range": {
        "startLine": 341,
        "startChar": 0,
        "endLine": 354,
        "endChar": 48
      },
      "revId": "f89e6de0f6ddaf4b95f877c9e1ffe778ae8d1f39",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
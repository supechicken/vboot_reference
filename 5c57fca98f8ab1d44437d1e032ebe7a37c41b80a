{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ec4cf9f6_35b94888",
        "filename": "firmware/2lib/2kernel.c",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-07-01T00:59:16Z",
      "side": 1,
      "message": "I still don\u0027t think the commit needs to be here anymore? This can really just be a one liner, just set it to 0, no need to even read it first.",
      "revId": "5c57fca98f8ab1d44437d1e032ebe7a37c41b80a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2a4aa10_5899770e",
        "filename": "firmware/2lib/2kernel.c",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-01T03:26:08Z",
      "side": 1,
      "message": "IIUC, the commit will happen only if we leave depthcharge normally.\n\nCurrently, we did not leave normally during FAFT (*1) because we want to preserve cbmem console log (*2) so changing this to one-line will result in failures of FAFT and we cannot change it now.\n\n(*1): https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/third_party/autotest/files/server/cros/faft/utils/menu_mode_switcher.py;l\u003d389\n(*2): b/190026346, but TBH I am not actively working on refining MiniDiag FAFT now...\n\n\n\nWhat about (a) adding an TODO(roccochen) to me now and let\u0027s see how to change the FAFT or (b) move the commit back to case DIAGNOSTICS",
      "parentUuid": "ec4cf9f6_35b94888",
      "revId": "5c57fca98f8ab1d44437d1e032ebe7a37c41b80a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c12ee5f_7adcc586",
        "filename": "firmware/2lib/2kernel.c",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-07-02T02:02:56Z",
      "side": 1,
      "message": "Ah, okay, that may be the reason then. IIRC the reason why FAFT doesn\u0027t properly shut down there is because you wanted to do the CBMEM console parsing when it comes back up, right? Did you actually end up doing that now?\n\nIf we leave this here for FAFT please put a comment explaining that, or I\u0027ll be asking again in a few years. ^^",
      "parentUuid": "c2a4aa10_5899770e",
      "revId": "5c57fca98f8ab1d44437d1e032ebe7a37c41b80a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8076c21_84426d9b",
        "filename": "firmware/2lib/2kernel.c",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-04T03:20:52Z",
      "side": 1,
      "message": "\u003e IRC the reason why FAFT doesn\u0027t properly shut down there is because you wanted to do the CBMEM console parsing when it comes back up\n\nYes\n\n\u003e Did you actually end up doing that now?\n\nNo, and actually it is not a high priority task now.\n\n\u003e If we leave this here for FAFT please put a comment explaining that, or I\u0027ll be asking again in a few years. ^^\n\nSure, @yuanhsinte, please add some comments here (before commit data?)\n\n```\nAccording to current FAFT desig, we need an AP reset after MiniDiag test items to preserve the CBMEM console logs. So we need to commit nvdata immediately to prevent the reboot loop of VB2_BOOT_MODE_DIAGNOSTICS in FAFT: firmware_MiniDiag. \n```",
      "parentUuid": "6c12ee5f_7adcc586",
      "revId": "5c57fca98f8ab1d44437d1e032ebe7a37c41b80a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e3b8adee_16d84644",
        "filename": "firmware/2lib/2kernel.c",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1547233
      },
      "writtenOn": "2022-07-04T03:44:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b8076c21_84426d9b",
      "revId": "5c57fca98f8ab1d44437d1e032ebe7a37c41b80a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7d7325b6_e12a67a2",
        "filename": "firmware/2lib/2kernel.c",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2022-07-08T00:38:18Z",
      "side": 1,
      "message": "\u003e No, and actually it is not a high priority task now.\n\nDoes that mean we\u0027re still going to get around to it eventually, or it is most likely going to be forgotten about? Because we don\u0027t need to keep carrying code around here to enable a use case that we\u0027ll never actually have.",
      "parentUuid": "e3b8adee_16d84644",
      "revId": "5c57fca98f8ab1d44437d1e032ebe7a37c41b80a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7ed9846_d7b42ea4",
        "filename": "firmware/2lib/2kernel.c",
        "patchSetId": 3
      },
      "lineNbr": 252,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-07-11T07:57:51Z",
      "side": 1,
      "message": "\u003e Because we don\u0027t need to keep carrying code around here to enable a use case that we\u0027ll never actually have.\n\nYes, I agree with that. We\u0027ll revisit this. If it seems that we are not going to work on i, I\u0027ll take care of (1) removing this if-clause (2) chage FAFT tests to use poweroff + poweron instead",
      "parentUuid": "7d7325b6_e12a67a2",
      "revId": "5c57fca98f8ab1d44437d1e032ebe7a37c41b80a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f26cccc_6c504f22",
        "filename": "tests/vboot_api_kernel4_tests.c",
        "patchSetId": 3
      },
      "lineNbr": 253,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-06-30T10:27:27Z",
      "side": 1,
      "message": "Should we set vbboot_retval \u003d -1; and test if booting to normal mode now?",
      "revId": "5c57fca98f8ab1d44437d1e032ebe7a37c41b80a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f113c27_574b1727",
        "filename": "tests/vboot_api_kernel4_tests.c",
        "patchSetId": 3
      },
      "lineNbr": 253,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2022-06-30T10:35:56Z",
      "side": 1,
      "message": "Since normal boot should be tested in #237 and sufficient, no test vbboot_retval seems also reasonable.\n\nResolve this.\n\n(And we are going to refactor this afterall",
      "parentUuid": "2f26cccc_6c504f22",
      "revId": "5c57fca98f8ab1d44437d1e032ebe7a37c41b80a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
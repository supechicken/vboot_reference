{
  "comments": [
    {
      "key": {
        "uuid": "ec04bfe3_4e15e121",
        "filename": "Makefile",
        "patchSetId": 2
      },
      "lineNbr": 247,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-15T18:04:35Z",
      "side": 1,
      "message": "What is this gonna pass, exactly? Shouldn\u0027t we write this in a way that the extra flags only get used when BUILD_FUZZER is enabled?",
      "revId": "1af7b3b40d6275d6935b2778c7011c83f8384ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1daa6d80_cfffeb16",
        "filename": "Makefile",
        "patchSetId": 2
      },
      "lineNbr": 247,
      "author": {
        "id": 1135824
      },
      "writtenOn": "2019-10-15T19:23:51Z",
      "side": 1,
      "message": "You\u0027re right, but that wouldn\u0027t make sense for a generic EXTRA_CFLAGS variable as I had intended where the ebuild decides what it includes. In thee current design of the Makefile, the assumption is that the Makefile makes these decisions, so it was probably ill-advised to move some of this into the ebuild.\n\nI\u0027ve now changed this to pass a dedicated FUZZ_FLAGS variable so it\u0027s clear on either side what it is supposed to carry.",
      "parentUuid": "ec04bfe3_4e15e121",
      "revId": "1af7b3b40d6275d6935b2778c7011c83f8384ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0e1ef7_b4d27191",
        "filename": "Makefile",
        "patchSetId": 2
      },
      "lineNbr": 247,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-15T22:09:12Z",
      "side": 1,
      "message": "Well, my main concern was whether this is really empty when not building for fuzzing, since it wasn\u0027t really clear to me in the ebuild what sanitizers-setup-env does. But I followed it up now and it looks fine, so I guess we can do this (but then we could call it EXTRA_CFLAGS too, doesn\u0027t really matter...).",
      "parentUuid": "1daa6d80_cfffeb16",
      "revId": "1af7b3b40d6275d6935b2778c7011c83f8384ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "253405fa_f997f594",
        "filename": "Makefile",
        "patchSetId": 2
      },
      "lineNbr": 785,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2019-10-15T18:04:35Z",
      "side": 1,
      "message": "I feel like this may be a bit clearer if FUZZ_TEST_NAMES always contained all the names, and BUILD_FUZZER is instead used to decide whether the fuzzers target is a dependency of host_stuff?",
      "revId": "1af7b3b40d6275d6935b2778c7011c83f8384ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fa7c309_51d9235e",
        "filename": "Makefile",
        "patchSetId": 2
      },
      "lineNbr": 785,
      "author": {
        "id": 1135824
      },
      "writtenOn": "2019-10-15T19:23:51Z",
      "side": 1,
      "message": "That\u0027s right. And thanks for bringing up that point since it made me realize there is no reason to only build the fuzzer in the fuzzing configuration. Instead, we can build it unconditionally, and doing so makes sure that refactorings will adjust it when necessary since you\u0027ll see compile failures also in a regular build.",
      "parentUuid": "253405fa_f997f594",
      "revId": "1af7b3b40d6275d6935b2778c7011c83f8384ceb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
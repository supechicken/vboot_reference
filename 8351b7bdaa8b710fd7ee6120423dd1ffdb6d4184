{
  "comments": [
    {
      "key": {
        "uuid": "beb0e875_4b1b11cc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 16,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-05T10:07:33Z",
      "side": 1,
      "message": "separate",
      "range": {
        "startLine": 16,
        "startChar": 56,
        "endLine": 16,
        "endChar": 64
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e93aacb_79c735d6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 16,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-05T10:27:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "beb0e875_4b1b11cc",
      "range": {
        "startLine": 16,
        "startChar": 56,
        "endLine": 16,
        "endChar": 64
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5e247dd_bf0d858c",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1113,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-05T10:07:33Z",
      "side": 1,
      "message": "There\u0027s no concept of \"extra\" screens, so let\u0027s just write \"Screens for vb2_ui_state.\"",
      "range": {
        "startLine": 1113,
        "startChar": 15,
        "endLine": 1113,
        "endChar": 22
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8b14f18_5cde9649",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1113,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-05T10:27:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a5e247dd_bf0d858c",
      "range": {
        "startLine": 1113,
        "startChar": 15,
        "endLine": 1113,
        "endChar": 22
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55653660_70d5f0e3",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1115,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-05T10:07:33Z",
      "side": 1,
      "message": "Might be good to just specify \"black\" here.",
      "range": {
        "startLine": 1115,
        "startChar": 10,
        "endLine": 1115,
        "endChar": 17
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bf06a52_71a347e9",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1115,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-05T10:27:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "55653660_70d5f0e3",
      "range": {
        "startLine": 1115,
        "startChar": 10,
        "endLine": 1115,
        "endChar": 17
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "830d5f88_ac64b922",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1120,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-05T10:07:33Z",
      "side": 1,
      "message": "@Yu-Ping, my memory is failing me here, but I just wanted to confirm...\n\nWhat are the use cases for which using a struct here rather than separate function arguments simplifies things?\n\nWas that the \"number of pages\" / \"total pages\" issue for the BIOS log screen?  (i.e. disabling buttons accordingly when reaching the bottom or top).\n\nWere there any others?",
      "range": {
        "startLine": 1120,
        "startChar": 7,
        "endLine": 1120,
        "endChar": 19
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95bed0e6_848c3c79",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1120,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-05T10:27:17Z",
      "side": 1,
      "message": "I think it is because we have to store previous UI state in depthcharge?\nIt will be simple if we have \u0027state\u0027 and \u0027prev_state\u0027.\n(for prevent unnecessary redraw)",
      "parentUuid": "830d5f88_ac64b922",
      "range": {
        "startLine": 1120,
        "startChar": 7,
        "endLine": 1120,
        "endChar": 19
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b33d28e6_663efd88",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1120,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-05T10:33:39Z",
      "side": 1,
      "message": "Let me quote Joel\u0027s comment in https://chromium-review.googlesource.com/c/chromiumos/platform/depthcharge/+/2043102/2/src/vboot/screens.h#45\n\n\u003e I was also wondering if it would make sense to create a \"screen state\" struct to share in between vboot_reference and depthcharge, which might simplify some of the issues we had discussed before (knowing what page number we are on, etc.).",
      "parentUuid": "95bed0e6_848c3c79",
      "range": {
        "startLine": 1120,
        "startChar": 7,
        "endLine": 1120,
        "endChar": 19
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b17bf2f8_664f325f",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1120,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-05T10:42:06Z",
      "side": 1,
      "message": "Thanks for digging that up (\u003d\nI\u0027m still a bit worried that this is going to turn out really awkward, if both sides are updating the state depending on implementation details like where the data is retrieved from (e.g. vboot_reference for debug page, depthcharge for BIOS logs page).",
      "parentUuid": "b33d28e6_663efd88",
      "range": {
        "startLine": 1120,
        "startChar": 7,
        "endLine": 1120,
        "endChar": 19
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b68d739d_03fab6ec",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1120,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-03-06T07:37:14Z",
      "side": 1,
      "message": "In my mind, depthcharge shoudn\u0027t update the state passed from vboot (see the signature of vb2ex_display_ui(), where the argument is const). The state only serves as a collection of parameters controlling what should be displayed on the screen.\n\nAbout the pages, here\u0027s my plan for the BIOS log screen.\n- By calling vb2ex_init_screen() from vboot when entering the BIOS log screen, depthcharge initializes the BIOS log buffer, calculates the number of pages and return it to vboot.\n- Knowing the current page and the total number of pages, vboot decides which buttons should be hidden and passes this information to depthcharge as part of the *state*.\n- depthcharge draws the screen based on only the state and the initialized BIOS log buffer.\n- On leaving the screen, vboot calls vb2ex_free_screen() and depthcharge frees the buffer.",
      "parentUuid": "b17bf2f8_664f325f",
      "range": {
        "startLine": 1120,
        "startChar": 7,
        "endLine": 1120,
        "endChar": 19
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7607d40a_09e5f533",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1120,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-06T08:03:40Z",
      "side": 1,
      "message": "After offline discussion -- given that we will not be allowing depthcharge to change the UI state -- we can just specify these as arguments to vb2ex_display_ui() directly.\n\nIf we want to make a union\u0027d struct for specific screens, that\u0027s fine.  For example:\n\n  struct vb2_ui_data {\n    union {\n      vb2_ui_rma_data rma_data;\n      vb2_scroll_data scroll_data;\n    }\n  }\n\nWhere rma_data contains the serial number typed in, and scroll_data contains the total number of pages, current page, etc.",
      "parentUuid": "b68d739d_03fab6ec",
      "range": {
        "startLine": 1120,
        "startChar": 7,
        "endLine": 1120,
        "endChar": 19
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "539cf38f_bc2d90eb",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1122,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-05T10:07:33Z",
      "side": 1,
      "message": "Is there any harm in making this of type enum vb2_screen directly?",
      "range": {
        "startLine": 1122,
        "startChar": 1,
        "endLine": 1122,
        "endChar": 40
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f526d0a5_a319e4da",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 4
      },
      "lineNbr": 1122,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-05T10:27:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "539cf38f_bc2d90eb",
      "range": {
        "startLine": 1122,
        "startChar": 1,
        "endLine": 1122,
        "endChar": 40
      },
      "revId": "8351b7bdaa8b710fd7ee6120423dd1ffdb6d4184",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
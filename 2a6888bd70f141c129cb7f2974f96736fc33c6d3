{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f48d17b1_59cfa60e",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2023-04-15T00:59:18Z",
      "side": 1,
      "message": "I think it would be better to just add ${CPPFLAGS} here. It\u0027s a small deduplication, and more importantly I would be worried about affecting firmware builds. The whole flags stuff in here is a bit of a mess, but in general the way it works in practice is that all the firmware builds directly pass CFLAGS\u003d... in which override all of this, and COMMON_FLAGS only really affect userland builds. For a firmware build, I don\u0027t think we want to risk a stray CPPFLAGS variable that was defined on the build host for some reason to suddenly start affecting firmware when it previously did not.",
      "revId": "2a6888bd70f141c129cb7f2974f96736fc33c6d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9d0caf8e_c926fc28",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-04-17T03:15:24Z",
      "side": 1,
      "message": "Fair enough. BTW our firmware code isn\u0027t using `assert()` (only `VB2_ASSERT`). Therefore `NDEBUG` shouldn\u0027t affect firmware build in practice.",
      "parentUuid": "f48d17b1_59cfa60e",
      "revId": "2a6888bd70f141c129cb7f2974f96736fc33c6d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c9510a8f_3e14a268",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2023-04-18T22:18:43Z",
      "side": 1,
      "message": "I know, I\u0027m not so much worried about NDEBUG but whatever else might be in those variables. The coreboot build system is designed so that existing environment variables shouldn\u0027t influence how the firmware output is built, but this would break that, that\u0027s what I want to avoid.",
      "parentUuid": "9d0caf8e_c926fc28",
      "revId": "2a6888bd70f141c129cb7f2974f96736fc33c6d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16c8fcf8_dc4c54ef",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 179,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2023-04-15T00:59:18Z",
      "side": 1,
      "message": "Do we still need this if we\u0027re just saying it should be passed via CPPFLAGS now?",
      "revId": "2a6888bd70f141c129cb7f2974f96736fc33c6d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5f5ae57_b09fe1ea",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 179,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2023-04-17T03:15:24Z",
      "side": 1,
      "message": "No strong opinion, but this could be useful when building hostlib with `make hostlib NDEBUG\u003d1`.",
      "parentUuid": "16c8fcf8_dc4c54ef",
      "revId": "2a6888bd70f141c129cb7f2974f96736fc33c6d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "22970c46_6e07ccf7",
        "filename": "Makefile",
        "patchSetId": 1
      },
      "lineNbr": 179,
      "author": {
        "id": 1002133
      },
      "writtenOn": "2023-04-18T22:18:43Z",
      "side": 1,
      "message": "Yeah but you could just use `make hostlib CPPFLAGS\u003d\u0027-DNDEBUG\u0027`, right?",
      "parentUuid": "d5f5ae57_b09fe1ea",
      "revId": "2a6888bd70f141c129cb7f2974f96736fc33c6d3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
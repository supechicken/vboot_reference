{
  "comments": [
    {
      "key": {
        "uuid": "165cbddd_f50365c1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1260470
      },
      "writtenOn": "2020-09-09T15:06:14Z",
      "side": 1,
      "message": "Is there any value to having this be a command line flag rather than a compile time option? I guess not if the firmware always does the ME region sync. (Do GBB flags turn off the ME region sync?)",
      "revId": "7a231eb62aae99f9f43318fb6f0b4b7f200be665",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15ac064a_26d64136",
        "filename": "futility/updater.c",
        "patchSetId": 1
      },
      "lineNbr": 514,
      "author": {
        "id": 1003000
      },
      "writtenOn": "2020-09-09T17:39:23Z",
      "side": 1,
      "message": "Can we not use the FmapAreaHeader flags as used by other fmap sections to determine if mainboard wants to preserve this region? See preserve_fmap_sections() below. We can probably add a similar check for FMAP_AREA_PRESERVE Here instead of PRESERVE_ME_REGION and use that to determine if preserve_firmware_section needs to be called.",
      "range": {
        "startLine": 514,
        "startChar": 4,
        "endLine": 514,
        "endChar": 26
      },
      "revId": "7a231eb62aae99f9f43318fb6f0b4b7f200be665",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b28482a_e5a73821",
        "filename": "futility/updater.c",
        "patchSetId": 1
      },
      "lineNbr": 518,
      "author": {
        "id": 1003000
      },
      "writtenOn": "2020-09-09T17:39:23Z",
      "side": 1,
      "message": "I think we will have to handle the new condition differently than this:\n\n1. Section is filled with 0xff\n2. Section is not filled with 0xff, but mainboard still wants to preserve ME region\n\nIn case #1, we want to preserve both descriptor and ME region. I believe that is what FMAP_SI_ALL would be doing (BTW, before this change, we were preserving only FMAP_SI_DESC. That looks wrong? Or am I misunderstanding what was done before with the call to preserve_firmware_section with FMAP_SI_DESC?)\n\nIn case #2, we want to update descriptor, but preserve ME region only. So, it will have to be a separate case.",
      "range": {
        "startLine": 518,
        "startChar": 26,
        "endLine": 518,
        "endChar": 37
      },
      "revId": "7a231eb62aae99f9f43318fb6f0b4b7f200be665",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}
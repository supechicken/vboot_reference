{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "64f622f6_1158faed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2024-02-21T23:31:52Z",
      "side": 1,
      "message": "i don\u0027t think we should be doing one-offs like this.  i also don\u0027t see how this helps when $EDITOR is set in the shell environment to `vi`.",
      "revId": "bbc613cd89dc0ad1ea45bad32955e3f4f494eb69",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "355922dc_c9808be7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2024-02-22T00:35:20Z",
      "side": 1,
      "message": "What\u0027s the best way to change `EDITOR` based on whether `vim` is present?\n\nIt looks like `chromeos-base-9999.ebuild` installs `01editor`, which sets `EDITOR\u003d/usr/bin/vi`.\n\nDoing something like this doesn\u0027t seem to work and set `$EDITOR` correctly:\n\n`cat /etc/env.d/01editor`\n```\nif [ -f /usr/local/bin/vim ]; then\n    EDITOR\u003d/usr/local/bin/vim\nelse\n    EDITOR\u003d/usr/bin/vi\nfi\n```\n\nOverriding it in `/etc/env.d/99devinstall` by adding `EDITOR\u003d/usr/local/bin/vim` also doesn\u0027t seem to work.\n\nIt\u0027s possibly I\u0027m missing an extra step somewhere though, since `$EDITOR` is set in a few different places in `/etc`:\n\n```\nnipperkin-rev4 /etc # grep -R EDITOR\ncsh.env:setenv EDITOR \u0027/usr/bin/vi\u0027\nenv.d/01editor:EDITOR\u003d/usr/bin/vi\nprofile:export EDITOR\u003d${EDITOR:-/bin/nano}\nprofile.env:export EDITOR\u003d\u0027/usr/bin/vi\u0027\n```",
      "parentUuid": "64f622f6_1158faed",
      "revId": "bbc613cd89dc0ad1ea45bad32955e3f4f494eb69",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "993d6544_8be8c69a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2024-02-23T16:57:11Z",
      "side": 1,
      "message": "Hi Mike,\n\nAny input here?",
      "parentUuid": "355922dc_c9808be7",
      "revId": "bbc613cd89dc0ad1ea45bad32955e3f4f494eb69",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "decf0764_17720259",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2024-03-05T19:50:18Z",
      "side": 1,
      "message": "env.d files by design can only be static variables.  it isn\u0027t dynamic shell logic.  dynamic logic would have to live in /etc/profile.d/.\n\nwe should do this in chromeos-base/chromeos-base.  and prob add one for updating PAGER too instead so we can delete the mod_for_test_scripts/360setPagerLess hack.\n\nand then we delete 01editor entirely.",
      "parentUuid": "993d6544_8be8c69a",
      "revId": "bbc613cd89dc0ad1ea45bad32955e3f4f494eb69",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a959db38_1cf3ce10",
        "filename": "scripts/image_signing/make_dev_ssd.sh",
        "patchSetId": 1
      },
      "lineNbr": 259,
      "author": {
        "id": 1330845
      },
      "writtenOn": "2024-02-21T23:29:55Z",
      "side": 1,
      "message": "This should be unconditional, right?  We can probably delete the `else` below.",
      "range": {
        "startLine": 259,
        "startChar": 11,
        "endLine": 259,
        "endChar": 18
      },
      "revId": "bbc613cd89dc0ad1ea45bad32955e3f4f494eb69",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "88345f85_52a386e1",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 31,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "Could we refactor this to use snprintf with a local buffer instead of the format() macro? The macro isn\u0027t re-entrant, and using it multiple times in a single expression leads to undefined behavior. While it works here, it\u0027s a subtle trap that\u0027s best to avoid.",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 31,
        "endChar": 3
      },
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50fd135d_545adc29",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 33,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "I understand that using ASSERT() will exit(1) and this is what the existing common/tests.h helper can\u0027t provide. Could I know if it is necessary to abort the program immediately? Is there any chance to reconsider using \"TEST_EQ\" or \"TEST_TRUE\"?",
      "range": {
        "startLine": 33,
        "startChar": 8,
        "endLine": 33,
        "endChar": 14
      },
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df4e990b_8d0f1579",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 40,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "Please use do-while(0)\n```suggestion\n#define ASSERT(value)                                                                          \\\n\tdo {                                                                                      \\\n\t\tif ((value) !\u003d 1) {                                                            \\\n\t\t\tfprintf(stderr, \"FAILED: %s:%d: \" #value \": tests failed.\\n\",          \\\n\t\t\t\t__func__, __LINE__);                                           \\\n\t\t\texit(1);                                                               \\\n\t\t}                                                                              \\\n\t} while (0)\n```",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 40,
        "endChar": 2
      },
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98b1ada0_04f9e1b4",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 97,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "ASSERT(path !\u003d NULL);",
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4da3fae_0d30f0c2",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 143,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "What about calling remove(FILE_NONEXISTENT) before this?",
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ffe2defb_3a816bc7",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 222,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "Please follow the coreboot comment style https://doc.coreboot.org/contributing/coding_style.html#commenting that removing this \u0027*\u0027 for short comments",
      "range": {
        "startLine": 222,
        "startChar": 2,
        "endLine": 222,
        "endChar": 3
      },
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "421e1d8b_dadd5ce0",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 308,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "Use-after-free: Please set image2.programmer to NULL after freeing it.",
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c56f4f9_5351f9ca",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 365,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "nit: remove this \u0027*\u0027 here",
      "range": {
        "startLine": 365,
        "startChar": 2,
        "endLine": 365,
        "endChar": 3
      },
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7872d779_c1c2c8a9",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 369,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "will this cause an out-of-bounds write?",
      "range": {
        "startLine": 369,
        "startChar": 17,
        "endLine": 369,
        "endChar": 49
      },
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "763b9850_f7d8add0",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 396,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "free(data);",
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f766e71_5ae9b1ac",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 426,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "nit: Why not checking the success case first to prevent the additional reload_firmware?",
      "range": {
        "startLine": 422,
        "startChar": 0,
        "endLine": 426,
        "endChar": 53
      },
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56c0e638_906acfc0",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 493,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "what is the value range in SW_AP for prop-\u003evalue? if it is only 0/1 I\u0027d suggest using !!(mask \u0026 2)l",
      "range": {
        "startLine": 493,
        "startChar": 0,
        "endLine": 493,
        "endChar": 25
      },
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6bfa288e_4db739a7",
        "filename": "tests/futility/test_updater_utils.c",
        "patchSetId": 23
      },
      "lineNbr": 515,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2025-08-28T12:14:32Z",
      "side": 1,
      "message": "same here",
      "range": {
        "startLine": 515,
        "startChar": 0,
        "endLine": 515,
        "endChar": 25
      },
      "revId": "088935a79209999626b7b623d53b8d638af4d0c3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "f173cd33_6502e1f2",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 6
      },
      "lineNbr": 517,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": "Not saying you have to do it, but probably this should be renamed to FORCE_DEV_MODE_ON or just FORCE_DEV_MODE.",
      "range": {
        "startLine": 517,
        "startChar": 25,
        "endLine": 517,
        "endChar": 57
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f2e1d0c_a7dd5e68",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 6
      },
      "lineNbr": 517,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:20:51Z",
      "side": 1,
      "message": "Reference to other flags in gbb_flags.h, I think VB2_GBB_FLAG_FORCE_DEV_MODE is fine.\n\nSince this is a little far away from the topic (vboot: Implement dev mode boot options for menu UI), should it be another small CL?\nOr is it good to patch them here?",
      "parentUuid": "f173cd33_6502e1f2",
      "range": {
        "startLine": 517,
        "startChar": 25,
        "endLine": 517,
        "endChar": 57
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4abdc328_a6dc0f08",
        "filename": "firmware/2lib/2misc.c",
        "patchSetId": 6
      },
      "lineNbr": 517,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-12T06:52:17Z",
      "side": 1,
      "message": "Nah, that would be a separate CL which would need to change a couple different repositories:\nhttp://cs/search/?q\u003dFORCE_DEV_SWITCH_ON\u0026sq\u003dpackage:%5Echromeos_(public%7Cprivate)$\n\nYou could create a bug for this (on bugs.chromium.org) and take a look another time when you are less busy with Groot.",
      "parentUuid": "0f2e1d0c_a7dd5e68",
      "range": {
        "startLine": 517,
        "startChar": 25,
        "endLine": 517,
        "endChar": 57
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f079201f_e3856dea",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": "The below functions are all meant to do UI-related things.  Since this is the \"last-resort\" sequence to try and boot stuff, just call the appropriate \"boot\" part instead.\n\n  boot_legacy_action \u003d\u003d\u003e vb2_try_altfw(ctx, 1, VB_ALTFW_DEFAULT)\n  boot_usb_action \u003d\u003d\u003e vb2_dev_boot_usb_allowed()? VbTryLoadKernel(ctx, VB_DISK_FLAG_REMOVABLE)\n  boot_from_internal_action \u003d\u003d\u003e VbTryLoadKernel(ctx, VB_DISK_FLAG_FIXED)\n\nYou\u0027ll need to implement vb2_dev_boot_usb_allowed() in 2misc.c as well.",
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "404fff9a_7ed6ca96",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:20:51Z",
      "side": 1,
      "message": "I am not sure if my understanding is correct.\nYou mean we boot from default option directly in this CL\nand modified to actions once we have screen-related mechanism, is it rightï¼Ÿ",
      "parentUuid": "f079201f_e3856dea",
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7846f62_2ac802df",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-12T06:52:17Z",
      "side": 1,
      "message": "Not quite -- these \"actions\" are used within the menu system to attempt booting from these targets manually, but to also display UI-related things (e.g. show a message in the case of failure).\n\nBut at the end of vb2_developer_menu, we simply try to boot \"something\", and don\u0027t care about what the UI is showing.  So it doesn\u0027t really make sense to call these UI functions.  Instead, we directly try to boot from the targets, one after the other.  Does that make sense?",
      "parentUuid": "404fff9a_7ed6ca96",
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13529643_2842e8c5",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T07:23:11Z",
      "side": 1,
      "message": "Actually there are screens for those \u0027booting\u0027 like https://docs.google.com/presentation/d/1sUCPomFQiLPJApgjCUYhSGLHPCODe1je_YyPTZENz54/edit#slide\u003did.g62d02357e6_0_120\n\nFor a example, if we enter dev menu and do nothing:\n- Waiting in the main loop til timeout (not being introduced in this CL)\n- get default_boot (which is boot from internal)\n- display a screen like the about one\n- TryLoadKernel()\n\nSo the intended UI flow should draw a \u0027your device is booting...\u0027 screen in a snap.\n\n--\n\nExcept for the UI problem, I think we will eventually need these booting actions since we will reuse the \u0027try to boot\u0027 procedures.\nFor boot legacy, we can select it from altfw menu, press Ctrl+L, press 0-9, or wait til timeout. But all the above need to\n1. check dev boot allowed\n2. check altfw allowed\n3. try altfw\nand have correspond error messages to display for each step.\n(like the will-be-deprecated legacy function vb2_try_altfw() at vboot_ui_legacy_common.c)\n\nI think we should place these ui-related action in separate private header file?",
      "parentUuid": "d7846f62_2ac802df",
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e5b1942_076210c4",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": "return VB2_SUCCESS",
      "range": {
        "startLine": 69,
        "startChar": 2,
        "endLine": 69,
        "endChar": 19
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8419e56_18c96ad6",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:20:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e5b1942_076210c4",
      "range": {
        "startLine": 69,
        "startChar": 2,
        "endLine": 69,
        "endChar": 19
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab379552_fcf6aba5",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 6
      },
      "lineNbr": 74,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": "return boot_from_internal_action(ctx)",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 74,
        "endChar": 0
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d78bee0_a48cf9ea",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 6
      },
      "lineNbr": 74,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:20:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ab379552_fcf6aba5",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 74,
        "endChar": 0
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a63da8e6_72877d5d",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 215,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": ";",
      "range": {
        "startLine": 215,
        "startChar": 48,
        "endLine": 215,
        "endChar": 49
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd9dafc1_ed3a198c",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 215,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:20:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a63da8e6_72877d5d",
      "range": {
        "startLine": 215,
        "startChar": 48,
        "endLine": 215,
        "endChar": 49
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bf4eb90_f0f0bfc4",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 219,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": "Maybe just use one space here... no need to indent until the \"T\".",
      "range": {
        "startLine": 219,
        "startChar": 2,
        "endLine": 219,
        "endChar": 6
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d6d2c0e_52c7bd02",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 219,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:20:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8bf4eb90_f0f0bfc4",
      "range": {
        "startLine": 219,
        "startChar": 2,
        "endLine": 219,
        "endChar": 6
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3bb089a6_5c30fc08",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 225,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": "period",
      "range": {
        "startLine": 225,
        "startChar": 40,
        "endLine": 225,
        "endChar": 41
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12157c9e_3b1fdf32",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 225,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:20:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3bb089a6_5c30fc08",
      "range": {
        "startLine": 225,
        "startChar": 40,
        "endLine": 225,
        "endChar": 41
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c58816d3_67129bff",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 228,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": "GBB_FORCE_DEV_SWITCH_ON is not set.",
      "range": {
        "startLine": 228,
        "startChar": 3,
        "endLine": 228,
        "endChar": 25
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9843f05_9c51c7d7",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 228,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:20:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c58816d3_67129bff",
      "range": {
        "startLine": 228,
        "startChar": 3,
        "endLine": 228,
        "endChar": 25
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff6a688d_cf270d49",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 231,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": "period",
      "range": {
        "startLine": 231,
        "startChar": 38,
        "endLine": 231,
        "endChar": 39
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c29ee203_7b1fef20",
        "filename": "firmware/2lib/include/2misc.h",
        "patchSetId": 6
      },
      "lineNbr": 231,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:20:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ff6a688d_cf270d49",
      "range": {
        "startLine": 231,
        "startChar": 38,
        "endLine": 231,
        "endChar": 39
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eebaefb2_681566c7",
        "filename": "tests/vb2_misc_tests.c",
        "patchSetId": 6
      },
      "lineNbr": 803,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-03-11T10:57:35Z",
      "side": 1,
      "message": "Use a blank line between your test cases.",
      "range": {
        "startLine": 803,
        "startChar": 0,
        "endLine": 803,
        "endChar": 59
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6363fe9_070ce410",
        "filename": "tests/vb2_misc_tests.c",
        "patchSetId": 6
      },
      "lineNbr": 803,
      "author": {
        "id": 1383774
      },
      "writtenOn": "2020-03-12T06:21:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eebaefb2_681566c7",
      "range": {
        "startLine": 803,
        "startChar": 0,
        "endLine": 803,
        "endChar": 59
      },
      "revId": "df97273cc1277b3a3bf70504c611846ace8c5b68",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}
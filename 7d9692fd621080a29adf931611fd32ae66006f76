{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7fa584d0_cc43a13b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3487009
      },
      "writtenOn": "2025-03-04T19:53:01Z",
      "side": 1,
      "message": "Automatically set CQ+1 by AutoRunner. See go/chromeos-cqw:auto-runner-doc for details. \nReport Bugs/Feedback: go/cros-auto-runner-bug. \n",
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "af93563e_8955b772",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1259838
      },
      "writtenOn": "2025-03-04T20:07:07Z",
      "side": 1,
      "message": "seems okay to me",
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6cac6574_56d1b2c4",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 616,
      "author": {
        "id": 1259838
      },
      "writtenOn": "2025-03-04T20:07:07Z",
      "side": 1,
      "message": "nit: we have been calling ot `nt` externally",
      "range": {
        "startLine": 616,
        "startChar": 0,
        "endLine": 616,
        "endChar": 17
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4a4a443b_50d98c31",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 616,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2025-03-06T23:19:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6cac6574_56d1b2c4",
      "range": {
        "startLine": 616,
        "startChar": 0,
        "endLine": 616,
        "endChar": 17
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4cd6181_88cd0922",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1259838
      },
      "writtenOn": "2025-03-04T20:07:07Z",
      "side": 1,
      "message": "do we also need to update the binary/manifest to point to this location?",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b56ab55_f3a6da6a",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1259838
      },
      "writtenOn": "2025-03-06T23:54:01Z",
      "side": 1,
      "message": "?",
      "parentUuid": "a4cd6181_88cd0922",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90f62cd4_55f9b025",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2025-03-07T00:38:09Z",
      "side": 1,
      "message": "I don\u0027t understan what needs to be updated? `$tpm_signed_bin` is the  binary, its manifest is updated, what else needs to be done?",
      "parentUuid": "0b56ab55_f3a6da6a",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "444304ef_d11f1876",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1259838
      },
      "writtenOn": "2025-03-07T16:20:58Z",
      "side": 1,
      "message": "I guess the image manifest header already has the spx extension pointing to this location?",
      "parentUuid": "90f62cd4_55f9b025",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d60c027_03a28673",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2025-03-07T16:50:39Z",
      "side": 1,
      "message": "Ah, you are talking about the pointer to the SPX signature - yes, it is presumed to be already in the image manifest.\n\nThis is a good question, in fact SPX signing will require a little more handling, we will have  to add a \u0027fake\u0027 SPX signautre by opentitantool while preparing the image inside chroot so that here it can be overwritten.\n\nIn the current iteration we are adding ECDSA signagture only, I\u0027ll address the SPX case separately.",
      "parentUuid": "444304ef_d11f1876",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "947a0227_c5c7218a",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1259838
      },
      "writtenOn": "2025-03-07T17:36:38Z",
      "side": 1,
      "message": "\u003e In the current iteration we are adding ECDSA signagture only, I\u0027ll address the SPX case separately.\n\nSounds good to me, but I am a little confused as to what the plan is. Do you plan to remove this `if [[ -n ${spx_sig} ]]; then` section of the CL to do it seperately/later or what do you mean by addressing the SPX case seperately?",
      "parentUuid": "6d60c027_03a28673",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c68f9205_c0db00fd",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2025-03-07T18:28:57Z",
      "side": 1,
      "message": "I mean to be able to add SPX signature sans opentitantool in this script we will have to modify the script which prepares the image and the PAOs (c4a_sign.sh) to add a fake SPX signature to the image so that the manifest has proper extension fields, and then add the real signature here. This will also affect the calculation of the TBS size above.",
      "parentUuid": "947a0227_c5c7218a",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f633e411_b7e330f3",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1259838
      },
      "writtenOn": "2025-03-07T18:32:58Z",
      "side": 1,
      "message": "In a future CL or this CL? If a future CL, do you just want to wait to append the SPX signature at all until that CL?",
      "parentUuid": "c68f9205_c0db00fd",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04d13f2a_8a1202ff",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2025-03-07T18:42:05Z",
      "side": 1,
      "message": "The SPX handling would be added in a future CL. I feel that it is OK to keep this not functional code here because it will be used soon, but I can drop it if you prefer.",
      "parentUuid": "f633e411_b7e330f3",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e1c2405_e7921e66",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1259838
      },
      "writtenOn": "2025-03-07T18:55:03Z",
      "side": 1,
      "message": "I would prefer to drop it since it doesn\u0027t really work (or you can add a TODO or comment saying that this doesn\u0027t work as it)",
      "parentUuid": "04d13f2a_8a1202ff",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1063cf8_56d5896a",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 736,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2025-03-07T19:02:46Z",
      "side": 1,
      "message": "added a comment.",
      "parentUuid": "3e1c2405_e7921e66",
      "range": {
        "startLine": 735,
        "startChar": 0,
        "endLine": 736,
        "endChar": 31
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad4f9d77_64a1177f",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 771,
      "author": {
        "id": 1259838
      },
      "writtenOn": "2025-03-04T20:07:07Z",
      "side": 1,
      "message": "where is `hsm` defined?",
      "range": {
        "startLine": 771,
        "startChar": 25,
        "endLine": 771,
        "endChar": 28
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0557db69_c686d90d",
        "filename": "scripts/image_signing/sign_gsc_firmware.sh",
        "patchSetId": 2
      },
      "lineNbr": 771,
      "author": {
        "id": 1000039
      },
      "writtenOn": "2025-03-04T20:10:27Z",
      "side": 1,
      "message": "this whole path of HSM signing is a no go because it uses ssh, I included it origninally to check the signature addition code.\n\n`openssl_sign_firmware()` is the way to go for signing.",
      "parentUuid": "ad4f9d77_64a1177f",
      "range": {
        "startLine": 771,
        "startChar": 25,
        "endLine": 771,
        "endChar": 28
      },
      "revId": "7d9692fd621080a29adf931611fd32ae66006f76",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}
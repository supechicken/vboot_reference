{
  "comments": [
    {
      "key": {
        "uuid": "a7b0940a_b954078b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 13,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-06-18T11:55:53Z",
      "side": 1,
      "message": "Dupe?",
      "range": {
        "startLine": 13,
        "startChar": 40,
        "endLine": 13,
        "endChar": 51
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "358519fb_6fd45e83",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 7
      },
      "lineNbr": 105,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-06-18T11:55:53Z",
      "side": 1,
      "message": "There\u0027s no reason we have to put this block of code inside the menu navigation action.  I\u0027d suggest creating a new function called something like \"dialog_exit_action\".",
      "range": {
        "startLine": 105,
        "startChar": 0,
        "endLine": 105,
        "endChar": 4
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "adca763e_12863648",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 7
      },
      "lineNbr": 105,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "358519fb_6fd45e83",
      "range": {
        "startLine": 105,
        "startChar": 0,
        "endLine": 105,
        "endChar": 4
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f114b0e6_ee01630d",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 7
      },
      "lineNbr": 110,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-06-18T03:26:52Z",
      "side": 1,
      "message": "Could we only set\n\n ui.prev_error \u003d ui.error;\n\nin one place (in the while loop)?",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6cdcc162_af0463fa",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 7
      },
      "lineNbr": 110,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f114b0e6_ee01630d",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bcb46325_5dbf62ee",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 7
      },
      "lineNbr": 111,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-06-18T03:26:52Z",
      "side": 1,
      "message": "If an error happens in the screen action (ui.state.screen-\u003eaction()), which is called right before this function, then the error will be cleared right away. I\u0027d probably move this block of code to the loop after the check_shutdown_request() call.",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "022da046_1fe1364d",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 7
      },
      "lineNbr": 111,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bcb46325_5dbf62ee",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c4ddfbbb_147fafeb",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 7
      },
      "lineNbr": 268,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-06-18T11:55:53Z",
      "side": 1,
      "message": "I\u0027d suggest storing prev_error as a local function variable here similar to prev_state. This is the only place where it needs to be accessed, so it doesn\u0027t need to be in vb2_ui_context.",
      "range": {
        "startLine": 268,
        "startChar": 6,
        "endLine": 268,
        "endChar": 19
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65162003_301a4f4f",
        "filename": "firmware/2lib/2ui.c",
        "patchSetId": 7
      },
      "lineNbr": 268,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Ok...i can do this in the next change when i get the feedback from this patchset?",
      "parentUuid": "c4ddfbbb_147fafeb",
      "range": {
        "startLine": 268,
        "startChar": 6,
        "endLine": 268,
        "endChar": 19
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe652904_ebdcc7d7",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 51,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-06-18T03:26:52Z",
      "side": 1,
      "message": "Again, why do we need to set prev_error here? Isn\u0027t it already set in ui_loop()?\n\nIn the case where more than one errors occur within an iteration of the loop, keeping the first error makes more sense to me. This can be implemented simply by\n\n if (ui-\u003eerror !\u003d VB2_ERROR_NONE)\n     ui-\u003eerror \u003d error;",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1791751e_83bce780",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 51,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-06-18T11:55:53Z",
      "side": 1,
      "message": "I question whether we need this helper function at all?  Although if we want to keep the behaviour that Yu-Ping suggested (the first error takes priority), then it\u0027d probably best to keep it.  But can we move it over to 2ui.c please?",
      "parentUuid": "fe652904_ebdcc7d7",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4793ed6_942f9c3c",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 51,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done\n\nremoved error_action.  I was originally going to pack more stuff in, but ended up not needing to.",
      "parentUuid": "1791751e_83bce780",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "53815445_1ff80068",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-06-18T11:55:53Z",
      "side": 1,
      "message": "void functions don\u0027t need a return statement.",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 53,
        "endChar": 8
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4f8a8fc_b8a934f8",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "53815445_1ff80068",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 53,
        "endChar": 8
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a0b1d3d_92763a06",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 205,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-06-18T11:55:53Z",
      "side": 1,
      "message": "Bogus newline?",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee330e61_f89e2de2",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 205,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3a0b1d3d_92763a06",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d90ed125_08eb3f24",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 258,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-06-18T03:26:52Z",
      "side": 1,
      "message": "What will happen if we only set ui-\u003eerror here?",
      "range": {
        "startLine": 256,
        "startChar": 2,
        "endLine": 258,
        "endChar": 23
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74444030_43fe37fa",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 258,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-06-18T11:55:53Z",
      "side": 1,
      "message": "Didn\u0027t we move the beep to ui_loop()?",
      "range": {
        "startLine": 258,
        "startChar": 2,
        "endLine": 258,
        "endChar": 12
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4b6f371_1d9ebb92",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 258,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "74444030_43fe37fa",
      "range": {
        "startLine": 258,
        "startChar": 2,
        "endLine": 258,
        "endChar": 12
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f2aa948_0b45be3a",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 258,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d90ed125_08eb3f24",
      "range": {
        "startLine": 256,
        "startChar": 2,
        "endLine": 258,
        "endChar": 23
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19fd0002_978c9107",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 495,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-06-18T03:26:52Z",
      "side": 1,
      "message": "We decided to have an error *screen* for this, similar to RECOVERY_INVALID screen, so please leave this in this CL. See CL:2246298.",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f567d6e_92056648",
        "filename": "firmware/2lib/2ui_screens.c",
        "patchSetId": 7
      },
      "lineNbr": 495,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "19fd0002_978c9107",
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "635291bb_6bed014a",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 7
      },
      "lineNbr": 1225,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-06-18T03:26:52Z",
      "side": 1,
      "message": "We may want to rename this to vb2_ui_error to be separated from the existing enum vb2_error_t.\n\nBTW, Joel has different opinions about using an enum for the errors. Please wait for his comments before making further changes.",
      "range": {
        "startLine": 1225,
        "startChar": 5,
        "endLine": 1225,
        "endChar": 14
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2eaaf961_7d5d6eba",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 7
      },
      "lineNbr": 1225,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-06-18T11:55:53Z",
      "side": 1,
      "message": "Right.  My opinion is that if we are going to the trouble of creating an enum for errors, and spreading code across vboot and depthcharge, this is no longer serving our purpose of \"ad hoc English errors\".  Now we need to create two CLs just for adding an error message.  If we want to do this, then we may as well take it a step further and translate the error messages.  And in fact, we may as well just take advantage of our existing string display functions, and just turn each error dialog into a separate screen.\n\nIn summary, I\u0027d prefer to see either:\n\n(1) Ad hoc dialog box with an English string\n\n(2) Translated screens (or dialog boxes)",
      "parentUuid": "635291bb_6bed014a",
      "range": {
        "startLine": 1225,
        "startChar": 5,
        "endLine": 1225,
        "endChar": 14
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e9b6259_9cb4af6a",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 7
      },
      "lineNbr": 1225,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-18T17:29:42Z",
      "side": 1,
      "message": "The original design was #1, but it was brought up that it was not extendable to use with dialog boxes (future work).\n\nBTW, who\u0027s making the call on which of these to do?  Is it me?  Is it Joel?  If it\u0027s me then I prefer right now.",
      "parentUuid": "2eaaf961_7d5d6eba",
      "range": {
        "startLine": 1225,
        "startChar": 5,
        "endLine": 1225,
        "endChar": 14
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5aa37609_50cd87fc",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 7
      },
      "lineNbr": 1225,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done\n\nGoing with option 1 for now.",
      "parentUuid": "6e9b6259_9cb4af6a",
      "range": {
        "startLine": 1225,
        "startChar": 5,
        "endLine": 1225,
        "endChar": 14
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d3b38f01_a530eb90",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 7
      },
      "lineNbr": 1238,
      "author": {
        "id": 1353551
      },
      "writtenOn": "2020-06-18T03:26:52Z",
      "side": 1,
      "message": "We can define this in depthcharge if we\u0027re using the enum like this.\n\nAgain, please wait for Joel\u0027s comments.",
      "range": {
        "startLine": 1238,
        "startChar": 7,
        "endLine": 1238,
        "endChar": 21
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d10a2b71_39c949ea",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 7
      },
      "lineNbr": 1238,
      "author": {
        "id": 1126709
      },
      "writtenOn": "2020-06-18T11:55:53Z",
      "side": 1,
      "message": "Not sure what we need the struct for here.\n\nIf we\u0027re going with the enum solution, we would be simply sending an enum value as an argument in vb2ex_display_ui.\n\nIf we\u0027re going with the string solution, we would simply be sending the string as an argument in vb2ex_display_ui, plus an optional enum value (or a string) to represent the title.",
      "parentUuid": "d3b38f01_a530eb90",
      "range": {
        "startLine": 1238,
        "startChar": 7,
        "endLine": 1238,
        "endChar": 21
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f1d6df8_27ccb84e",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 7
      },
      "lineNbr": 1238,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-18T17:29:42Z",
      "side": 1,
      "message": "I don\u0027t like the string/enum mix.  Can\u0027t we just pass in the title and the body both as strings?  Or should we just not have a title and just pass in a string?  The title would only be for dialog boxes in the future.  If we are fine with just text for now I would say let\u0027s just push the dialog box extensions to later one when we decide we need them.",
      "parentUuid": "d10a2b71_39c949ea",
      "range": {
        "startLine": 1238,
        "startChar": 7,
        "endLine": 1238,
        "endChar": 21
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "107a39c9_8f786da0",
        "filename": "firmware/2lib/include/2api.h",
        "patchSetId": 7
      },
      "lineNbr": 1238,
      "author": {
        "id": 1117900
      },
      "writtenOn": "2020-06-19T09:30:53Z",
      "side": 1,
      "message": "Done\n\nEnded up implementing the error code/ string mix.",
      "parentUuid": "3f1d6df8_27ccb84e",
      "range": {
        "startLine": 1238,
        "startChar": 7,
        "endLine": 1238,
        "endChar": 21
      },
      "revId": "f9955df28940ce7e5b7cde12ffc82e95e1ee54e8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}